import{Y as U,a as wn,aa as G,c as Xi,e as Ce,sc as Qe,tc as Nn,xc as W}from"./chunk-SYEC3VQA.js";var On=Xi((Co,Zi)=>{Zi.exports={name:"bridge-designer",version:"0.1.1",scripts:{ng:"ng",start:"ng serve",prebuild:"npm --no-git-tag-version version patch",build:"ng build",watch:"ng build --watch --configuration development",test:"ng test"},private:!0,dependencies:{"@angular/animations":"^20.1.6","@angular/common":"^20.1.6","@angular/compiler":"^20.1.6","@angular/core":"^20.1.6","@angular/fire":"^20.0.1","@angular/forms":"^20.1.6","@angular/platform-browser":"^20.1.6","@angular/platform-browser-dynamic":"^20.1.6","@angular/router":"^20.1.6","@orama/orama":"^3.1.4",firebase:"^11.2.0","gl-matrix":"^3.4.3","jqwidgets-ng":"^24.0.0",jspdf:"^3.0.1","jspdf-autotable":"^5.0.2","manifold-3d":"^3.3.2",rxjs:"~7.8.0",tslib:"^2.3.0","zone.js":"~0.15.0"},devDependencies:{"@angular/build":"^20.1.5","@angular/cli":"^20.1.5","@angular/compiler-cli":"^20.1.6","@types/jasmine":"~5.1.0","@types/jquery":"^3.5.32","@types/node":"^22.15.29","jasmine-core":"^5.8.0",karma:"^6.4.4","karma-chrome-launcher":"^3.2.0","karma-coverage":"~2.2.0","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"~2.1.0",prettier:"^3.4.2",purgecss:"^7.0.2",typescript:"~5.8.3"},prettier:{arrowParens:"avoid",printWidth:120,singleQuote:!0,singleAttributePerLine:!0,proseWrap:"always"}}});var un={version:On().version,versionMod:""};var ln=class u{constructor(e,r,t,o=""){this.major=e;this.minor=r;this.build=t;this.mod=o}static fromPackageVersion(e,r){let[t,o,s]=e.split(".").map(a=>parseInt(a));return new u(t,o,s,r)}toString(){return`${this.major}.${this.minor}.${String(this.build).padStart(4,"0")}${this.mod}`}},kn=ln.fromPackageVersion(un.version,un.versionMod);var Bn="bridge-designer",dt=class u{constructor(e){this.eventBrokerService=e;new URLSearchParams(window.location.search).get("reset")!==null&&localStorage.clear(),e.sessionStateEnableToggle.subscribe(t=>{this.isEnabled=t.data!==!1}),this.register(u.SESSION_KEY,()=>this.dehydrate(),t=>this.hydrate(t),!0)}static LOCAL_STORAGE_KEY=`${Bn}.v${kn}`;static SESSION_KEY="session.service";stateAccumulator;isEnabled=!0;saveState(){this.stateAccumulator={},this.isEnabled&&this.eventBrokerService.sessionStateSaveRequest.next({origin:16,data:void 0}),this.eventBrokerService.sessionStateSaveEssentialRequest.next({origin:16,data:void 0}),this.clearSavedState(),localStorage.setItem(u.LOCAL_STORAGE_KEY,JSON.stringify(this.stateAccumulator)),sessionStorage.setItem(u.LOCAL_STORAGE_KEY,Date.now().toString()),this.stateAccumulator=void 0}get isCurrentStateReloaded(){return this.loadAccumulatorFromStorage(),!!(this.stateAccumulator&&sessionStorage.getItem(u.LOCAL_STORAGE_KEY))}get hasRestoredState(){return this.loadAccumulatorFromStorage(),this.stateAccumulator!==void 0&&this.isEnabled}getSavedState(e){return this.loadAccumulatorFromStorage(),this.stateAccumulator&&this.stateAccumulator[e]}recordState(e,r){this.stateAccumulator&&(this.stateAccumulator[e]=r)}notifyRestoreComplete(){this.loadAccumulatorFromStorage(),this.eventBrokerService.sessionStateRestoreCompletion.next({origin:16,data:void 0})}restoreSessionManagementEnabled(){this.loadAccumulatorFromStorage(),this.eventBrokerService.sessionStateEnableToggle.next({origin:16,data:this.isEnabled})}register(e,r,t,o=!1){if(!e)return;(o?this.eventBrokerService.sessionStateSaveEssentialRequest:this.eventBrokerService.sessionStateSaveRequest).subscribe(c=>this.recordState(e,r()));let a=this.getSavedState(e);a&&t(a)}loadAccumulatorFromStorage(){if(this.stateAccumulator)return;let e=localStorage.getItem(u.LOCAL_STORAGE_KEY);if(e)try{this.stateAccumulator=JSON.parse(e)}catch{this.stateAccumulator=void 0}}clearSavedState(){for(let e=0;e<localStorage.length;++e){let r=localStorage.key(e);r&&r.startsWith(Bn)&&localStorage.removeItem(r)}}dehydrate(){return{isEnabled:this.isEnabled}}hydrate(e){this.isEnabled=e.isEnabled}static \u0275fac=function(r){return new(r||u)(G(Qe))};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};var et=class{right=new or;left=new or;pushRight(e){this.right.push(e,this.left)}pushLeft(e){this.left.push(e,this.right)}popRight(){return this.right.pop(this.left)}popLeft(){return this.left.pop(this.right)}peekRight(){return this.right.peekLast(this.left)}peekLeft(){return this.left.peekLast(this.right)}clear(){this.left.data.length=this.right.data.length=this.left.base=this.right.base=0}get length(){return this.left.length+this.right.length}get fullness(){let e=this.left.data.length+this.right.data.length;return e>0?(this.left.length+this.right.length)/e:1}copyTo(e,r=this.length){e.length=0;for(let t of this){if(r--===0)break;e.push(t)}return e}[Symbol.iterator](){let e=this.left,r=this.right,t=this.left.data.length>this.left.base?-this.left.data.length:this.right.base;return{next(){if(t<0){let o=e.data[-1-t];return t=-1-t===e.base?r.base:t+1,{value:o,done:!1}}return t<r.data.length?{value:r.data[t++],done:!1}:{value:void 0,done:!0}}}}map(e){let r=[];for(let t of this)r.push(e(t));return r}},or=class{constructor(e=0,r=[]){this.base=e;this.data=r}get length(){return this.data.length-this.base}push(e,r){r.base>0?r.data[--r.base]=e:this.data.push(e)}pop(e){if(this.length>0)return this.data.pop();if(e.length>0)return e.popBase()}peekLast(e){return this.data.length>0?this.data[this.data.length-1]:e.data[e.base]}popBase(){let e=this.data[this.base++];return this.base>this.data.length/2&&(this.data.copyWithin(0,this.base,this.data.length),this.data.length-=this.base,this.base=0),e}};var be=class{constructor(e){this._description=e}get description(){return this._description}set description(e){this._description=e}do(){}undo(){}},s0=class extends be{effectsMask=0;dehydrate(e){return{tag:"placeholder"}}},te=class u{static merge(e,r,t){let o=e.length-1;e.length+=r.length;let s=e.length-1;for(let a=r.length-1;a>=0;--a){for(;s>r[a].index;)u.adjustSelected(t,o,s),e[o].index=s,e[s--]=e[o--];t.delete(s),e[s--]=r[a]}}static remove(e,r,t){let o=0,s=0;for(let a=0;a<r.length;a++){for(;o<r[a].index;)u.adjustSelected(t,o,s),e[o].index=s,e[s++]=e[o++];t.delete(o),r[a]=e[o++]}for(;o<e.length;)u.adjustSelected(t,o,s),e[o].index=s,e[s++]=e[o++];e.length-=r.length}static adjustSelected(e,r,t){t!==r&&e.has(r)&&(e.delete(r),e.add(t))}static exchange(e,r){r.swapContents(e[r.index])}static exchangeAll(e,r){r.forEach(t=>this.exchange(e,t))}};var mt=class u{constructor(e){this.eventBrokerService=e;e.undoRequest.subscribe(r=>this.undo(r.data)),e.redoRequest.subscribe(r=>this.redo(r.data)),e.loadBridgeRequest.subscribe(()=>this.clear())}static NO_EDIT_COMMAND=new s0("[no edit command]");static MAX_DONE_COUNT=1e3;done=new et;undone=new et;do(e){for(e.do(),this.done.pushLeft(e);this.done.length>u.MAX_DONE_COUNT;)this.done.popRight();this.undone.clear(),this.emitCommandCompletion("do",e.effectsMask)}get stateToken(){return this.done.peekLeft()||u.NO_EDIT_COMMAND}findStateTokenIndex(e){let r=this.done.copyTo([]),t=r.indexOf(e);if(t>=0)return t;this.undone.copyTo(r);let o=r.indexOf(e);if(o>=0)return-1-o}getStateToken(e){return e>=0?this.done.copyTo([])[e]:this.undone.copyTo([])[-1-e]}undo(e=1){let r=0;for(;e-- >0;){let t=this.done.popLeft();if(!t)return;t.undo(),r|=t.effectsMask,this.undone.pushLeft(t)}this.emitCommandCompletion("undo",r)}redo(e=1){let r=0;for(;e-- >0;){let t=this.undone.popLeft();if(!t)return;t.do(),r|=t.effectsMask,this.done.pushLeft(t)}this.emitCommandCompletion("redo",r)}emitCommandCompletion(e,r){this.eventBrokerService.editCommandCompletion.next({origin:16,data:{kind:e,effectsMask:r,doneCount:this.done.length,undoneCount:this.undone.length}})}clear(){this.done.clear(),this.undone.clear()}static \u0275fac=function(r){return new(r||u)(G(Qe))};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};var Ln=class{static CONCRETE="rgb(128, 128, 0)";static CARTOON_EARTH="rgb(220, 208, 188)";static EARTH="rgb(128, 64, 64)";static EXCAVATION="rgb(128, 64, 64)";static SKY="rgb(192, 255, 255)";static STEEL="gray";static WATER="blue";static GL_CONCRETE=new Uint8Array([128,128,128,255]);static GL_WATER=new Uint8Array([11,104,158,255]);static GL_SKY=new Uint8Array([135,206,235,255])},sr=class{constructor(e=0,r=0){this.x=e;this.y=r}set(e,r){this.x=e,this.y=r}copyFrom(e){this.x=e.x,this.y=e.y}clone(){return new Y(this.x,this.y)}},Y=class extends sr{toString(){return`Point(${this.x}, ${this.y})`}},Fn=class extends sr{toString(){return`Vector(${this.x}, ${this.y})`}},R0=class extends Y{constructor(r,t,o){super(r,t);this.tag=o}};var ht=class u{constructor(e,r,t,o){this.x0=e;this.y0=r;this.width=t;this.height=o}static createEmpty(){return new u(0,0,0,0)}static fromDiagonal(e,r,t,o){return new u(e,r,t-e,o-r)}static fromDiagonalPoints(e,r){return this.fromDiagonal(e.x,e.y,r.x,r.y)}get diagonalSqr(){return W.sqr(this.width)+W.sqr(this.height)}clone(){return new u(this.x0,this.y0,this.width,this.height)}get x1(){return this.x0+this.width}get y1(){return this.y0+this.height}contains(e,r){return W.inRange(e,this.x0,this.x1)&&W.inRange(r,this.y0,this.y1)}getOutCode(e){let r=0;return e.x<this.x0&&(r|=1),e.x>this.x1&&(r|=2),e.y<this.y0&&(r|=4),e.y>this.y1&&(r|=8),r}touchesLineSegment(e,r){let t=this.getOutCode(e),o=this.getOutCode(r);if(t===0||o===0)return!0;if(t&o)return!1;let a=t|o;if(a===12||a===3)return!0;let c=(r.y-e.y)/(r.x-e.x);return!!(W.inRange((this.x0-e.x)*c+e.y,this.y0,this.y1)||W.inRange((this.x1-e.x)*c+e.y,this.y0,this.y1)||W.inRange((this.y0-e.y)/c+e.x,this.x0,this.x1))}containsPoint(e){return this.contains(e.x,e.y)}copyTo(e){return e.x0=this.x0,e.y0=this.y0,e.width=this.width,e.height=this.height,e}setToExtent(e){if(e.length===0)return this.makeEmpty();let r=e[0].x,t=r,o=e[0].y,s=o;for(let a=1;a<e.length;++a){let c=e[a].x,m=e[a].y;c<r&&(r=c),c>t&&(t=c),m<o&&(o=m),m>s&&(s=m)}return this.setFromDiagonal(r,o,t,s)}setFromDiagonal(e,r,t,o){return this.x0=e,this.y0=r,this.width=t-e,this.height=o-r,this}makeEmpty(){return this.x0=this.y0=this.width=this.height=0,this}makeCanonical(){return this.width<0&&(this.x0+=this.width,this.width=-this.width),this.height<0&&(this.y0+=this.height,this.height=-this.height),this}pad(e,r){return this.makeCanonical(),this.x0-=e,this.width+=e+e,this.y0-=r,this.height+=r+r,this}include(e,r){e<this.x0?(this.width+=this.x0-e,this.x0=e):e>this.x1&&(this.width=e-this.x0),r<this.y0?(this.height+=this.y0-r,this.y0=r):r>this.y1&&(this.height=r-this.y0)}},he=class u{static SMALL=.01;static SMALL_SQUARED=this.SMALL*this.SMALL;static add2D(e,r,t){e.x=r.x+t.x,e.y=r.y+t.y}static subtract2D(e,r,t){e.x=r.x-t.x,e.y=r.y-t.y}static scale2D(e,r){e.x*=r,e.y*=r}static offsetScaled2D(e,r,t,o){e.x=r.x+t.x*o,e.y=r.y+t.y*o}static perpOffsetScaled2D(e,r,t,o){e.x=r.x-t.y*o,e.y=r.y+t.x*o}static dot2D(e,r){return e.x*r.x+e.y*r.y}static cross2D(e,r){return e.x*r.y-e.y*r.x}static length2D(e){return Math.hypot(e.x,e.y)}static areColocated2D(e,r,t=0){return this.distanceSquared2DPoints(e,r)<=t}static distanceSquared2DPoints(e,r){return this.distanceSquared2D(e.x,e.y,r.x,r.y)}static distanceSquared2D(e,r,t,o){let s=e-t,a=r-o;return s*s+a*a}static distance2DPoints(e,r){return Math.hypot(r.x-e.x,r.y-e.y)}static distance2D(e,r,t,o){return Math.hypot(t-e,o-r)}static pointSegmentDistance2DPoints(e,r,t){return this.pointSegmentDistance2D(e.x,e.y,r.x,r.y,t.x,t.y)}static pointSegmentDistance2D(e,r,t,o,s,a){let c=s-t,m=a-o,p=c*c+m*m;if(p<this.SMALL_SQUARED)return this.distance2D(e,r,t,o);let y=e-t,v=r-o;if(y*c+v*m<=0)return Math.hypot(y,v);let C=e-s,M=r-a;return C*c+M*m>=0?Math.hypot(C,M):Math.abs(v*c-y*m)/Math.sqrt(p)}static getPolygonArea(e,r=e.length){let t=0,o=r-1;for(let s=0;s<r;o=s++)t+=e[o].x*e[s].y-e[o].y*e[s].x;return .5*t}static isInNonAxisAlignedRectangle(e,r,t,o,s,a,c,m=0){let p=s-t,y=a-o,v=p*p+y*y;if(m>0){let I=Math.min(Math.sqrt(m*m/v),.5);return this.isInNonAxisAlignedRectangle(e,r,t+I*p,o+I*y,s-I*p,a-I*y,c)}if(v<this.SMALL_SQUARED)return this.distance2D(e,a,t,o)<.5*c;let C=e-t,M=r-o;if(C*p+M*y<=0)return!1;let _=e-s,R=r-a;return _*p+R*y>=0?!1:Math.abs(M*p-C*y)/Math.sqrt(v)<.5*c}static isInNonAxisAlignedRectanglePoints(e,r,t,o,s=0){return this.isInNonAxisAlignedRectangle(e.x,e.y,r.x,r.y,t.x,t.y,o,s)}static getExtent2D(e,r){if(r.length===0)return e.makeEmpty(),e;let t=r[0],o=t.x,s=t.y,a=t.x,c=t.y;for(let m of r)m.x<o&&(o=m.x),m.y<s&&(s=m.y),m.x>a&&(a=m.x),m.y>c&&(c=m.y);return e.setFromDiagonal(o,s,a,c).makeCanonical()}static addToExtent2D(e,r){let t=e.x0,o=e.y0,s=e.x1,a=e.y1;return r.x<t&&(t=r.x),r.y<o&&(o=r.y),r.x>s&&(s=r.x),r.y>a&&(a=r.y),e.setFromDiagonal(t,o,s,a).makeCanonical()}static isPointOnSegment(e,r,t){return!this.areColocated2D(e,r)&&!this.areColocated2D(e,t)&&(r.x<=e.x&&e.x<=t.x||t.x<=e.x&&e.x<=r.x)&&(r.y<=e.y&&e.y<=t.y||t.y<=e.y&&e.y<=r.y)&&Math.abs((e.x-r.x)*(t.y-r.y)-(e.y-r.y)*(t.x-r.x))<u.SMALL_SQUARED}static getSegmentsIntersection(e,r,t,o,s,a,c,m){let p=t-e,y=o-r,v=c-s,C=m-a,M=C*p-v*y;if(M===0)return;let _=e-s,R=r-a,I=v*R-C*_,O=p*R-y*_,B=I/M,H=O/M;if(!(isNaN(B)||isNaN(H)||B<0||B>1||H<0||H>1))return new Y(e+B*p,r+B*y)}static isPointInCanonicalRectangle(e,r,t){return t.x0<=e&&e<=t.x0+t.width&&t.y0<=r&&r<=t.y0+t.height}static fromZRotation(e,r,t){let o=1/Math.hypot(t,r),s=o*t,a=o*r;return e[0]=s,e[1]=a,e[2]=0,e[3]=0,e[4]=-a,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static rotateX(e,r,t,o){let s=1/Math.hypot(o,t),a=s*o,c=s*t,m=r[0],p=r[1],y=r[2],v=r[3],C=r[4],M=r[5],_=r[6],R=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=m*a+C*c,e[1]=p*a+M*c,e[2]=y*a+_*c,e[3]=v*a+R*c,e[4]=C*a-m*c,e[5]=M*a-p*c,e[6]=_*a-y*c,e[7]=R*a-v*c,e}static rotateZ(e,r,t,o){let s=1/Math.hypot(o,t),a=s*o,c=s*t,m=r[0],p=r[1],y=r[2],v=r[3],C=r[4],M=r[5],_=r[6],R=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=m*a+C*c,e[1]=p*a+M*c,e[2]=y*a+_*c,e[3]=v*a+R*c,e[4]=C*a-m*c,e[5]=M*a-p*c,e[6]=_*a-y*c,e[7]=R*a-v*c,e}static rotate(e,r,t,o){let s=1/Math.hypot(o,t),a=s*o,c=s*t,m=r[0],p=r[1],y=r[2],v=r[3],C=r[4],M=r[5],_=r[6],R=r[7],I=r[8];return e[0]=a*m+c*v,e[1]=a*p+c*C,e[2]=a*y+c*M,e[3]=a*v-c*m,e[4]=a*C-c*p,e[5]=a*M-c*y,e[6]=_,e[7]=R,e[8]=I,e}},Jn=class u{static ARROW_HALF_WIDTH=3;static ARROW_LENGTH=8;static clearCanvas(e){let r=e.getTransform();e.resetTransform(),e.clearRect(0,0,e.canvas.width-1,e.canvas.height-1),e.setTransform(r)}static computeColor(e,r,t,o=0,s=0){return o=W.clamp(o,0,1),s=W.clamp(s,-1,1),s>0?(e+=o*(255-e)-.25*s*e,r+=o*(255-r)-.25*s*r,t+=o*(255-t)+s*(255-t)):s<0?(e+=o*(255-e)-s*(255-e),t+=o*(255-t)+.25*s*t,r+=o*(255-r)+.25*s*r):(e+=o*(255-e),r+=o*(255-r),t+=o*(255-t)),e=W.clamp(e,0,255)>>>0,r=W.clamp(r,0,255)>>>0,t=W.clamp(t,0,255)>>>0,`rgb(${e}, ${r}, ${t})`}static setTickLineDash(e,r,t){let[o,s]=t,a=o+s,c=o/a,m=r/a,p=Math.ceil(m+c)-1,y=(1-m+p+c)*.5*a,v=a/2;e.lineDashOffset=y+v<s?y+v:y,e.setLineDash(t),e.lineCap="butt"}static getContext(e){return W.assertNotNull(e.nativeElement.getContext("2d"))}static drawArrowhead(e,r,t,o,s,a=u.ARROW_HALF_WIDTH,c=u.ARROW_LENGTH){let m=o-r,p=s-t;if(m===0&&p===0)return;let y=Math.hypot(m,p),v=m/y,C=p/y,M=o-v*c,_=s-C*c,R=-C*a,I=v*a;e.beginPath(),e.moveTo(M+R,_+I),e.lineTo(o,s),e.lineTo(M-R,_-I),e.stroke()}static drawArrow(e,r,t,o,s,a=u.ARROW_HALF_WIDTH,c=u.ARROW_LENGTH){e.beginPath(),e.moveTo(r,t),e.lineTo(o,s),e.stroke(),u.drawArrowhead(e,r,t,o,s,a,c)}static drawDoubleArrow(e,r,t,o,s,a=u.ARROW_HALF_WIDTH,c=u.ARROW_LENGTH){u.drawArrow(e,r,t,o,s,a,c),u.drawArrowhead(e,o,s,r,t,a,c)}static drawRoundRect(e,r,t,o,s,a){let m=-.5*Math.PI,p=Math.PI,y=.5*Math.PI,v=r+o,C=t+s,M=r+a,_=t+a,R=v-a,I=C-a;e.beginPath(),e.arc(M,_,a,p,m),e.lineTo(R,t),e.arc(R,_,a,m,0),e.lineTo(v,I),e.arc(R,I,a,0,y),e.lineTo(v,C),e.arc(M,I,a,y,p),e.closePath()}static clearTextBox(e,r,t,o,s,a=2){let c=e.measureText(r),m=t-c.actualBoundingBoxLeft-a,p=t+c.actualBoundingBoxRight+a,y=o-c.actualBoundingBoxAscent-a,v=o+c.actualBoundingBoxDescent+a,C=p-m,M=v-y;e.clearRect(m,y,C,M),s&&(s.x0=m,s.y0=y,s.width=C,s.height=M)}};var le=class{constructor(e,r,t,o){this.index=e;this.x=r;this.y=t;this.isFixed=o}get number(){return this.index+1}isAt(e){return he.areColocated2D(this,e,he.SMALL_SQUARED)}toString(){return`Joint(${this.index}: ${this.x}, ${this.y})`}swapContents(e){[this.index,e.index]=[e.index,this.index],[this.x,e.x]=[e.x,this.x],[this.y,e.y]=[e.y,this.y],[this.isFixed,e.isFixed]=[e.isFixed,this.isFixed]}};var w0=class{constructor(e,r,t,o,s,a,c){this.index=e;this.name=r;this.shortName=t;this.e=o;this.fy=s;this.density=a;this.cost=c}getCostPerKg(e){return this.cost[e.index]}},pt=class u{constructor(e,r,t){this.index=e;this.name=r;this.shortName=t}static WIDTHS=[30,35,40,45,50,55,60,65,70,75,80,90,100,110,120,130,140,150,160,170,180,190,200,220,240,260,280,300,320,340,360,400,500];getNSizes(){return u.WIDTHS.length}toString(){return this.shortName}},hn=class extends pt{constructor(){super(0,"Solid Bar","Bar")}createShapes(){return Array.from({length:pt.WIDTHS.length},(e,r)=>{let t=pt.WIDTHS[r],o=W.sqr(t)*1e-6,s=W.p4(t)/12*1e-12;return ar.createSolidBar(this,r,`${t}\xD7${t}`,t,o,s)})}},pn=class extends pt{constructor(){super(1,"Hollow Tube","Tube")}createShapes(){return Array.from({length:pt.WIDTHS.length},(e,r)=>{let t=pt.WIDTHS[r],o=Math.max(Math.trunc(t/20),2),s=(W.sqr(t)-W.sqr(t-2*o))*1e-6,a=(W.p4(t)-W.p4(t-2*o))/12*1e-12;return ar.createHollowTube(this,r,`${t}\xD7${t}\xD7${o}`,t,s,a,o)})}},ar=class u{constructor(e,r,t,o,s,a,c){this.section=e;this.sizeIndex=r;this.name=t;this.width=o;this.area=s;this.moment=a;this.thickness=c;this.inverseRadiusOfGyration=Math.sqrt(s/a)}inverseRadiusOfGyration;static createSolidBar(e,r,t,o,s,a){return new u(e,r,t,o,s,a,o)}static createHollowTube(e,r,t,o,s,a,c){return new u(e,r,t,o,s,a,c)}toString(){return`${this.name}mm ${this.section.name.toLowerCase()}`}},Ae=class u{static CROSS_SECTIONS=[new hn,new pn];static MATERIALS=[new w0(0,"Carbon steel","CS",2e8,25e4,7850,[4.3,6.3]),new w0(1,"High-strength low-alloy steel","HSS",2e8,345e3,7850,[5.6,7]),new w0(2,"Quenched & tempered steel","QTS",2e8,485e3,7850,[6,7.7])];static SHAPES=u.CROSS_SECTIONS.map(e=>e.createShapes())},At=class u{constructor(e,r,t){this.materialIndex=e;this.sectionIndex=r;this.sizeIndex=t}static EMPTY=new u(-1,-1,-1);toMaterialAndShape(){return this.materialIndex<0||this.sectionIndex<0||this.sizeIndex<0?void 0:{material:Ae.MATERIALS[this.materialIndex],shape:Ae.SHAPES[this.sectionIndex][this.sizeIndex]}}get key(){return`StockId:${this.materialIndex}.${this.sectionIndex}.${String(this.sizeIndex).padStart(2,"0")}`}};var Re=class u{static USEFUL_STOCK=new At(0,0,22);static COMPRESSION_RESISTANCE_FACTOR=.9;static TENSION_RESISTANCE_FACTOR=.95;get materials(){return Ae.MATERIALS}get crossSections(){return Ae.CROSS_SECTIONS}getShapes(e){return Ae.SHAPES[e]}getShapeCount(e){return Ae.SHAPES[e].length}getShape(e,r){return Ae.SHAPES[e]?.[r]}static getShapeWithSizeIncrement(e,r){let t=Ae.SHAPES[e.section.index];return t[W.clamp(e.sizeIndex+r,0,t.length-1)]}static mergeStockId(e,r,t){let o=e.materialIndex<0?r.index:e.materialIndex,s=e.sectionIndex<0?t.section.index:e.sectionIndex,a=e.sizeIndex<0?t.sizeIndex:e.sizeIndex;return{material:Ae.MATERIALS[o],shape:Ae.SHAPES[s][a]}}static compressiveStrength(e,r,t){let o=e.fy,s=r.area,a=e.e,c=r.moment,m=t*t*o*s/(9.8696044*a*c);return m<=2.25?u.COMPRESSION_RESISTANCE_FACTOR*Math.pow(.66,m)*o*s:u.COMPRESSION_RESISTANCE_FACTOR*.88*o*s/m}static tensileStrength(e,r){return u.TENSION_RESISTANCE_FACTOR*e.fy*r.area}static getAllowedShapeChangeMask(e){let r=0;return e.sizeIndex>0&&(r|=1),e.sizeIndex<Ae.SHAPES[e.section.index].length-1&&(r|=2),r}static \u0275fac=function(r){return new(r||u)};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};var ge=class u{constructor(e,r,t,o,s,a=NaN,c=NaN,m=NaN,p=NaN){this.index=e;this.a=r;this.b=t;this.material=o;this.shape=s;this.maxTension=a;this.maxCompression=c;this.tensionStrength=m;this.compressionStrength=p;if(r===t)throw new Error(`Dupe member joints: ${r.number}`)}static OK="ok";static FAILED="fail";static UNKNOWN="--";get number(){return this.index+1}get lengthM(){return he.distance2DPoints(this.a,this.b)}get stockId(){return new At(this.material.index,this.shape.section.index,this.shape.sizeIndex)}get slenderness(){return this.lengthM*this.shape.inverseRadiusOfGyration}get key(){return u.getJointsKey(this.a,this.b)}static getJointsKey(e,r){let t=e.index,o=r.index;return t<o?`${t},${o}`:`${o},${t}`}hasJoints(e,r){return e===this.a&&r===this.b||r===this.a&&e===this.b}hasJoint(e){return this.a===e||this.b===e}getOtherJoint(e){return e===this.a?this.b:this.a}get materialShortName(){return this.material.shortName}get crossSectionShortName(){return this.shape.section.shortName}get materialSizeMm(){return this.shape.width}get compressionForceStrengthRatio(){return this.maxCompression/this.compressionStrength}get tensionForceStrengthRatio(){return this.maxTension/this.tensionStrength}get compressionStatus(){return isNaN(this.maxCompression)?u.UNKNOWN:this.maxCompression<=this.compressionStrength?u.OK:u.FAILED}get tensionStatus(){return isNaN(this.maxTension)?u.UNKNOWN:this.maxTension<=this.tensionStrength?u.OK:u.FAILED}swapContents(e){[this.index,e.index]=[e.index,this.index],[this.a,e.a]=[e.a,this.a],[this.b,e.b]=[e.b,this.b],[this.material,e.material]=[e.material,this.material],[this.shape,e.shape]=[e.shape,this.shape]}};var $=class{static ABUTMENT_FACE_X=.25;static ABUTMENT_INTERFACE_SETBACK=1;static ABUTMENT_STEP_HEIGHT=-.35;static ABUTMENT_STEP_X=-.45;static ACCESS_SLOPE=1/6;static ANCHOR_OFFSET=8;static BEAM_HEIGHT=.9;static DECK_CANTILEVER=.4;static DECK_HALF_WIDTH=5;static DECK_TOP_HEIGHT=.8;static DRAWING_X_MARGIN=3;static FAR_AWAY=100;static GAP_DEPTH=24;static GUSSET_THICKNESS=.02;static GAP_NATURAL_HALF_WIDTH=22;static INDEX_LEFT_SHORE=25;static INDEX_RIGHT_SHORE=16;static LEFT_SHORE_INDEX=25;static OVERHEAD_CLEARANCE=8;static RIGHT_SHORE_INDEX=16;static TANGENT_OFFSET=8;static TERRAIN_DASH=[4,3];static MIN_ROADWAY_CLEARANCE=4.5;static WATER_BELOW_GRADE=26.4;static WEAR_SURFACE_X0=-this.ABUTMENT_INTERFACE_SETBACK;static WEAR_SURFACE_X1=this.ABUTMENT_STEP_X;static ACCESS_LENGTH=this.FAR_AWAY-this.TANGENT_OFFSET;static ACCESS_CURVE=this.createAccessCurve();static ELEVATION_TERRAIN_POINTS=[[this.FAR_AWAY,-this.FAR_AWAY],[this.FAR_AWAY,0],[25.03,0],[24.51,-.3],[22.75,-.71],[21.93,-2.95],[21.33,-4.75],[20.7,-6.85],[19.56,-7.48],[19.11,-8.94],[18.62,-10.81],[17.8,-12.84],[16.22,-14],[14.5,-17.66],[12.36,-21.33],[10.98,-24.59],[9.58,-this.WATER_BELOW_GRADE],[8.12,-27.66],[6.54,-28.63],[5.04,-29.64],[4.48,-29.83],[.28,-30.47],[-4.18,-29.83],[-5.46,-29.19],[-6.96,-27.32],[-8.24,-this.WATER_BELOW_GRADE],[-10.37,-25.6],[-12.14,-23.21],[-12.48,-21.89],[-13.04,-20.14],[-14.5,-17.25],[-16.04,-15.38],[-16.53,-13.88],[-18.2,-11.17],[-19.9,-7.93],[-21.85,-3.07],[-22.57,-.74],[-23.92,0],[-this.FAR_AWAY,0],[-this.FAR_AWAY,-this.FAR_AWAY]].map(e=>new Y(...e));static STANDARD_ABUTMENT_POINTS=[[this.WEAR_SURFACE_X0,this.DECK_TOP_HEIGHT],[this.WEAR_SURFACE_X1,this.DECK_TOP_HEIGHT],[this.ABUTMENT_STEP_X,this.ABUTMENT_STEP_HEIGHT],[this.ABUTMENT_FACE_X,this.ABUTMENT_STEP_HEIGHT],[this.ABUTMENT_FACE_X,-5],[.75,-5],[.75,-5.5],[-2,-5.5],[-2,-5],[-this.ABUTMENT_INTERFACE_SETBACK,-5]].map(e=>new Y(...e));static PILLOW_POINTS=[[0,0],[-this.ABUTMENT_FACE_X,this.ABUTMENT_STEP_HEIGHT],[this.ABUTMENT_FACE_X,this.ABUTMENT_STEP_HEIGHT]].map(e=>new Y(...e));static ARCH_ABUTMENT_POINTS=[[this.WEAR_SURFACE_X0,this.DECK_TOP_HEIGHT],[this.WEAR_SURFACE_X1,this.DECK_TOP_HEIGHT],[this.ABUTMENT_STEP_X,this.ABUTMENT_STEP_HEIGHT,0],[this.ABUTMENT_FACE_X,this.ABUTMENT_STEP_HEIGHT,0],[this.ABUTMENT_FACE_X,-5,0],[.75,-5,0],[.75,-5.5,0],[-2,-5.5,0],[-2,-5,0],[-this.ABUTMENT_INTERFACE_SETBACK,-5,0]].map(e=>new R0(...e));static PIER_POINTS=[[.5,this.ABUTMENT_STEP_HEIGHT],[.5,this.ABUTMENT_STEP_HEIGHT,0],[.75,this.ABUTMENT_STEP_HEIGHT,0],[.75,-7.5,0],[1.4,-7.5,0],[1.4,-8,0],[-1.4,-8,0],[-1.4,-7.5,0],[-.75,-7.5,0],[-.75,this.ABUTMENT_STEP_HEIGHT,0],[-.5,this.ABUTMENT_STEP_HEIGHT,0],[-.5,this.ABUTMENT_STEP_HEIGHT]].map(e=>new R0(...e));static createAccessCurve(){let r=new Array(6),t=this.TANGENT_OFFSET/4,o=.5*this.ACCESS_SLOPE/this.TANGENT_OFFSET,s=0;for(let c=0;s<5;s++,c+=t)r[s]=new Y(c,o*c*c);let a=r[s-1];return r[s]=new Y(a.x+this.ACCESS_LENGTH,a.y+this.ACCESS_SLOPE*this.ACCESS_LENGTH),r}};var z=class u{static MAX_JOINT_COUNT=50;static MAX_MEMBER_COUNT=120;static PANEL_SIZE_WORLD=4;static ANCHORAGE_COST=6e3;static ARCH_INCREMENTAL_COST_PER_DECK_PANEL=3300;static DECK_COST_PER_PANEL_HI_STRENGTH=5100;static DECK_COST_PER_PANEL_MED_STRENGTH=4700;static EXCAVATION_COST_RATE=1;static FROM_KEY_CODE_TAG="99Z";static MAX_SLENDERNESS=300;static MIN_OVERHEAD=8;static PIER_BASE_COST=0;static PIER_COST_PER_DECK_PANEL=4500;static STANDARD_ABUTMENT_BASE_COST=6e3;static STANDARD_ABUTMENT_COST_PER_DECK_PANEL=500;abutmentCost=0;abutmentJointIndices=[];allowableSlenderness=0;archHeight=0;archJointIndex=0;code=new Uint8Array;codeLong;deckCostRate=0;deckElevation=0;deckType=-1;excavationVolume=0;isHiPier=!1;jointRestraintCount=0;leftAnchorageJointIndex=0;loadedJointCount=0;loadType=-1;anchorageCount=0;overClearance=0;overMargin=0;panelCount=0;pierCost=0;pierHeight=0;pierJointIndex=0;pierPanelIndex=0;prescribedJoints=[];rightAnchorageJointIndex=0;spanLength=0;tag;totalFixedCost=0;underClearance=0;xLeftmostDeckJoint=0;xRightmostDeckJoint=0;siteCosts={};constructor(e,r){this.tag=e,this.codeLong=r;let t=u.getCodeOrThrow(r);if(u.getCodeError(t)!=0)return;this.code=t,this.isHiPier=t[9]>0,this.pierJointIndex=this.pierPanelIndex=t[8]-1;let o=t[7]===1,s=t[7]===2||t[7]===3,a=t[7]===3;this.underClearance=10*t[5]+t[6],this.overClearance=10*t[3]+t[4],this.panelCount=10*t[1]+t[2];let c=t[0]-1;this.loadType=(c&1)===0?0:1,this.deckType=(c&2)===0?0:1,o?(this.deckElevation=4*(this.panelCount-5)+this.underClearance,this.archHeight=this.underClearance):(this.deckElevation=4*(this.panelCount-5),this.archHeight=-1),this.overMargin=$.GAP_DEPTH+u.MIN_OVERHEAD-this.deckElevation,this.pierHeight=this.isHiPier?this.deckElevation:this.isPier?this.deckElevation-this.underClearance:-1;let m=this.panelCount+1;this.archJointIndex=this.leftAnchorageJointIndex=this.rightAnchorageJointIndex=-1,this.isPier&&!this.isHiPier&&(this.pierJointIndex=m,m++),o&&(this.archJointIndex=m,m+=2),this.anchorageCount=0,s&&(this.leftAnchorageJointIndex=m,this.anchorageCount++,m++),a&&(this.rightAnchorageJointIndex=m,this.anchorageCount++,m++),this.spanLength=this.panelCount*u.PANEL_SIZE_WORLD,this.loadedJointCount=this.panelCount+1,this.prescribedJoints=new Array(m);let p=0,y=0,v=0;for(;v<this.loadedJointCount;v++)this.prescribedJoints[v]=new le(v,p,y,!0),p+=u.PANEL_SIZE_WORLD;this.xLeftmostDeckJoint=this.prescribedJoints[0].x,this.xRightmostDeckJoint=this.prescribedJoints[this.loadedJointCount-1].x,this.jointRestraintCount=3,this.isPier&&(this.isHiPier?this.jointRestraintCount+=1:(this.prescribedJoints[v]=new le(v,this.pierPanelIndex*u.PANEL_SIZE_WORLD,-this.underClearance,!0),v++,this.jointRestraintCount+=2)),o&&(this.prescribedJoints[v]=new le(v,this.xLeftmostDeckJoint,-this.underClearance,!0),v++,this.prescribedJoints[v]=new le(v,this.xRightmostDeckJoint,-this.underClearance,!0),v++,this.jointRestraintCount+=1),s&&(this.prescribedJoints[v]=new le(v,this.xLeftmostDeckJoint-$.ANCHOR_OFFSET,0,!0),v++,this.jointRestraintCount+=2),a&&(this.prescribedJoints[v]=new le(v,this.xRightmostDeckJoint+$.ANCHOR_OFFSET,0,!0),v++,this.jointRestraintCount+=2),this.allowableSlenderness=s||a?Number.POSITIVE_INFINITY:u.MAX_SLENDERNESS,this.excavationVolume=u.getExcavationVolume(this.deckElevation),this.deckCostRate=this.deckType===0?u.DECK_COST_PER_PANEL_MED_STRENGTH:u.DECK_COST_PER_PANEL_HI_STRENGTH,this.isFromKeyCode?(this.totalFixedCost=17e4,this.isPier?(this.abutmentCost=u.getKeyCodeAbutmentCost(this.deckElevation),this.pierCost=this.totalFixedCost-this.panelCount*this.deckCostRate-this.excavationVolume*u.EXCAVATION_COST_RATE-this.abutmentCost-this.anchorageCount*u.ANCHORAGE_COST):(this.abutmentCost=this.totalFixedCost-this.panelCount*this.deckCostRate-this.excavationVolume*u.EXCAVATION_COST_RATE-this.anchorageCount*u.ANCHORAGE_COST,this.pierCost=0)):(this.abutmentCost=o?this.panelCount*u.ARCH_INCREMENTAL_COST_PER_DECK_PANEL+u.getArchAbutmentCost(this.underClearance):this.isPier?u.STANDARD_ABUTMENT_BASE_COST+Math.max(this.pierPanelIndex,this.panelCount-this.pierPanelIndex)*u.STANDARD_ABUTMENT_COST_PER_DECK_PANEL:u.STANDARD_ABUTMENT_BASE_COST+this.panelCount*u.STANDARD_ABUTMENT_COST_PER_DECK_PANEL,this.pierCost=this.isPier?Math.max(this.pierPanelIndex,this.panelCount-this.pierPanelIndex)*u.PIER_COST_PER_DECK_PANEL+u.getPierHeightCost(this.pierHeight)+u.PIER_BASE_COST:0,this.totalFixedCost=this.excavationVolume*u.EXCAVATION_COST_RATE+this.abutmentCost+this.pierCost+this.panelCount*this.deckCostRate+this.anchorageCount*u.ANCHORAGE_COST),this.abutmentCost*=.5,this.abutmentJointIndices=o?[0,this.panelCount,this.archJointIndex,this.archJointIndex+1]:this.isPier?[0,this.panelCount,this.pierJointIndex]:[0,this.panelCount],this.siteCosts={siteCondition:this.tag,panelCount:this.panelCount,deckCostRate:this.deckCostRate,deckCost:this.panelCount*this.deckCostRate,excavationVolume:this.excavationVolume,excavationCostRate:u.EXCAVATION_COST_RATE,excavationCost:this.excavationVolume*u.EXCAVATION_COST_RATE,abutmentType:this.isArch?"arch":"standard",abutmentCount:2,abutmentCostRate:this.abutmentCost*.5,abutmentCost:this.abutmentCost,isPier:this.isPier,pierHeight:this.pierHeight,pierCost:this.pierCost,anchorageCount:this.anchorageCount,anchorageCostRate:u.ANCHORAGE_COST,anchorageCost:this.anchorageCount*u.ANCHORAGE_COST,totalFixedCost:this.totalFixedCost}}static get placeholderConditions(){return new u("00X",1110824e3)}static getKeyCodeAbutmentCost(e){return[7e3,7e3,7500,7500,8e3,8e3,8500][Math.floor(e/4)]}static getExcavationVolume(e){return[106500,9e4,71500,54100,38100,19400,0][Math.floor(e/4)]}static getArchAbutmentCost(e){return[200,11300,20800,30300,39e3,49700][Math.floor(e/4)-1]}static getPierHeightCost(e){return[0,2800,5600,8400,10200,12500,14800][Math.floor(e/4)]}get deckThickness(){return this.deckType===0?.23:.15}get isArch(){return this.archHeight>=0}get isPier(){return this.pierPanelIndex>=0}get isLeftAnchorage(){return this.leftAnchorageJointIndex>=0}get isRightAnchorage(){return this.rightAnchorageJointIndex>=0}get isAtGrade(){return this.deckElevation===$.GAP_DEPTH}get isFromKeyCode(){return this.tag===u.FROM_KEY_CODE_TAG}isGeometricallyIdentical(e){return this.code.slice(1).every((r,t)=>r===e.code[t])}get tagGeometryOnly(){return this.tag.substring(0,2)}static getCode(e){if(e<0)return null;let r=new Uint8Array(10);for(let t=9;t>=0;t--)r[t]=e%10,e=Math.floor(e/10);return e>0?null:r}static getCodeOrThrow(e){let r=this.getCode(e);if(r===null)throw new Error("Bad code: "+e);return r}static getCodeError(e){if(e===null)return-1;if(!W.inRange(e[0],1,4))return 14;let r=10*e[1]+e[2];if(!W.inRange(r,1,20))return 16;let t=10*e[3]+e[4];if(!W.inRange(t,0,40))return 17;if(!W.inRange(e[9],0,1))return 5;let o=10*e[5]+e[6];if(!W.inRange(o,0,32))return 13;if(!W.inRange(e[7],0,3))return 2;let s=e[7]===1,a=e[8]-1,c=a>=0,m=e[9]>0;if(m&&!c)return 4;if(a>=r)return 15;if(r<5||r>11)return 11;let p=s?4*(r-5)+o:4*(r-5);if(p<0||p>$.GAP_DEPTH)return 6;if(p+t>$.GAP_DEPTH+this.MIN_OVERHEAD)return 12;if(!s&&p-o<0)return 8;if(c&&a===0||a>=r-1)return 9;if(s&&c)return 1;if(c&&!m){let y=a*this.PANEL_SIZE_WORLD,v=p-o,C=0,M=p,_=r*this.PANEL_SIZE_WORLD,R=M;if(y<C+(M-v)*.5)return 7;if(y>_-(R-v)*.5)return 10}return 0}get setupKey(){return u.getSetupKey(this.deckElevation,this.archHeight,this.pierHeight,this.anchorageCount,this.loadType,this.deckType)}static getSetupKey(e,r,t,o,s,a){return`${e}|${r}|${t}|${o}|${s}|${a}`}static fromTaggedCodeLong(e,r){return new u(e,r)}static fromKeyCodeLong(e){return new u(this.FROM_KEY_CODE_TAG,e)}static fromKeyCode(e){let r=0;try{r=parseInt(e,10)}catch{return 3}let t=this.getCodeError(this.getCode(r));return t!=0?t:this.fromKeyCodeLong(r)}toString(){return"{"+this.tag+","+this.codeLong+",isHiPier: "+this.isHiPier+",leftCableIndex: "+this.leftAnchorageJointIndex+",rightCableIndex: "+this.rightAnchorageJointIndex+",pierJointIndex: "+this.pierPanelIndex+",underClearance: "+this.underClearance+",overClearance: "+this.overClearance+",nPanels: "+this.panelCount+",loadType: "+this.loadType+",deckType: "+this.deckType+",deckElevation: "+this.deckElevation+",archHeight: "+this.archHeight+",pierHeight: "+this.pierHeight+",nAnchorages: "+this.anchorageCount+",excavationVolume: "+this.excavationVolume+",abutmentCost: "+this.abutmentCost+",pierCost: "+this.pierCost+",deckCostRate: "+this.deckCostRate+",totalFixedCost: "+this.totalFixedCost+",setupKey: "+this.setupKey+"}"}},we=class u{static PLACEHOLDER_CONDITIONS=z.placeholderConditions;static STANDARD_CONDITIONS=[["01A",1110824e3],["01B",2110824e3],["01C",3110824e3],["01D",4110824e3],["02A",110122e4],["02B",210122e4],["02C",310122e4],["02D",410122e4],["03A",1091616e3],["03B",2091616e3],["03C",3091616e3],["03D",4091616e3],["04A",1082012e3],["04B",2082012e3],["04C",3082012e3],["04D",4082012e3],["05A",1072408e3],["05B",2072408e3],["05C",3072408e3],["05D",4072408e3],["06A",1062804e3],["06B",2062804e3],["06C",3062804e3],["06D",4062804e3],["07A",10532e5],["07B",20532e5],["07C",30532e5],["07D",40532e5],["08A",1110824200],["08B",2110824200],["08C",3110824200],["08D",4110824200],["09A",1101220200],["09B",2101220200],["09C",3101220200],["09D",4101220200],["10A",1091616200],["10B",2091616200],["10C",3091616200],["10D",4091616200],["11A",1082012200],["11B",2082012200],["11C",3082012200],["11D",4082012200],["12A",1072408200],["12B",2072408200],["12C",3072408200],["12D",4072408200],["13A",1062804200],["13B",2062804200],["13C",3062804200],["13D",4062804200],["14A",1053200200],["14B",2053200200],["14C",3053200200],["14D",4053200200],["15A",1110824300],["15B",2110824300],["15C",3110824300],["15D",4110824300],["16A",1101220300],["16B",2101220300],["16C",3101220300],["16D",4101220300],["17A",1091616300],["17B",2091616300],["17C",3091616300],["17D",4091616300],["18A",1082012300],["18B",2082012300],["18C",3082012300],["18D",4082012300],["19A",1072408300],["19B",2072408300],["19C",3072408300],["19D",4072408300],["20A",1062804300],["20B",2062804300],["20C",3062804300],["20D",4062804300],["21A",1053200300],["21B",2053200300],["21C",3053200300],["21D",4053200300],["22A",1100804100],["22B",2100804100],["22C",3100804100],["22D",4100804100],["23A",1090808100],["23B",2090808100],["23C",3090808100],["23D",4090808100],["24A",1080812100],["24B",2080812100],["24C",3080812100],["24D",4080812100],["25A",1070816100],["25B",2070816100],["25C",3070816100],["25D",4070816100],["26A",1060820100],["26B",2060820100],["26C",3060820100],["26D",4060820100],["27A",1050824100],["27B",2050824100],["27C",3050824100],["27D",4050824100],["28A",1091204100],["28B",2091204100],["28C",3091204100],["28D",4091204100],["29A",1081208100],["29B",2081208100],["29C",3081208100],["29D",4081208100],["30A",1071212100],["30B",2071212100],["30C",3071212100],["30D",4071212100],["31A",1061216100],["31B",2061216100],["31C",3061216100],["31D",4061216100],["32A",1051220100],["32B",2051220100],["32C",3051220100],["32D",4051220100],["33A",1081604100],["33B",2081604100],["33C",3081604100],["33D",4081604100],["34A",1071608100],["34B",2071608100],["34C",3071608100],["34D",4071608100],["35A",1061612100],["35B",2061612100],["35C",3061612100],["35D",4061612100],["36A",1051616100],["36B",2051616100],["36C",3051616100],["36D",4051616100],["37A",1072004100],["37B",2072004100],["37C",3072004100],["37D",4072004100],["38A",1062008100],["38B",2062008100],["38C",3062008100],["38D",4062008100],["39A",1052012100],["39B",2052012100],["39C",3052012100],["39D",4052012100],["40A",1062404100],["40B",2062404100],["40C",3062404100],["40D",4062404100],["41A",1052408100],["41B",2052408100],["41C",3052408100],["41D",4052408100],["42A",1052804100],["42B",2052804100],["42C",3052804100],["42D",4052804100],["43A",1110824060],["43B",2110824060],["43C",3110824060],["43D",4110824060],["44A",1110820060],["44B",2110820060],["44C",3110820060],["44D",4110820060],["45A",1110816060],["45B",2110816060],["45C",3110816060],["45D",4110816060],["46A",1110812060],["46B",2110812060],["46C",3110812060],["46D",4110812060],["47A",1110808060],["47B",2110808060],["47C",3110808060],["47D",4110808060],["48A",1110804060],["48B",2110804060],["48C",3110804060],["48D",4110804060],["49A",1110824061],["49B",2110824061],["49C",3110824061],["49D",4110824061],["50A",1101220060],["50B",2101220060],["50C",3101220060],["50D",4101220060],["51A",1101216060],["51B",2101216060],["51C",3101216060],["51D",4101216060],["52A",1101212060],["52B",2101212060],["52C",3101212060],["52D",4101212060],["53A",1101208060],["53B",2101208060],["53C",3101208060],["53D",4101208060],["54A",1101204060],["54B",2101204060],["54C",3101204060],["54D",4101204060],["55A",1101220061],["55B",2101220061],["55C",3101220061],["55D",4101220061],["56A",1091616050],["56B",2091616050],["56C",3091616050],["56D",4091616050],["57A",1091612050],["57B",2091612050],["57C",3091612050],["57D",4091612050],["58A",1091608050],["58B",2091608050],["58C",3091608050],["58D",4091608050],["59A",1091604050],["59B",2091604050],["59C",3091604050],["59D",4091604050],["60A",1091616051],["60B",2091616051],["60C",3091616051],["60D",4091616051],["61A",1082012050],["61B",2082012050],["61C",3082012050],["61D",4082012050],["62A",1082008050],["62B",2082008050],["62C",3082008050],["62D",4082008050],["63A",1082004050],["63B",2082004050],["63C",3082004050],["63D",4082004050],["64A",1082012051],["64B",2082012051],["64C",3082012051],["64D",4082012051],["65A",1072408040],["65B",2072408040],["65C",3072408040],["65D",4072408040],["66A",1072404040],["66B",2072404040],["66C",3072404040],["66D",4072404040],["67A",1072408041],["67B",2072408041],["67C",3072408041],["67D",4072408041],["68A",1062804040],["68B",2062804040],["68C",3062804040],["68D",4062804040],["69A",1062804041],["69B",2062804041],["69C",3062804041],["69D",4062804041],["70A",1053200031],["70B",2053200031],["70C",3053200031],["70D",4053200031],["71A",1110824360],["71B",2110824360],["71C",3110824360],["71D",4110824360],["72A",1110820360],["72B",2110820360],["72C",3110820360],["72D",4110820360],["73A",1110816360],["73B",2110816360],["73C",3110816360],["73D",4110816360],["74A",1110812360],["74B",2110812360],["74C",3110812360],["74D",4110812360],["75A",1110808360],["75B",2110808360],["75C",3110808360],["75D",4110808360],["76A",1110804360],["76B",2110804360],["76C",3110804360],["76D",4110804360],["77A",1110824361],["77B",2110824361],["77C",3110824361],["77D",4110824361],["78A",1101220360],["78B",2101220360],["78C",3101220360],["78D",4101220360],["79A",1101216360],["79B",2101216360],["79C",3101216360],["79D",4101216360],["80A",1101212360],["80B",2101212360],["80C",3101212360],["80D",4101212360],["81A",1101208360],["81B",2101208360],["81C",3101208360],["81D",4101208360],["82A",1101204360],["82B",2101204360],["82C",3101204360],["82D",4101204360],["83A",1101220361],["83B",2101220361],["83C",3101220361],["83D",4101220361],["84A",1091616350],["84B",2091616350],["84C",3091616350],["84D",4091616350],["85A",1091612350],["85B",2091612350],["85C",3091612350],["85D",4091612350],["86A",1091608350],["86B",2091608350],["86C",3091608350],["86D",4091608350],["87A",1091604350],["87B",2091604350],["87C",3091604350],["87D",4091604350],["88A",1091616351],["88B",2091616351],["88C",3091616351],["88D",4091616351],["89A",1082012350],["89B",2082012350],["89C",3082012350],["89D",4082012350],["90A",1082008350],["90B",2082008350],["90C",3082008350],["90D",4082008350],["91A",1082004350],["91B",2082004350],["91C",3082004350],["91D",4082004350],["92A",1082012351],["92B",2082012351],["92C",3082012351],["92D",4082012351],["93A",1072408340],["93B",2072408340],["93C",3072408340],["93D",4072408340],["94A",1072404340],["94B",2072404340],["94C",3072404340],["94D",4072404340],["95A",1072408341],["95B",2072408341],["95C",3072408341],["95D",4072408341],["96A",1062804340],["96B",2062804340],["96C",3062804340],["96D",4062804340],["97A",1062804341],["97B",2062804341],["97C",3062804341],["97D",4062804341],["98A",1053200331],["98B",2053200331],["98C",3053200331],["98D",4053200331]].map(e=>z.fromTaggedCodeLong(...e));static STANDARD_CONDITIONS_FROM_SETUP_KEY=u.STANDARD_CONDITIONS.reduce((e,r)=>(e.set(r.setupKey,r),e),new Map);getConditionsForSetupKey(e){return W.assertNotUndefined(u.STANDARD_CONDITIONS_FROM_SETUP_KEY.get(e),"design conditions for key")}static STANDARD_CONDITIONS_FROM_CODE=u.STANDARD_CONDITIONS.reduce((e,r)=>(e.set(r.codeLong,r),e),new Map);static STANDARD_CONDITIONS_FROM_TAG=u.STANDARD_CONDITIONS.reduce((e,r)=>(e.set(r.tag,r),e),new Map);getConditionsForCodeLong(e){let r=u.STANDARD_CONDITIONS_FROM_CODE.get(e);return r===void 0?z.fromKeyCodeLong(e):r}getStandardConditionsForTag(e){return u.STANDARD_CONDITIONS_FROM_TAG.get(e)}getConditionsForKeyCode(e){return z.fromKeyCode(e)}get placeholderConditions(){return u.PLACEHOLDER_CONDITIONS}isTagPrefix(e){let r=0,t=u.STANDARD_CONDITIONS.length-1;for(;r<t;){let o=Math.floor((r+t)/2),s=u.STANDARD_CONDITIONS[o].tag.substring(0,e.length);if(e<s)t=o-1;else if(e>s)r=o+1;else return!0}return!1}static \u0275fac=function(r){return new(r||u)};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};var Ne=class extends Error{constructor(e){super(e)}get kind(){return this.message}};var ft=class u{constructor(e,r,t){this.joints=e;this.members=r;this.selectedMembers=t}mergedMembers=[];removedMembers=[];isSplitDone=!1;static createForAdd(e,r,t){return new u(e,r,t)}static createForMove(e,r,t){return new u(e,r,t)}do(){if(this.isSplitDone||=this.doSplit(),this.members.length+this.mergedMembers.length-this.removedMembers.length>z.MAX_MEMBER_COUNT)throw new Ne("tooManyMembersError");te.remove(this.members,this.removedMembers,this.selectedMembers),te.merge(this.members,this.mergedMembers,this.selectedMembers)}undo(){te.remove(this.members,this.mergedMembers,this.selectedMembers),te.merge(this.members,this.removedMembers,this.selectedMembers)}get hasSplit(){return this.mergedMembers.length>0||this.removedMembers.length>0}doSplit(){return this.joints instanceof le?this.doSplitForAdd(this.joints):this.doSplitForMove(this.joints),!0}doSplitForAdd(e){let r=this.members.length;for(let t of this.members)he.isPointOnSegment(e,t.a,t.b)&&(this.removedMembers.push(t),this.mergedMembers.push(new ge(t.index,t.a,e,t.material,t.shape)),this.mergedMembers.push(new ge(r++,e,t.b,t.material,t.shape)));this.mergedMembers.sort((t,o)=>t.index-o.index)}doSplitForMove(e){let r=new Set;this.members.forEach(c=>r.add(c.key));let t=new et,o=this.mergedMembers;for(let c of this.members){let y=function(v,C){if(!r.has(ge.getJointsKey(v,C))){let M=new ge(-1,v,C,c.material,c.shape);o.push(M),r.add(M.key)}};var a=y;let m=e.filter(v=>he.isPointOnSegment(v,c.a,c.b)).sort((v,C)=>he.distanceSquared2DPoints(v,c.a)-he.distanceSquared2DPoints(C,c.a));if(m.length===0)continue;this.removedMembers.push(c),t.pushLeft(c.index);let p=c.a;m.forEach(v=>{y(p,v),p=v}),y(p,c.b)}let s=this.members.length;this.mergedMembers.forEach(c=>{c.index===-1&&(c.index=t.length===0?s++:t.popRight())}),this.mergedMembers.sort((c,m)=>c.index-m.index)}dehydrate(e){return{mergedMembers:this.mergedMembers.map(r=>e.getMemberRef(r)),removedMembers:this.removedMembers.map(r=>e.getMemberRef(r))}}static rehydrate(e,r,t,o,s){let a=new u(t,o,s.selectedMembers);return r.mergedMembers.forEach(c=>a.mergedMembers.push(e.rehydrateMemberRef(c))),r.removedMembers.forEach(c=>a.removedMembers.push(e.rehydrateMemberRef(c))),a.isSplitDone=!0,a}};var cr=class u extends be{constructor(r,t,o,s){super(`Add joint at (${r.x}, ${r.y})`);this.joint=r;this.bridge=t;this.selectedElements=o;this.memberSplitter=s}static create(r,t,o){return new u(r,t,o,ft.createForAdd(r,t.members,o.selectedMembers))}get effectsMask(){return this.memberSplitter.hasSplit?13:9}do(){this.memberSplitter.do(),this.joint.index=this.bridge.joints.length,te.merge(this.bridge.joints,[this.joint],this.selectedElements.selectedJoints)}undo(){this.memberSplitter.undo(),te.remove(this.bridge.joints,[this.joint],this.selectedElements.selectedJoints)}dehydrate(r){let t=W.assertNotUndefined(this.memberSplitter);return{tag:"add-joint",jointRef:r.getJointRef(this.joint),splitter:t.dehydrate(r)}}static rehydrate(r,t,o,s){let a=t,c=r.rehydrateJointRef(a.jointRef);return new u(c,o,s,ft.rehydrate(r,a.splitter,c,o.members,s))}};var ur=class u extends be{constructor(r,t){super("");this.bridge=r;this.selectedElements=t}members=[];effectsMask=12;static create(r,t,o){let s=new u(t,o),a=t.joints.filter(p=>he.isPointOnSegment(p,r.a,r.b)).sort((p,y)=>he.distanceSquared2DPoints(p,r.a)-he.distanceSquared2DPoints(y,r.a));if(a.length===0)return s.description=`Add member, joint ${r.a.number} to ${r.b.number}`,s.members.push(r),s;s.description=`Add ${a.length+1} members, joint ${r.a.number} to ${r.b.number}`;let c=r.a;return a.forEach(p=>{m(c,p),c=p}),m(c,r.b),s;function m(p,y){t.members.some(v=>v.hasJoints(p,y))||s.members.push(new ge(-1,p,y,r.material,r.shape))}}do(){if(this.members.length===0)throw new Ne("noMembersToAddError");if(this.bridge.members.length+this.members.length>z.MAX_MEMBER_COUNT)throw new Ne("tooManyMembersError");this.members.forEach((r,t)=>{r.index=t+this.bridge.members.length}),te.merge(this.bridge.members,this.members,this.selectedElements.selectedMembers)}undo(){te.remove(this.bridge.members,this.members,this.selectedElements.selectedMembers)}dehydrate(r){return{tag:"add-member",description:this.description,members:this.members.map(t=>r.getMemberRef(t))}}static rehydrate(r,t,o,s){let a=t,c=new u(o,s);return c.description=a.description,a.members.forEach(m=>c.members.push(r.rehydrateMemberRef(m))),c}};var Mt=class{static formatMemberMessage(e,r,t){let o=e.map(c=>c.number);if(o.sort((c,m)=>c-m),o.length<=0)return`${r}.`;if(o.length===1)return`${r} ${o[0]}`;let s=[t||`${r}s`];s.push(" ",o[0].toString());let a=3;if(o.length<=2*a){for(let c=1;c<o.length-1;++c)s.push(", ",o[c].toString());s.push(" and ",o[o.length-1].toString())}else{for(let c=1;c<a;++c)s.push(", ",o[c].toString());s.push(" \u2026 ");for(let c=o.length-a-1;c<o.length;++c)s.push(", ",o[c].toString())}return s.join("")}};var lr=class u extends be{constructor(r,t,o){super(r);this.members=t;this.updatedMembers=o}effectsMask=20;static forMemberMaterialsUpdate(r,t){let o=Mt.formatMemberMessage(t,"Update material for member");return new u(o,r,t)}static forMemberSizeIncrement(r,t,o=1){let s=[];for(let m of t){let p=r[m],y=Re.getShapeWithSizeIncrement(p.shape,o);y!==p.shape&&s.push(new ge(p.index,p.a,p.b,p.material,y))}let a=o>0?"Up":"Down",c=Mt.formatMemberMessage(s,`${a}-size member`);return new u(c,r,s)}do(){te.exchangeAll(this.members,this.updatedMembers)}undo(){te.exchangeAll(this.members,this.updatedMembers)}dehydrate(r){return{tag:"change-members",description:this.description,updatedMembers:this.updatedMembers.map(t=>r.getMemberRef(t))}}static rehydrate(r,t,o){let s=t;return new u(s.description,o.members,s.updatedMembers.map(a=>r.rehydrateMemberRef(a)))}};var dr=class u extends be{constructor(r,t,o){super(`Delete joint at (${r.x}, ${r.y})`);this.bridge=t;this.selectedElements=o;this.joint=[r],this.members=t.members.filter(s=>s.hasJoint(r))}joint;members;get effectsMask(){return this.members.length>0?5:1}do(){te.remove(this.bridge.members,this.members,this.selectedElements.selectedMembers),te.remove(this.bridge.joints,this.joint,this.selectedElements.selectedJoints)}undo(){te.merge(this.bridge.joints,this.joint,this.selectedElements.selectedJoints),te.merge(this.bridge.members,this.members,this.selectedElements.selectedMembers)}dehydrate(r){return{tag:"delete-joint",joint:r.getJointRef(this.joint[0]),members:this.members.map(t=>r.getMemberRef(t))}}static rehydrate(r,t,o,s){let a=t,c=new u(r.rehydrateJointRef(a.joint),o,s);return a.members.forEach(m=>c.members.push(r.rehydrateMemberRef(m))),c}};var mr=class u extends be{constructor(r,t,o,s){super(`Move joint to (${t.x}, ${t.y})`);this.joint=r;this.toJoint=t;this.bridge=o;this.memberSplitter=s}_effectsMask=NaN;static create(r,t,o,s){return new u(r,new le(r.index,t.x,t.y,!1),o,ft.createForMove(o.joints,o.members,s.selectedMembers))}get effectsMask(){return isNaN(this._effectsMask)&&(this._effectsMask=this.memberSplitter.hasSplit||this.bridge.members.some(r=>r.hasJoint(this.joint))?21:17),this._effectsMask}do(){let r=this.bridge.joints[this.toJoint.index],t=this.toJoint;r.swapContents(t);try{this.memberSplitter.do()}catch(o){throw r.swapContents(t),o}}undo(){this.memberSplitter.undo(),this.bridge.joints[this.toJoint.index].swapContents(this.toJoint)}dehydrate(r){return{tag:"move-joint",joint:r.getJointRef(this.joint),toJoint:r.getJointRef(this.toJoint),splitter:this.memberSplitter.dehydrate(r)}}static rehydrate(r,t,o,s){let a=t,c=r.rehydrateJointRef(a.toJoint);return new u(r.rehydrateJointRef(a.joint),c,o,ft.rehydrate(r,a.splitter,o.joints,o.members,s))}};var hr=class u extends be{constructor(r,t,o){super(`Move labels to height ${o.toFixed(2)}`);this.draftingPanelState=r;this.yFrom=t;this.yTo=o}effectsMask=18;do(){this.draftingPanelState.yLabels=this.yTo}undo(){this.draftingPanelState.yLabels=this.yFrom}dehydrate(r){return{tag:"move-labels",yFrom:this.yFrom,yTo:this.yTo}}static rehydrate(r,t){let o=r;return new u(t,o.yFrom,o.yTo)}};var pr=class u extends be{constructor(r,t,o,s){super(Mt.formatMemberMessage(r,"Delete member"));this.members=r;this.joints=t;this.bridge=o;this.selectedElements=s}static forMember(r,t,o){return new u([r],[],t,o)}static forSelectedMembers(r,t){let o=t.bridge,s=Array.from(r.selectedMembers).sort((c,m)=>c-m).map(c=>o.members[c]),a=t.getJointsForMembersDeletion(r.selectedMembers);return new u(s,a,o,r)}get effectsMask(){return this.joints.length>0?5:4}do(){te.remove(this.bridge.members,this.members,this.selectedElements.selectedMembers),te.remove(this.bridge.joints,this.joints,this.selectedElements.selectedJoints)}undo(){te.merge(this.bridge.joints,this.joints,this.selectedElements.selectedJoints),te.merge(this.bridge.members,this.members,this.selectedElements.selectedMembers)}dehydrate(r){return{tag:"delete-members",members:this.members.map(t=>r.getMemberRef(t)),joints:this.joints.map(t=>r.getJointRef(t))}}static rehydrate(r,t,o,s){let a=t,c=a.members.map(p=>r.rehydrateMemberRef(p)),m=a.joints.map(p=>r.rehydrateJointRef(p));return new u(c,m,o,s)}};var fr=class u{refsByJoint=new Map;refsByMember=new Map;joints=[];members=[];static forBridge(e){let r=new u;return e.joints.forEach(t=>r.refsByJoint.set(t,{bridge:t.index})),e.members.forEach(t=>r.refsByMember.set(t,{bridge:t.index})),r}getJointRef(e){return this.getDehydrated(e,this.refsByJoint,this.joints)}getMemberRef(e){return this.getDehydrated(e,this.refsByMember,this.members)}getDehydrated(e,r,t){let o=r.get(e);if(o===void 0){let s=t.length;t.push(e),o={extern:s},r.set(e,o)}return o}dehydrate(){return{joints:this.joints.map(e=>u.dehydrateJoint(e)),members:this.members.map(e=>this.dehydrateMember(e))}}static dehydrateJoint(e){return{index:e.index,x:e.x,y:e.y,isFixed:e.isFixed}}dehydrateMember(e){return{index:e.index,a:this.getJointRef(e.a),b:this.getJointRef(e.b),materialIndex:e.material.index,sectionIndex:e.shape.section.index,sizeIndex:e.shape.sizeIndex}}},br=class u{constructor(e,r,t){this.bridge=e;this.externJoints=r;this.externMembers=t}static create(e,r,t){let o=e.joints.map(a=>u.rehydrateJoint(a)),s=e.members.map(a=>u.rehydrateMember(a,r.joints,o,t));return new u(r,o,s)}rehydrateJointRef(e){return u.rehydrateJointRefStatic(e,this.bridge.joints,this.externJoints)}rehydrateMemberRef(e){return e.bridge!==void 0?this.bridge.members[e.bridge]:this.externMembers[W.assertNotUndefined(e.extern)]}static rehydrateJointRefStatic(e,r,t){return e.bridge!==void 0?r[e.bridge]:t[W.assertNotUndefined(e.extern)]}static rehydrateJoint(e){return new le(e.index,e.x,e.y,e.isFixed)}static rehydrateMember(e,r,t,o){return new ge(e.index,u.rehydrateJointRefStatic(e.a,r,t),u.rehydrateJointRefStatic(e.b,r,t),o.materials[e.materialIndex],o.getShape(e.sectionIndex,e.sizeIndex))}};var _t=class u{constructor(e){this.designConditions=e;e.prescribedJoints.forEach(r=>this.joints.push(r))}version=2024;projectName="Dennis H. Mahan Memorial Bridge";projectId="";designedBy="";iterationNumber=1;joints=[];members=[];static createClone(e){let r=new u(e.designConditions);r.projectName=e.projectName,r.projectId=e.projectId,r.designedBy=e.designedBy,r.iterationNumber=e.iterationNumber;for(let t=e.designConditions.prescribedJoints.length;t<e.joints.length;++t){let o=e.joints[t];r.joints.push(new le(o.index,o.x,o.y,o.isFixed))}for(let t of e.members)r.members.push(new ge(t.index,r.joints[t.a.index],r.joints[t.b.index],t.material,t.shape,t.maxTension,t.maxCompression,t.tensionStrength,t.compressionStrength));return r}getJointByNumber(e){return this.joints[e-1]}get taggedProjectId(){return`000${this.designConditions.tag}-${this.projectId}`}clear(){this.joints.length=this.designConditions.prescribedJoints.length,this.members.length=0}};var N0=class{designConditions=we.PLACEHOLDER_CONDITIONS;spanExtent=ht.createEmpty();drawingWindow=ht.createEmpty();halfCutGapWidth;xLeftmostDeckJoint;xRightmostDeckJoint;yGradeLevel;leftAbutmentInterfaceTerrainIndex;rightAbutmentInterfaceTerrainIndex;constructor(e){this.xLeftmostDeckJoint=e.xLeftmostDeckJoint,this.xRightmostDeckJoint=e.xRightmostDeckJoint,this.yGradeLevel=$.GAP_DEPTH-e.deckElevation+$.DECK_TOP_HEIGHT,this.halfCutGapWidth=.5*(this.xRightmostDeckJoint-this.xLeftmostDeckJoint),this.leftAbutmentInterfaceTerrainIndex=$.ELEVATION_TERRAIN_POINTS.length-1;let r=this.xLeftmostDeckJoint-$.ABUTMENT_INTERFACE_SETBACK;for(;$.ELEVATION_TERRAIN_POINTS[this.leftAbutmentInterfaceTerrainIndex].x+this.halfCutGapWidth<r;)this.leftAbutmentInterfaceTerrainIndex--;this.rightAbutmentInterfaceTerrainIndex=0;let t=this.xRightmostDeckJoint+$.ABUTMENT_INTERFACE_SETBACK;for(;$.ELEVATION_TERRAIN_POINTS[this.rightAbutmentInterfaceTerrainIndex].x+this.halfCutGapWidth>t;)this.rightAbutmentInterfaceTerrainIndex++;this.spanExtent.x0=this.xLeftmostDeckJoint,this.spanExtent.y0=-e.underClearance,this.spanExtent.width=e.spanLength,this.spanExtent.height=e.underClearance+e.overClearance,this.drawingWindow.x0=this.spanExtent.x0-$.DRAWING_X_MARGIN,this.drawingWindow.width=this.spanExtent.width+2*$.DRAWING_X_MARGIN,e.isLeftAnchorage&&(this.drawingWindow.x0-=$.ANCHOR_OFFSET,this.drawingWindow.width+=$.ANCHOR_OFFSET),e.isRightAnchorage&&(this.drawingWindow.width+=$.ANCHOR_OFFSET),this.drawingWindow.y0=this.yGradeLevel-$.WATER_BELOW_GRADE-4,this.drawingWindow.height=this.yGradeLevel+$.OVERHEAD_CLEARANCE+1.5-this.drawingWindow.y0,this.designConditions=e}get leftBankX(){return this.halfCutGapWidth-$.GAP_NATURAL_HALF_WIDTH}get rightBankX(){return this.halfCutGapWidth+$.GAP_NATURAL_HALF_WIDTH}};var ne=class u{constructor(e,r=we.PLACEHOLDER_CONDITIONS){this.name=e;this.designConditions=r}static ABSENT=new u("[none]");joints=[];members=[]};var bt=class u{static FINE_GRID_SIZE=.25;static SNAP_MULTIPLES=[4,2,1];static DENSITY_BY_SNAP_MULTIPLE=[-1,2,1,-1,0];static MAX_SNAP_MULTIPLE=u.SNAP_MULTIPLES[0];_snapMultiple=u.MAX_SNAP_MULTIPLE;constructor(e){e!==void 0&&(this._snapMultiple=u.SNAP_MULTIPLES[e])}set snapMultiple(e){if(It.getDensityFromSnapMultiple(e)===-1)throw new Error("Bad snap multiple: "+e);this._snapMultiple}get snapMultiple(){return this._snapMultiple}set density(e){this._snapMultiple=u.SNAP_MULTIPLES[e]}get density(){return It.getDensityFromSnapMultiple(this._snapMultiple)}isCoarser(e){return u.SNAP_MULTIPLES[e]<this._snapMultiple}xformWorldToGrid(e){return this.snapMultiple*Math.round(e/(u.FINE_GRID_SIZE*this.snapMultiple))}xformGridToWorld(e){return e*u.FINE_GRID_SIZE}xformWorldToGridPoint(e,r){e.x=this.xformWorldToGrid(r.x),e.y=this.xformWorldToGrid(r.y)}xformGridToWorldPoint(e,r){e.x=this.xformGridToWorld(r.x),e.y=this.xformGridToWorld(r.y)}},It=class u{grid=new bt;static FINEST_GRID=new bt(2);static getDensityFromSnapMultiple(e){let r=bt.DENSITY_BY_SNAP_MULTIPLE[e];return r===void 0?-1:r}static getSnapMultipleOfGrid(e){let r=e&~(e-1);return r===0||r>bt.MAX_SNAP_MULTIPLE?bt.MAX_SNAP_MULTIPLE:r}static getSnapMultipleOfWorld(e){return this.getSnapMultipleOfGrid(Math.round(e/bt.FINE_GRID_SIZE))}static getDensityOfGrid(e){return this.getDensityFromSnapMultiple(this.getSnapMultipleOfGrid(e))}static getDensityOfWorld(e){return this.getDensityFromSnapMultiple(this.getSnapMultipleOfWorld(e))}static getDensityOfWorldPoints(e){let r=0;for(let t of e){let o=this.getDensityOfWorld(t.x);o>r&&(r=o);let s=this.getDensityOfWorld(t.y);s>r&&(r=s)}return r}static \u0275fac=function(r){return new(r||u)};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};var O0="|",gr=3,vr=2,jn=1,Gn=1,$n=2,Vn=2,Un=3,zn=10,Kn=4,Pt=class u{constructor(e,r){this.designConditionsService=e;this.inventoryService=r}getSaveSetAsText(e){let r=[],t=It.FINEST_GRID;r.push(e.bridge.version.toString().padStart(Kn)),r.push(e.bridge.designConditions.codeLong.toString().padStart(zn)),r.push(e.bridge.joints.length.toString().padStart(Vn)),r.push(e.bridge.members.length.toString().padStart(Un));for(let o of e.bridge.joints)r.push(t.xformWorldToGrid(o.x).toString().padStart(gr)),r.push(t.xformWorldToGrid(o.y).toString().padStart(gr));for(let o of e.bridge.members)r.push(o.a.number.toString().padStart(vr)),r.push(o.b.number.toString().padStart(vr)),r.push(o.material.index.toString().padStart(jn)),r.push(o.shape.section.index.toString().padStart(Gn)),r.push(o.shape.sizeIndex.toString().padStart($n));return r.push(e.bridge.designedBy,O0),r.push(e.bridge.projectId,O0),r.push(e.bridge.iterationNumber.toString(),O0),r.push(e.draftingPanelState.yLabels.toFixed(3),O0),r.join("")}parseSaveSetText(e,r){return new fn(e,this.designConditionsService,It.FINEST_GRID,this.inventoryService).parse(r)}static \u0275fac=function(r){return new(r||u)(G(we),G(Re))};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})},gt=class u{constructor(e,r){this.bridge=e;this.draftingPanelState=r}static createNew(e=we.PLACEHOLDER_CONDITIONS){return new u(new _t(e),c0.createNew())}static create(e,r){return new u(e,r)}static deepCopy(e,r){return new u(_t.createClone(e),c0.createClone(r))}clear(){this.bridge.clear(),this.draftingPanelState.clear()}},c0=class u{constructor(e=2){this.yLabels=e}static createNew(){return new u}static createClone(e){return new u(e.yLabels)}clear(){this.yLabels=2}},fn=class{constructor(e,r,t,o){this.text=e;this.designConditionsService=r;this.grid=t;this.inventoryService=o}readPtr=0;parse(e){try{this.parseOrThrow(e)}catch(r){throw e.clear(),r}}parseOrThrow(e){if(e.bridge.joints.length=e.bridge.members.length=0,this.scanNumber(!1,Kn,"bridge designer version")!==e.bridge.version)throw new Error("bridge design file version is not "+e.bridge.version);let r=this.scanNumber(!1,zn,"scenario code");e.bridge.designConditions=this.designConditionsService.getConditionsForCodeLong(r);let t=this.scanNumber(!1,Vn,"number of joints"),o=this.scanNumber(!1,Un,"number of members"),s;for(let a=0,c=1;a<t;a++,c++){let m=this.scanNumber(!0,gr,`joint ${c} x-coordinate`),p=this.scanNumber(!0,gr,`joint ${c} y-coordinate`);if(a<e.bridge.designConditions.prescribedJoints.length){if(s=e.bridge.designConditions.prescribedJoints[a],m!=this.grid.xformWorldToGrid(s.x)||p!=this.grid.xformWorldToGrid(s.y))throw new Error(`bad prescribed joint ${c}`)}else s=new le(a,this.grid.xformGridToWorld(m),this.grid.xformGridToWorld(p),!1);e.bridge.joints.push(s)}for(let a=0,c=1;a<o;a++){let m=this.scanNumber(!1,vr,`first joint of member ${c}`),p=e.bridge.getJointByNumber(m),y=this.scanNumber(!1,vr,`second joint of member ${c}`),v=e.bridge.getJointByNumber(y),C=this.scanNumber(!1,jn,`material index of member ${c}`),M=this.scanNumber(!1,Gn,`section index of member ${c}`),_=this.scanNumber(!1,$n,`size index of member ${c}`),R=new ge(a,p,v,this.inventoryService.materials[C],this.inventoryService.getShape(M,_));e.bridge.members.push(R)}e.bridge.designedBy=this.scanToDelimiter("name of designer"),e.bridge.projectId=this.scanToDelimiter("project ID"),e.bridge.iterationNumber=parseInt(this.scanToDelimiter("iteration")),e.draftingPanelState.yLabels=parseFloat(this.scanToDelimiter("label position"))}static extractRatioFromText(e){let r=parseInt(e);return isNaN(r)?void 0:r}scanToDelimiter(e){let r=this.readPtr;for(;W.assertNotUndefined(this.text[this.readPtr],e)!==O0;)this.readPtr++;return this.text.slice(r,this.readPtr++)}scanNumber(e,r,t){let o=0,s=!1;for(;r>0&&this.text[this.readPtr]===" ";)r--,this.readPtr++;for(e&&r>=2&&this.text[this.readPtr]==="-"&&(r--,this.readPtr++,s=!0);r>0;){let a=parseInt(this.text[this.readPtr]);if(Number.isNaN(a))throw`Couldn't scan ${t}`;o=o*10+a,r--,this.readPtr++}return s?-o:o}};var yr=class u{addSketchesFromDataForConditions(e,r){let t=Qi[r.tagGeometryOnly];t&&t.forEach(({name:o,text:s})=>e.push(this.populateFromText(new ne(o,r),s)))}populateFromText(e,r){let t=r.split("|"),o=0,s=t[o++];if(s!==e.designConditions.tagGeometryOnly)throw new Error(`Tag mismatch: ${s} vs ${e.designConditions.tagGeometryOnly}`);let a=parseInt(t[o++]),c=parseInt(t[o++]);for(let m=0;m<a;++m){let p=parseFloat(t[o++]),y=parseFloat(t[o++]);e.joints.push(new Y(p,y))}for(let m=0;m<c;++m){let p=parseInt(t[o++])-1,y=parseInt(t[o++])-1;e.members.push({a:e.joints[p],b:e.joints[y]})}return e}static \u0275fac=function(r){return new(r||u)};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})},Qi={14:[{name:"Cable Stayed Bridge",text:"14|8|11|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|-8.0|0.0|0.0|10.0|7|8|8|1|8|2|8|3|8|4|8|5|1|2|2|3|3|4|4|5|5|6"}],21:[{name:"Cable Stayed Bridge",text:"21|10|13|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|-8.0|0.0|28.0|0.0|0.0|7.5|20.0|7.5|7|9|1|9|9|2|9|3|8|10|10|5|10|4|6|10|2|3|3|4|4|5|5|6|1|2"},{name:"Suspension Bridge",text:"21|24|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|-8.0|0.0|28.0|0.0|0.0|7.5|20.0|7.5|8.0|2.0|12.0|2.0|16.0|3.5|4.0|3.5|4.0|1.25|8.0|1.25|12.0|1.25|16.0|1.25|10.0|1.25|6.0|1.25|14.0|1.25|6.0|0.0|14.0|0.0|10.0|0.0|9|1|10|6|1|2|5|6|9|14|14|11|11|12|12|13|13|10|7|9|10|8|1|15|18|6|14|15|15|2|11|16|16|3|12|17|17|4|13|18|18|5|3|19|19|4|16|19|19|17|16|22|22|20|20|2|17|23|23|21|21|5|19|24|2|22|22|3|3|24|24|4|4|23|23|5|15|20|20|16|17|21|21|18"}],26:[{name:"Three-hinge Arch - Pratt",text:"26|23|44|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|0.0|-20.0|24.0|-20.0|0.0|-5.0|0.0|-10.0|0.0|-15.0|24.0|-15.0|24.0|-10.0|24.0|-5.0|4.0|-5.0|8.0|-5.0|16.0|-5.0|20.0|-5.0|20.0|-10.0|20.0|-15.0|4.0|-10.0|4.0|-15.0|8|12|12|23|23|8|1|16|10|22|1|10|10|11|11|12|1|2|2|3|3|4|4|5|5|6|6|7|7|15|15|14|14|13|13|9|19|7|20|15|21|14|9|21|21|13|21|20|20|19|19|6|20|18|18|19|19|15|20|14|6|18|18|5|23|22|22|16|22|17|17|16|16|10|17|2|16|2|17|3|17|4|18|4|11|22|23|11"},{name:"Continuous Arch - Pratt",text:"26|24|47|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|0.0|-20.0|24.0|-20.0|0.0|-5.0|0.0|-10.0|0.0|-15.0|24.0|-15.0|24.0|-10.0|24.0|-5.0|4.0|-5.0|8.0|-5.0|16.0|-5.0|20.0|-5.0|20.0|-10.0|20.0|-15.0|4.0|-10.0|4.0|-15.0|12.0|-5.0|8|12|12|23|23|8|1|16|10|22|1|10|10|11|11|12|1|2|2|3|3|4|4|5|5|6|6|7|7|15|15|14|14|13|13|9|19|7|20|15|21|14|9|21|21|13|21|20|20|19|19|6|20|18|18|19|19|15|20|14|6|18|18|5|23|22|22|16|22|17|17|16|16|10|17|2|16|2|17|3|17|4|18|4|11|22|23|11|17|24|18|24|24|4"},{name:"Continuous Arch - Howe",text:"26|20|39|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|0.0|-20.0|24.0|-20.0|8.0|-6.0|12.0|-4.0|16.0|-6.0|20.0|-6.0|24.0|-6.0|24.0|-12.0|20.0|-12.0|4.0|-12.0|0.0|-12.0|0.0|-6.0|4.0|-6.0|8|17|17|10|10|11|11|12|12|16|16|9|9|15|15|14|14|7|7|6|6|5|5|4|4|3|3|2|2|1|1|19|19|18|18|8|18|17|17|20|10|20|20|19|18|20|20|2|2|19|20|3|10|4|3|10|11|4|4|12|12|5|5|13|13|6|6|14|14|13|13|12|13|16|16|15|15|13"}],27:[{name:"Continuous Arch - Lattice",text:"27|35|67|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|0.0|-24.0|20.0|-24.0|10.0|-4.0|12.0|-8.0|14.0|-12.0|16.0|-16.0|18.0|-20.0|2.0|-20.0|4.0|-16.0|6.0|-12.0|8.0|-8.0|0.0|-16.0|0.0|-8.0|20.0|-8.0|20.0|-16.0|2.0|-12.0|4.0|-8.0|2.0|-4.0|6.0|-4.0|14.0|-4.0|18.0|-4.0|16.0|-8.0|18.0|-12.0|0.0|-12.0|20.0|-12.0|0.0|-4.0|20.0|-4.0|0.0|-20.0|20.0|-20.0|3|9|4|9|7|14|14|15|16|15|16|17|17|9|9|10|10|11|11|12|12|13|13|8|18|14|19|22|22|18|22|15|1|24|24|23|23|16|2|25|25|17|4|26|26|28|28|29|29|21|5|27|27|20|10|26|26|5|11|28|28|27|27|6|12|29|29|20|13|21|1|2|2|3|3|4|4|5|5|6|19|24|24|2|3|25|25|23|23|22|19|30|30|22|29|31|20|31|30|18|31|21|1|32|32|24|27|33|6|33|32|19|33|20|18|34|34|14|21|35|13|35|34|7|35|8|24|25|9|26|25|9|26|27"},{name:"Continuous Arch - Pratt",text:"27|23|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|0.0|-24.0|20.0|-24.0|0.0|-18.0|0.0|-12.0|0.0|-6.0|4.0|-6.0|8.0|-6.0|10.0|-4.0|12.0|-6.0|16.0|-6.0|20.0|-6.0|20.0|-12.0|16.0|-12.0|18.5|-18.0|20.0|-18.0|1.5|-18.0|4.0|-12.0|7|9|9|10|10|11|11|1|1|2|8|20|20|19|19|15|15|14|14|13|13|23|23|22|22|7|9|22|22|10|10|23|11|23|11|12|23|12|15|16|5|16|19|18|18|20|21|20|17|19|16|6|5|15|15|4|4|14|14|3|3|13|13|2|1|12|6|17|17|18|18|21|21|8|2|3|12|13|12|2|16|17|16|19|3|4|4|5|5|6"}],32:[{name:"Continuous Arch - Pratt",text:"32|14|26|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|0.0|-20.0|20.0|-20.0|0.0|-10.0|4.0|-10.0|8.0|-4.0|12.0|-4.0|16.0|-10.0|20.0|-10.0|9|1|2|1|2|3|3|4|4|5|5|6|6|14|14|8|8|13|13|14|13|6|13|5|5|12|12|13|12|4|12|3|3|11|11|12|4|11|11|2|2|10|10|11|10|1|9|10|10|7|7|9"}],43:[{name:"Continuous Deck Truss - Strut",text:"43|24|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-24.0|4.0|-4.0|8.0|-5.5|12.0|-7.0|16.0|-10.0|20.0|-16.0|24.0|-10.0|28.0|-7.0|32.0|-5.5|36.0|-4.0|40.0|-3.5|20.0|-8.0|1|2|6|24|1|14|14|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|12|11|23|23|10|10|22|22|9|9|21|21|8|8|20|20|7|7|19|19|6|6|17|17|5|5|16|16|4|4|15|15|3|3|14|14|2|17|24|24|19|2|3|18|13|24|18|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"},{name:"Continuous Deck Truss - Lattice",text:"43|31|68|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-24.0|4.0|-2.5|8.0|-6.0|12.0|-10.5|16.0|-16.0|20.0|-16.0|24.0|-16.0|28.0|-6.0|32.0|-6.0|36.0|-3.0|40.0|-1.0|28.0|-10.5|12.0|-6.0|16.0|-6.0|20.0|-6.0|24.0|-6.0|24.0|-10.5|20.0|-10.5|16.0|-10.5|1|2|1|14|14|15|15|16|16|17|17|13|13|19|19|24|24|21|21|22|22|23|23|12|16|31|17|18|15|25|13|18|17|31|16|25|15|3|14|2|14|3|15|4|25|5|16|26|26|6|31|27|17|30|19|30|19|29|24|20|21|9|22|10|23|10|11|23|22|9|21|8|20|7|24|28|28|6|29|27|2|3|29|24|30|29|31|30|18|19|20|21|25|26|18|30|26|5|31|26|25|4|28|7|29|28|20|8|3|4|26|27|27|6|30|27|4|5|27|28|5|6|28|20|6|7|7|8|8|9|9|10|10|11|11|12"}],44:[{name:"Continuous Deck Truss - Lattice",text:"44|31|66|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-20.0|4.0|-2.0|8.0|-4.5|12.0|-8.5|16.0|-13.5|20.0|-13.5|24.0|-13.5|28.0|-8.5|24.0|-8.5|20.0|-8.5|16.0|-8.5|12.0|-4.5|16.0|-4.5|20.0|-4.5|24.0|-4.5|28.0|-4.5|32.0|-4.5|36.0|-2.0|40.0|-1.0|1|2|15|24|16|23|17|18|16|6|6|20|13|17|17|16|16|15|15|14|14|1|13|19|19|20|20|29|29|30|30|31|31|12|11|31|10|30|31|10|30|9|9|29|29|8|8|28|28|7|7|27|6|26|27|21|5|25|17|22|22|19|21|26|26|23|5|24|4|24|4|15|15|3|3|14|14|2|2|3|24|25|21|20|22|21|23|22|18|19|28|20|18|13|22|18|26|22|21|19|23|17|25|23|24|16|3|4|25|26|4|5|26|27|5|6|27|28|6|7|28|29|7|8|8|9|9|10|10|11|11|12"},{name:"Continuous Deck Truss - Strut",text:"44|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-20.0|4.0|-4.0|8.0|-5.0|12.0|-6.0|16.0|-8.0|20.0|-12.0|24.0|-8.0|28.0|-6.0|32.0|-5.0|36.0|-4.0|40.0|-3.5|1|14|14|2|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|12|23|23|22|22|21|21|20|20|19|19|18|18|17|17|16|16|15|15|14|1|2|2|3|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12|6|18|18|13"}],45:[{name:"Continuous Deck Truss - Lattice",text:"45|30|40|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-16.0|4.0|-4.0|8.0|-2.5|8.0|-5.0|12.0|-3.5|12.0|-7.0|16.0|-4.5|16.0|-11.0|20.0|-7.5|24.0|-11.0|24.0|-4.5|28.0|-7.5|28.0|-3.5|32.0|-5.5|32.0|-2.5|36.0|-4.5|36.0|-2.0|40.0|-4.0|6|13|5|20|4|18|3|16|2|14|7|22|8|24|9|26|10|28|11|30|1|12|1|14|14|16|16|18|18|20|20|13|13|22|22|24|24|26|26|28|28|30|30|12|30|29|29|11|10|27|27|28|9|25|25|26|8|23|23|24|7|21|21|22|5|21|21|20|4|19|19|18|3|17|17|16|2|15|15|14"},{name:"Continuous Deck Truss - Beam",text:"45|24|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-16.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|40.0|-4.0|20.0|-8.0|1|2|23|22|6|18|1|14|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|23|12|24|19|24|17|2|3|15|14|16|15|17|16|18|17|19|18|20|19|21|20|22|21|18|24|3|4|24|13|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"},{name:"Continuous Deck Truss - Strut",text:"45|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-16.0|4.0|-4.0|8.0|-4.0|12.0|-4.5|16.0|-5.5|20.0|-8.0|24.0|-5.5|28.0|-4.5|32.0|-4.0|36.0|-4.0|40.0|-4.0|1|2|12|23|23|22|22|21|21|20|20|19|19|18|18|17|17|16|16|15|15|14|14|1|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|2|3|18|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],46:[{name:"Continuous Deck Truss - Lattice",text:"46|24|31|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-12.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-5.0|18.0|-8.0|22.0|-8.0|26.0|-5.0|30.0|-4.0|34.0|-4.0|38.0|-4.0|42.0|-4.0|1|12|12|24|24|21|14|16|16|17|17|18|18|13|13|19|19|20|20|21|24|11|11|23|23|10|10|22|22|9|9|21|21|8|8|20|20|7|7|19|19|6|6|18|18|5|5|17|17|4|4|16|16|3|3|15|15|2|2|14|14|1"},{name:"Continuous Deck Truss - Strut",text:"46|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-12.0|4.0|-4.0|8.0|-4.0|12.0|-4.5|16.0|-5.5|20.0|-8.0|24.0|-5.5|28.0|-4.5|32.0|-4.0|36.0|-4.0|40.0|-4.0|1|2|1|14|14|2|14|3|14|15|15|3|15|4|15|16|16|4|16|5|16|17|17|5|17|6|17|18|6|18|18|19|19|6|19|7|7|20|20|19|8|20|20|21|21|8|9|21|21|22|22|9|22|10|10|23|23|22|23|11|23|12|2|3|18|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"},{name:"Continuous Deck Truss - Beam",text:"46|24|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-12.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|40.0|-4.0|20.0|-8.0|1|2|14|15|13|24|24|17|24|19|1|14|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|10|22|10|23|23|11|23|12|2|3|15|16|18|6|24|18|3|4|16|17|4|5|17|18|5|6|18|19|6|7|19|20|7|8|20|21|8|9|21|22|9|10|22|23|10|11|11|12"}],47:[{name:"Continuous Deck Truss - Beam",text:"47|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-8.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|40.0|-4.0|1|14|14|2|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|19|19|7|7|20|20|8|8|21|9|21|9|22|22|10|10|23|23|11|23|12|1|2|2|3|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12|23|22|22|21|21|20|20|19|19|18|18|17|17|16|16|15|15|14|6|18|18|13"},{name:"Two Simple Spans - Thru Truss",text:"47|24|43|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|42.0|4.0|14|15|19|20|12|11|6|13|1|14|14|2|2|15|15|3|3|16|16|4|4|17|17|5|5|18|18|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|11|24|24|12|15|16|20|21|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|10|9|11|10|16|17|21|22|17|18|22|23|23|24"},{name:"Continuous Deck Truss - Warren",text:"47|24|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-8.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|30.0|-4.0|34.0|-4.0|38.0|-4.0|42.0|-4.0|5|18|13|19|14|15|12|11|1|14|14|2|2|15|15|3|3|16|16|4|4|17|17|5|18|6|6|19|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|11|24|24|12|18|13|19|7|15|16|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|10|9|11|10|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24"}],48:[{name:"Continuous Thru Truss",text:"48|24|44|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|42.0|4.0|14|15|19|20|12|11|13|6|1|14|14|2|2|15|15|3|3|16|16|4|4|17|17|5|5|18|18|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|11|24|24|12|15|16|20|21|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|10|9|11|10|16|17|21|22|17|18|22|23|23|24|18|19"},{name:"Two Simple Spans - Thru Truss",text:"48|24|43|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|42.0|4.0|14|15|19|20|12|11|13|6|1|14|14|2|2|15|15|3|3|16|16|4|4|17|17|5|5|18|18|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|11|24|24|12|15|16|20|21|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|10|9|11|10|16|17|21|22|17|18|22|23|23|24"},{name:"Continuous Deck Truss",text:"48|22|23|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-4.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|40.0|-4.0|1|12|22|14|1|14|14|2|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|13|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|22|11|22|12"}],49:[{name:"Two Simple Spans - Deck Truss",text:"49|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|30.0|-4.0|34.0|-4.0|38.0|-4.0|42.0|-4.0|1|2|23|22|17|16|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|22|11|11|23|23|12|2|3|19|18|20|19|21|20|22|21|14|13|15|14|16|15|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"},{name:"Two Simple Spans - Thru Truss",text:"49|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|42.0|4.0|13|14|1|2|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|11|22|11|23|23|12|14|15|2|3|15|16|3|4|16|17|4|5|5|6|18|19|6|7|19|20|7|8|20|21|8|9|21|22|9|10|22|23|10|11|11|12"},{name:"Continuous Thru Truss",text:"49|23|43|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|42.0|4.0|13|14|23|12|12|11|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|22|11|11|23|14|15|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|10|9|11|10|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23"}],50:[{name:"Continuous Deck Truss - Strut",text:"50|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-20.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|16.0|-7.5|20.0|-12.0|24.0|-7.5|28.0|-5.5|32.0|-4.0|36.0|-4.0|1|2|1|13|13|2|13|3|13|14|14|3|14|4|4|15|15|5|5|16|16|6|6|17|17|18|18|6|18|7|7|19|19|8|8|20|20|9|9|21|21|10|11|21|21|20|20|19|19|18|17|16|16|15|15|14|17|12|2|3|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11"},{name:"Continuous Deck Truss - Lattice",text:"50|29|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-20.0|4.0|-2.0|8.0|-4.5|12.0|-4.5|16.0|-4.5|20.0|-4.5|24.0|-4.5|28.0|-4.5|32.0|-4.5|12.0|-8.5|16.0|-8.5|20.0|-8.5|24.0|-8.5|28.0|-8.5|16.0|-13.5|20.0|-13.5|24.0|-13.5|36.0|-2.0|2|3|14|15|21|22|26|27|6|17|26|22|4|15|14|3|2|13|7|18|25|19|8|20|20|9|9|10|1|2|1|13|13|14|14|21|21|26|26|12|12|28|28|25|25|20|20|29|29|11|10|29|29|9|19|7|25|18|18|6|6|21|17|22|23|26|23|28|24|17|5|15|4|14|3|13|3|4|15|16|22|23|27|28|17|23|16|5|22|16|15|21|18|24|19|8|4|5|16|17|23|24|23|27|24|28|5|6|17|18|24|25|27|12|6|7|18|19|7|8|19|20|8|9|10|11"}],51:[{name:"Continuous Deck Truss - Strut",text:"51|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-16.0|4.0|-4.0|8.0|-4.0|12.0|-4.5|16.0|-5.5|20.0|-8.0|24.0|-5.5|28.0|-4.5|32.0|-4.0|36.0|-4.0|1|2|11|21|21|10|9|21|21|20|20|9|8|20|20|19|8|19|19|7|7|18|18|6|6|17|6|16|16|5|5|15|15|4|4|14|14|3|3|13|13|2|1|13|13|14|14|15|15|16|16|17|17|18|18|19|2|3|17|12|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11"},{name:"Continuous Deck Truss - Lattice",text:"51|24|49|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-16.0|4.0|-1.5|8.0|-3.0|12.0|-5.5|16.0|-5.5|20.0|-5.5|24.0|-5.5|28.0|-5.5|32.0|-3.0|36.0|-1.5|24.0|-10.0|20.0|-10.0|16.0|-10.0|1|2|19|18|24|23|6|17|12|24|12|22|22|19|19|20|20|21|21|11|21|10|1|13|13|2|13|3|3|14|14|4|4|15|5|16|5|15|16|6|6|18|7|18|7|19|19|8|8|20|20|9|9|21|22|17|17|24|24|15|15|14|14|13|2|3|16|15|17|16|18|17|23|22|17|23|16|24|18|22|3|4|23|12|4|5|5|6|6|7|7|8|8|9|9|10|10|11"},{name:"Continuous Deck Truss - Beam",text:"51|22|41|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-16.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|20.0|-8.0|1|2|13|14|6|17|1|13|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|21|11|22|18|22|16|2|3|14|15|17|22|3|4|15|16|22|12|4|5|16|17|5|6|17|18|6|7|18|19|7|8|19|20|8|9|20|21|9|10|10|11"}],52:[{name:"Continuous Deck Truss - Beam",text:"52|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-12.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|6|17|1|2|21|20|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|21|11|13|1|17|12|2|3|14|13|15|14|16|15|17|16|18|17|19|18|20|19|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11"},{name:"Continuous Deck Truss - Strut",text:"52|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-12.0|20.0|-8.0|16.0|-5.5|12.0|-4.5|8.0|-4.0|4.0|-4.0|24.0|-5.5|28.0|-4.5|32.0|-4.0|36.0|-4.0|1|2|12|13|1|17|17|2|17|3|3|16|16|4|4|15|15|5|5|14|14|6|6|18|18|7|7|19|19|8|20|8|20|9|9|21|21|10|17|16|16|15|15|14|14|13|13|18|18|19|19|20|20|21|21|11|2|3|13|6|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11"},{name:"Continuous Deck Truss - Lattice",text:"52|21|29|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-12.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|16.0|-7.0|20.0|-7.0|24.0|-7.0|28.0|-5.5|32.0|-4.5|36.0|-4.0|1|11|6|12|16|18|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|11|21|21|20|20|19|19|18|18|12|12|16|16|15|15|14|14|13|13|1"}],53:[{name:"Continuous Thru Truss",text:"53|22|40|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|1|2|13|14|12|6|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|20|8|20|9|9|21|21|10|10|22|22|11|2|3|14|15|3|4|15|16|4|5|16|17|5|6|6|7|18|19|7|8|19|20|8|9|20|21|9|10|21|22|10|11|17|18"},{name:"Continuous Deck Truss",text:"53|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-8.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|1|2|13|14|6|17|1|13|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|21|11|2|3|14|15|17|12|3|4|15|16|4|5|16|17|5|6|17|18|6|7|18|19|7|8|19|20|8|9|20|21|9|10|10|11"},{name:"Two Simple Spans - Thru Truss",text:"53|22|39|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|1|2|13|14|12|6|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|20|8|20|9|9|21|21|10|10|22|22|11|2|3|14|15|3|4|15|16|4|5|16|17|5|6|6|7|18|19|7|8|19|20|8|9|20|21|9|10|21|22|10|11"}],54:[{name:"Continuous Thru Truss",text:"54|22|40|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|13|14|1|2|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|22|11|6|12|14|15|2|3|15|16|3|4|16|17|4|5|17|18|5|6|18|19|6|7|19|20|7|8|20|21|8|9|21|22|9|10|10|11"},{name:"Two Simple Spans - Thru Truss",text:"54|22|39|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|13|14|1|2|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|22|11|6|12|14|15|2|3|15|16|3|4|16|17|4|5|5|6|18|19|6|7|19|20|7|8|20|21|8|9|21|22|9|10|10|11"},{name:"Continuous Deck Truss",text:"54|20|37|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-4.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|1|2|20|19|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|12|6|17|7|17|7|18|18|8|8|19|19|9|9|20|20|10|20|11|13|1|2|3|12|16|17|12|18|17|19|18|3|4|14|13|15|14|16|15|4|5|5|6|6|7|7|8|8|9|9|10|10|11"}],55:[{name:"Two Simple Spans - Deck Truss",text:"55|21|23|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|30.0|-4.0|34.0|-4.0|38.0|-4.0|1|11|21|17|16|12|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|10|21|21|11"},{name:"Two Simple Spans - Thru Truss",text:"55|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|12|13|1|2|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|21|10|21|11|13|14|2|3|14|15|3|4|15|16|4|5|5|6|17|18|6|7|18|19|7|8|19|20|8|9|20|21|9|10|10|11"},{name:"Continuous Thru Truss",text:"55|21|39|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|12|13|1|2|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|21|10|21|11|13|14|2|3|14|15|3|4|15|16|4|5|16|17|5|6|17|18|6|7|18|19|7|8|19|20|8|9|20|21|9|10|10|11"}],56:[{name:"Continuous Deck Truss - Beam",text:"56|20|37|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-16.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|16.0|-8.0|5|15|1|2|12|13|19|10|19|9|19|8|8|18|18|7|7|17|17|6|6|16|16|5|5|14|14|4|4|13|13|3|3|12|12|2|12|1|14|20|20|16|15|20|2|3|13|14|20|11|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"},{name:"Continuous Deck Truss - Strut",text:"56|19|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-16.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|16.0|-8.0|20.0|-5.5|24.0|-4.5|28.0|-4.0|32.0|-4.0|1|2|5|15|1|12|12|2|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|10|19|19|18|18|17|17|16|16|15|15|14|14|13|13|12|2|3|15|11|3|4|4|5|5|6|6|7|7|8|8|9|9|10"},{name:"Continuous Deck Truss - Lattice",text:"56|22|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-16.0|4.0|-2.0|8.0|-5.5|12.0|-5.5|16.0|-5.5|20.0|-5.5|24.0|-5.5|28.0|-2.5|32.0|-1.0|12.0|-10.0|16.0|-10.0|20.0|-10.0|1|2|17|16|20|21|11|21|22|16|20|14|13|3|17|7|12|2|12|3|13|4|14|5|20|15|16|5|17|6|18|7|19|8|22|15|18|8|10|19|19|18|18|17|17|22|22|11|11|20|20|13|13|12|12|1|2|3|14|13|15|14|16|15|21|22|15|5|21|15|16|6|14|4|3|4|4|5|5|6|6|7|7|8|8|9|9|10|19|9"},{name:"Continuous Deck Truss - Braced Strut",text:"56|20|37|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-16.0|4.0|-4.0|8.0|-4.5|12.0|-6.0|16.0|-6.0|20.0|-6.0|24.0|-4.5|28.0|-4.0|32.0|-4.0|16.0|-12.0|1|2|5|15|14|15|2|12|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|10|19|19|18|18|17|17|16|16|20|20|14|14|13|13|12|12|1|2|3|15|20|15|16|3|4|20|11|4|5|5|6|6|7|7|8|8|9|9|10"}],57:[{name:"Continuous Deck Truss - Lattice",text:"57|19|36|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-5.0|12.0|-7.0|16.0|-7.0|20.0|-7.0|24.0|-5.0|28.0|-4.0|32.0|-4.0|1|2|12|13|5|15|1|12|2|12|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|19|10|2|3|13|14|15|11|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10|14|11|11|16"},{name:"Continuous Deck Truss - Strut",text:"57|19|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|16.0|-8.0|20.0|-5.5|24.0|-4.5|28.0|-4.0|32.0|-4.0|1|2|12|13|5|15|1|12|2|12|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|19|10|2|3|13|14|15|11|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"},{name:"Continuous Deck Truss - Beam",text:"57|19|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|1|2|12|13|5|15|1|12|2|12|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|19|10|2|3|13|14|15|11|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"}],58:[{name:"Continuous Thru Truss",text:"58|20|36|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|12|13|10|9|5|11|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|13|14|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|14|15|15|16|16|17|17|18|18|19|19|20"},{name:"Continuous Deck Truss - Beam",text:"58|19|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-8.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|1|2|12|13|5|15|2|12|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|1|12|10|19|2|3|13|14|15|11|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"},{name:"Two Simple Spans - Thru Truss",text:"58|20|35|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|12|13|10|9|5|11|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|13|14|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|14|15|16|17|17|18|18|19|19|20"},{name:"Continuous Deck Truss - Lattice",text:"58|18|33|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-8.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|20.0|-5.5|24.0|-4.5|28.0|-4.0|32.0|-4.0|1|2|12|13|2|12|12|3|3|13|13|4|4|14|14|5|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|1|12|10|18|2|3|13|14|3|4|4|5|5|6|15|16|6|7|16|17|7|8|17|18|8|9|9|10|5|11|11|15|11|14"}],59:[{name:"Continuous Deck Truss",text:"59|18|33|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-4.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|1|12|12|2|3|12|3|13|13|4|4|14|14|5|5|15|6|15|6|16|16|7|7|17|17|8|8|18|18|9|10|18|12|13|1|2|11|15|13|14|2|3|15|16|14|11|3|4|16|17|4|5|17|18|5|6|6|7|7|8|8|9|9|10|5|11"},{name:"Two Simple Spans - Thru Truss",text:"59|20|35|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|12|13|1|2|11|5|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|13|14|2|3|14|15|3|4|4|5|16|17|5|6|17|18|6|7|18|19|7|8|19|20|8|9|9|10"},{name:"Continuous Thru Truss",text:"59|20|36|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|12|13|1|2|11|5|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|13|14|2|3|14|15|3|4|15|16|4|5|16|17|5|6|17|18|6|7|18|19|7|8|19|20|8|9|9|10"}],60:[{name:"Two Simple Spans - Deck Truss",text:"60|19|21|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|30.0|-4.0|34.0|-4.0|1|10|10|19|19|15|14|11|11|2|2|12|12|3|3|13|13|4|4|14|14|5|11|1|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|9|19"},{name:"Two Simple Spans - Thru Truss",text:"60|19|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|11|12|1|2|10|19|19|9|9|18|18|8|8|17|17|7|7|16|16|6|6|15|15|5|5|14|14|4|4|13|13|3|3|12|12|2|11|2|11|1|12|13|2|3|13|14|3|4|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"},{name:"Continuous Thru Truss",text:"60|19|35|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|11|12|1|2|10|19|19|9|9|18|18|8|8|17|17|7|7|16|16|6|6|15|15|5|5|14|14|4|4|13|13|3|3|12|12|2|11|2|11|1|12|13|2|3|13|14|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"}],61:[{name:"Continuous Deck Truss - Beam",text:"61|17|30|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|1|2|17|16|5|14|2|11|11|3|3|12|12|4|4|13|13|5|5|15|15|6|6|16|16|7|7|17|17|8|17|9|11|1|2|3|12|11|13|12|14|13|15|14|16|15|14|10|3|4|4|5|5|6|6|7|7|8|8|9"},{name:"Continuous Deck Truss - Lattice",text:"61|17|32|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-4.5|12.0|-6.0|16.0|-6.0|20.0|-6.0|24.0|-4.5|28.0|-4.0|1|2|17|16|5|14|2|11|11|3|3|12|12|4|4|13|13|5|5|15|15|6|6|16|16|7|7|17|17|8|17|9|11|1|2|3|12|11|13|12|14|13|15|14|16|15|14|10|3|4|4|5|5|6|6|7|7|8|8|9|13|10|10|15"},{name:"Continuous Deck Truss - Strut",text:"61|17|30|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|16.0|-8.0|20.0|-5.5|24.0|-4.5|28.0|-4.0|1|2|17|16|5|14|2|11|11|3|3|12|12|4|4|13|13|5|5|15|15|6|6|16|16|7|7|17|17|8|17|9|11|1|2|3|12|11|13|12|14|13|15|14|16|15|14|10|3|4|4|5|5|6|6|7|7|8|8|9"}],62:[{name:"Continuous Thru Truss",text:"62|18|32|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|11|12|1|2|10|5|1|11|11|2|2|12|12|3|3|13|13|4|4|14|14|5|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|12|13|2|3|13|14|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|8|9"},{name:"Continuous Deck Truss - Lattice",text:"62|16|29|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-8.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|20.0|-5.5|24.0|-4.5|28.0|-4.0|11|12|1|2|9|16|16|8|16|7|7|15|15|6|6|14|14|5|5|13|13|4|4|12|12|3|3|11|11|2|11|1|12|13|2|3|3|4|4|5|14|15|5|6|15|16|6|7|7|8|8|9|5|10|10|13|10|14"},{name:"Continuous Deck Truss - Beam",text:"62|17|30|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-8.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|11|12|5|14|1|2|9|17|17|8|17|7|7|16|16|6|6|15|15|5|5|13|13|4|4|12|12|3|3|11|11|2|11|1|12|13|14|10|2|3|13|14|3|4|14|15|4|5|15|16|5|6|16|17|6|7|7|8|8|9"},{name:"Two Simple Spans - Thru Truss",text:"62|18|31|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|11|12|1|2|10|5|1|11|11|2|2|12|12|3|3|13|13|4|4|14|14|5|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|12|13|2|3|13|14|3|4|4|5|15|16|5|6|16|17|6|7|17|18|7|8|8|9"}],63:[{name:"Continuous Thru Truss",text:"63|18|21|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|11|14|15|18|9|1|1|11|11|2|2|12|12|3|3|13|13|4|4|14|14|5|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|5|10|14|15"},{name:"Two Simple Spans - Thru Truss",text:"63|18|20|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|11|14|15|18|9|1|1|11|11|2|2|12|12|3|3|13|13|4|4|14|14|5|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|5|10"},{name:"Continuous Deck Truss",text:"63|16|18|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-4.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|11|16|9|1|1|11|11|2|3|11|3|12|12|4|4|13|13|5|5|10|5|14|14|6|6|15|7|8|7|16|15|7|8|16|16|9"}],64:[{name:"Continuous Thru Truss",text:"64|17|20|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|10|13|14|17|17|9|9|1|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|6|15|15|7|7|16|16|8|8|17|13|14"},{name:"Two Simple Spans - Thru Truss",text:"64|17|19|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|10|13|14|17|17|9|9|1|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|6|15|15|7|7|16|16|8|8|17"},{name:"Two Simple Spans - Deck Truss",text:"64|17|19|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|30.0|-4.0|1|9|17|14|13|10|10|1|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|6|15|15|7|7|16|16|8|8|17|17|9"}],65:[{name:"Two Simple Spans - Thru Truss",text:"65|16|27|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|10|11|13|14|16|8|8|7|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|6|15|15|7|7|16|4|9|11|12|14|15|2|1|3|2|4|3|5|4|6|5|7|6|15|16"},{name:"Continuous Deck Truss - Lattice",text:"65|14|25|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-8.0|4.0|-4.0|8.0|-5.0|16.0|-5.0|20.0|-4.0|24.0|-4.0|1|2|14|13|1|10|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|14|7|14|8|2|3|11|10|13|12|3|4|4|5|5|6|6|7|7|8|4|9|9|11|9|12"},{name:"Continuous Thru Truss",text:"65|16|28|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|10|11|13|14|16|8|8|7|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|6|15|15|7|7|16|4|9|11|12|14|15|2|1|3|2|4|3|5|4|6|5|7|6|15|16|12|13"},{name:"Continuous Deck Truss - Beam",text:"65|15|26|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-8.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|1|2|15|14|1|10|2|10|10|3|3|11|11|4|4|12|4|13|13|5|5|14|14|6|6|15|15|7|15|8|2|3|11|10|12|11|13|12|14|13|12|9|3|4|4|5|5|6|6|7|7|8"}],66:[{name:"Two Simple Spans - Thru Truss",text:"66|16|27|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|10|11|13|14|8|7|9|4|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|14|15|6|15|15|7|7|16|16|8|11|12|2|1|3|2|4|3|5|4|6|5|7|6|15|16"},{name:"Continuous Deck Truss",text:"66|14|16|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-4.0|4.0|-4.0|8.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|1|8|8|14|14|10|10|1|2|10|10|3|3|11|11|4|4|9|4|12|12|5|5|6|5|13|13|6|6|14|14|7"},{name:"Continuous Thru Truss",text:"66|16|28|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|10|11|13|14|8|7|9|4|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|14|15|6|15|15|7|7|16|16|8|11|12|2|1|3|2|4|3|5|4|6|5|7|6|15|16|12|13"}],67:[{name:"Two Simple Spans - Deck Truss",text:"67|15|17|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|1|8|8|15|15|12|11|9|9|1|9|2|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|14|7|7|15"},{name:"Two Simple Spans - Thru Truss",text:"67|15|17|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|9|11|12|15|15|8|8|1|1|9|9|2|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|14|7|7|15"},{name:"Continuous Thru Truss",text:"67|15|18|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|9|11|12|15|15|8|8|1|1|9|9|2|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|14|7|7|15|11|12"}],68:[{name:"Continuous Thru Truss",text:"68|14|24|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|12.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|9|10|12|13|14|7|7|6|1|9|9|2|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|8|4|10|11|13|14|2|1|3|2|4|3|5|4|6|5|11|12"},{name:"Continuous Deck Truss",text:"68|12|13|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|12.0|-4.0|4.0|-4.0|8.0|-4.0|16.0|-4.0|20.0|-4.0|1|7|7|12|12|9|9|1|2|9|9|3|3|10|10|4|4|8|4|11|5|12|12|6|5|11"},{name:"Two Simple Spans - Thru Truss",text:"68|14|23|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|12.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|9|10|12|13|14|7|7|6|1|9|9|2|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|8|4|10|11|13|14|2|1|3|2|4|3|5|4|6|5"}],69:[{name:"Continuous Deck Truss",text:"69|13|15|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|1|7|7|13|13|11|10|8|1|8|8|2|2|9|9|3|3|10|10|4|4|11|11|5|5|12|12|6|6|13"},{name:"Two Simple Spans - Thru Truss",text:"69|13|22|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|8|9|11|12|13|7|7|6|1|8|8|2|2|9|9|3|3|10|10|4|4|11|11|5|5|12|12|6|6|13|9|10|12|13|2|1|3|2|4|3|5|4|6|5"},{name:"Continuous Thru Truss",text:"69|13|23|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|8|9|11|12|13|7|7|6|1|8|8|2|2|9|9|3|3|10|10|4|4|11|11|5|5|12|12|6|6|13|9|10|12|13|2|1|3|2|4|3|5|4|6|5|10|11"}],70:[{name:"Continuous Thru Truss",text:"70|11|19|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|7|8|9|10|6|5|1|7|7|2|2|8|8|3|3|9|9|4|4|10|10|5|5|11|11|6|10|11|2|1|3|2|4|3|5|4|8|9"},{name:"Two Simple Spans - Thru Truss",text:"70|11|18|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|7|8|9|10|6|5|1|7|7|2|2|8|8|3|3|9|9|4|4|10|10|5|5|11|11|6|10|11|2|1|3|2|4|3|5|4"}],71:[{name:"Warren Truss - Suspension",text:"71|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-24.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],72:[{name:"Warren Truss - Suspension",text:"72|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-20.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|42.0|-2.0|38.0|-2.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|12|25|25|11|11|26|26|10|10|27|27|9|28|9|28|8|8|29|29|7|7|30|30|6|6|31|31|5|5|32|32|4|4|33|33|3|3|34|34|2|2|35|35|1|1|2|25|26|16|2|3|17|18|4|5|19|20|6|7|21|22|8|9|23|24|10|2|3|26|27|3|4|27|28|4|5|28|29|5|6|29|30|6|7|30|31|7|8|31|32|8|9|32|33|9|10|33|34|10|11|34|35|11|12|6|13"}],73:[{name:"Warren Truss - Suspension",text:"73|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-16.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],74:[{name:"Warren Truss - Suspension",text:"74|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-12.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],75:[{name:"Warren Truss - Suspension",text:"75|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-8.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],76:[{name:"Warren Truss - Suspension",text:"76|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-4.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],77:[{name:"Warren Truss - Suspension",text:"77|35|62|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|0.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11"}],78:[{name:"Warren Truss - Suspension",text:"78|33|58|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-20.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|10|11|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],79:[{name:"Warren Truss - Suspension",text:"79|33|58|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-16.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|10|11|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],80:[{name:"Warren Truss - Suspension",text:"80|33|58|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-12.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|10|11|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],81:[{name:"Warren Truss - Suspension",text:"81|33|58|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-8.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|10|11|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],82:[{name:"Warren Truss - Suspension",text:"82|33|58|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-4.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|10|11|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],83:[{name:"Warren Truss - Suspension",text:"83|33|57|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|0.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],84:[{name:"Warren Truss - Suspension",text:"84|30|52|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-16.0|-8.0|0.0|44.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|9.0|24.0|6.5|28.0|4.5|32.0|3.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|1|2|10|22|22|23|27|28|1|30|30|2|2|29|29|3|3|28|28|4|4|27|27|5|5|26|26|6|6|25|25|7|7|24|24|8|8|23|23|9|9|22|12|14|14|2|14|15|15|3|15|16|16|4|16|17|17|5|17|18|18|6|18|19|19|7|19|20|20|8|20|21|21|9|21|13|5|11|2|3|23|24|28|29|3|4|24|25|29|30|4|5|25|26|5|6|6|7|7|8|8|9|9|10"}],85:[{name:"Warren Truss - Suspension",text:"85|30|52|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-12.0|-8.0|0.0|44.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|9.0|24.0|6.5|28.0|4.5|32.0|3.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|1|2|10|22|22|23|27|28|1|30|30|2|2|29|29|3|3|28|28|4|4|27|27|5|5|26|26|6|6|25|25|7|7|24|24|8|8|23|23|9|9|22|12|14|14|2|14|15|15|3|15|16|16|4|16|17|17|5|17|18|18|6|18|19|19|7|19|20|20|8|20|21|21|9|21|13|5|11|2|3|23|24|28|29|3|4|24|25|29|30|4|5|25|26|5|6|6|7|7|8|8|9|9|10"}],86:[{name:"Warren Truss - Suspension",text:"86|30|52|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-8.0|-8.0|0.0|44.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|9.0|24.0|6.5|28.0|4.5|32.0|3.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|1|2|10|22|22|23|27|28|1|30|30|2|2|29|29|3|3|28|28|4|4|27|27|5|5|26|26|6|6|25|25|7|7|24|24|8|8|23|23|9|9|22|12|14|14|2|14|15|15|3|15|16|16|4|16|17|17|5|17|18|18|6|18|19|19|7|19|20|20|8|20|21|21|9|21|13|5|11|2|3|23|24|28|29|3|4|24|25|29|30|4|5|25|26|5|6|6|7|7|8|8|9|9|10"}],87:[{name:"Warren Truss - Suspension",text:"87|30|52|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-4.0|-8.0|0.0|44.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|9.0|24.0|6.5|28.0|4.5|32.0|3.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|1|2|10|22|22|23|27|28|1|30|30|2|2|29|29|3|3|28|28|4|4|27|27|5|5|26|26|6|6|25|25|7|7|24|24|8|8|23|23|9|9|22|12|14|14|2|14|15|15|3|15|16|16|4|16|17|17|5|17|18|18|6|18|19|19|7|19|20|20|8|20|21|21|9|21|13|5|11|2|3|23|24|28|29|3|4|24|25|29|30|4|5|25|26|5|6|6|7|7|8|8|9|9|10"}],88:[{name:"Warren Truss - Suspension",text:"88|30|51|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|0.0|-8.0|0.0|44.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|9.0|24.0|6.5|28.0|4.5|32.0|3.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|1|2|10|22|22|23|27|28|1|30|30|2|2|29|29|3|3|28|28|4|4|27|27|5|5|26|26|6|6|25|25|7|7|24|24|8|8|23|23|9|9|22|12|14|14|2|14|15|15|3|15|16|16|4|16|17|17|5|17|18|18|6|18|19|19|7|19|20|20|8|20|21|21|9|21|13|5|11|2|3|23|24|28|29|3|4|24|25|29|30|4|5|25|26|5|6|6|7|7|8|8|9"}],89:[{name:"Warren Truss - Suspension",text:"89|27|46|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-12.0|-8.0|0.0|40.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|8.5|24.0|5.5|28.0|3.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|11|13|13|14|14|15|15|16|16|17|17|18|18|19|19|12|9|8|1|20|20|21|24|25|9|27|27|8|8|26|26|7|7|25|25|6|6|24|24|5|5|23|23|4|4|22|22|3|3|21|21|2|2|20|2|1|3|2|4|3|5|4|6|5|7|6|8|7|21|22|25|26|22|23|26|27|13|2|14|3|15|4|16|5|17|6|18|7|19|8|5|10"}],90:[{name:"Warren Truss - Suspension",text:"90|27|46|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-8.0|-8.0|0.0|40.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|8.5|24.0|5.5|28.0|3.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|11|13|13|14|14|15|15|16|16|17|17|18|18|19|19|12|9|8|1|20|20|21|24|25|9|27|27|8|8|26|26|7|7|25|25|6|6|24|24|5|5|23|23|4|4|22|22|3|3|21|21|2|2|20|2|1|3|2|4|3|5|4|6|5|7|6|8|7|21|22|25|26|22|23|26|27|13|2|14|3|15|4|16|5|17|6|18|7|19|8|5|10"}],91:[{name:"Warren Truss - Suspension",text:"91|27|46|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-4.0|-8.0|0.0|40.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|8.5|24.0|5.5|28.0|3.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|11|13|13|14|14|15|15|16|16|17|17|18|18|19|19|12|9|8|1|20|20|21|24|25|9|27|27|8|8|26|26|7|7|25|25|6|6|24|24|5|5|23|23|4|4|22|22|3|3|21|21|2|2|20|2|1|3|2|4|3|5|4|6|5|7|6|8|7|21|22|25|26|22|23|26|27|13|2|14|3|15|4|16|5|17|6|18|7|19|8|5|10"}],92:[{name:"Warren Truss - Suspension",text:"92|27|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|0.0|-8.0|0.0|40.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|8.5|24.0|5.5|28.0|3.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|11|13|13|14|14|15|15|16|16|17|17|18|18|19|19|12|9|8|1|20|20|21|24|25|9|27|27|8|8|26|26|7|7|25|25|6|6|24|24|5|5|23|23|4|4|22|22|3|3|21|21|2|2|20|2|1|3|2|4|3|5|4|6|5|7|6|8|7|21|22|25|26|22|23|26|27|13|2|14|3|15|4|16|5|17|6|18|7|19|8"}],93:[{name:"Warren Truss - Suspension",text:"93|24|31|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-8.0|-8.0|0.0|36.0|0.0|4.0|4.0|8.0|6.5|12.0|11.0|16.0|7.0|20.0|4.0|24.0|2.5|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|22|24|24|1|1|8|8|18|18|21|24|2|2|23|23|3|3|22|22|4|4|21|21|5|5|20|20|6|6|19|19|7|7|18|11|17|17|16|16|15|15|14|14|13|13|12|12|10|12|2|13|3|14|4|15|5|16|6|17|7|4|9"}],94:[{name:"Warren Truss - Suspension",text:"94|24|31|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-4.0|-8.0|0.0|36.0|0.0|4.0|4.0|8.0|6.5|12.0|11.0|16.0|7.0|20.0|4.0|24.0|2.5|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|22|24|24|1|1|8|8|18|18|21|24|2|2|23|23|3|3|22|22|4|4|21|21|5|5|20|20|6|6|19|19|7|7|18|11|17|17|16|16|15|15|14|14|13|13|12|12|10|12|2|13|3|14|4|15|5|16|6|17|7|4|9"}],95:[{name:"Warren Truss - Suspension",text:"95|24|30|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|0.0|-8.0|0.0|36.0|0.0|4.0|4.0|8.0|6.5|12.0|11.0|16.0|7.0|20.0|4.0|24.0|2.5|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|22|24|24|1|1|8|8|18|18|21|24|2|2|23|23|3|3|22|22|4|4|21|21|5|5|20|20|6|6|19|19|7|7|18|11|17|17|16|16|15|15|14|14|13|13|12|12|10|12|2|13|3|14|4|15|5|16|6|17|7"}],96:[{name:"Warren Truss - Suspension",text:"96|21|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|12.0|-4.0|-8.0|0.0|32.0|0.0|4.0|4.0|8.0|7.0|12.0|11.0|16.0|7.0|20.0|4.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|1|16|16|2|2|17|17|3|3|18|18|4|4|19|19|5|5|20|20|6|6|21|21|7|7|6|16|17|19|20|10|15|15|6|15|14|14|5|14|13|13|4|13|12|12|3|12|11|11|2|11|9|2|1|3|2|4|3|5|4|6|5|17|18|20|21|4|8"}],97:[{name:"Warren Truss - Suspension",text:"97|21|33|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|12.0|0.0|-8.0|0.0|32.0|0.0|4.0|4.0|8.0|7.0|12.0|11.0|16.0|7.0|20.0|4.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|1|16|16|2|2|17|17|3|3|18|18|4|4|19|19|5|5|20|20|6|6|21|21|7|7|6|16|17|19|20|10|15|15|6|15|14|14|5|14|13|13|4|13|12|12|3|12|11|11|2|11|9|2|1|3|2|4|3|5|4|6|5|17|18|20|21"}],98:[{name:"Warren Truss - Suspension",text:"98|14|23|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|-8.0|0.0|28.0|0.0|2.0|3.5|5.5|5.5|10.5|6.0|14.5|3.5|18.0|2.0|8.0|8.0|7|9|9|10|10|14|14|11|11|12|12|13|13|8|1|2|6|13|13|5|5|12|12|4|4|11|11|3|3|10|10|2|2|9|9|1|14|3|2|3|3|4|4|5|5|6"}]};var Sr=class u{constructor(e){this.bridgeSketchDataService=e}cache=new Map;getSketchList(e){let r=e.tagGeometryOnly,t=this.cache.get(r);if(t)return t;let o=this.createModelList(e);return this.cache.set(r,o),o}getSketch(e,r){return this.getSketchList(e).find(t=>t.name===r)||ne.ABSENT}createModelList(e){let r=[ne.ABSENT];return e.isArch?e.underClearance<=16&&(r.push(this.populatePrattContinuousArch(new ne("Continuous arch - Pratt",e)),this.populateHoweContinuousArch(new ne("Continuous arch - Howe",e)),this.populateWarrenContinuousArch(new ne("Continuous arch - Warren",e))),e.loadedJointCount%2===1&&r.push(this.populatePratt3HingeArch(new ne("3-hinge arch - Pratt",e)),this.populateHowe3HingeArch(new ne("3-hinge arch - Howe",e)),this.populateWarren3HingeArch(new ne("3-hinge arch - Warren",e)))):e.anchorageCount===0&&!e.isPier?(e.overClearance>=z.PANEL_SIZE_WORLD&&r.push(this.populatePrattThruTruss(new ne("Through truss - Pratt",e)),this.populateHoweThruTruss(new ne("Through truss - Howe",e)),this.populateWarrenThruTruss(new ne("Through truss - Warren",e))),e.underClearance>=z.PANEL_SIZE_WORLD&&r.push(this.populatePrattDeckTruss(new ne("Deck truss - Pratt",e)),this.populateHoweDeckTruss(new ne("Deck truss - Howe",e)),this.populateWarrenDeckTruss(new ne("Deck truss - Warren",e)))):e.anchorageCount>0&&!e.isPier&&e.underClearance>=z.PANEL_SIZE_WORLD/2&&r.push(this.populateCableStayedWarrenTruss(new ne("Cable-stayed Warren truss",e)),this.populateSuspendedWarrenTruss(new ne("Suspended Warren truss",e))),this.bridgeSketchDataService.addSketchesFromDataForConditions(r,e),r}populatePrattThruTruss(e){return this.populatePrattThruTrussGeometry(e,z.PANEL_SIZE_WORLD)}populatePrattDeckTruss(e){return this.populateHoweThruTrussGeometry(e,-z.PANEL_SIZE_WORLD)}populateHoweThruTruss(e){return this.populateHoweThruTrussGeometry(e,z.PANEL_SIZE_WORLD)}populateHoweDeckTruss(e){return this.populatePrattThruTrussGeometry(e,-z.PANEL_SIZE_WORLD)}populateWarrenThruTruss(e){return this.populateWarrenTrussGeometry(e,z.PANEL_SIZE_WORLD)}populateWarrenDeckTruss(e){return this.populateWarrenTrussGeometry(e,-z.PANEL_SIZE_WORLD)}populatePrattContinuousArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],y=t[s+1],v=.5*(m.x+y.x),C=m.x-v,M=m.y,_=p.x-v,I=(p.y-.25*(p.y-m.y)-M)/(_*_-C*C),O=M-I*C*C,B=t.length;for(let k=a+1;k<c;k++){let Q=t[k].x-v,K=I*Q*Q+O;t.push(new Y(t[k].x,u.roundToGridIncrement(K)))}let H=t.length-1;o.push({a:t[a],b:t[s]},{a:t[s],b:t[B]});for(let k=B;k<H;k++)o.push({a:t[k],b:t[k+1]});o.push({a:t[H],b:t[s+1]},{a:t[s+1],b:t[c]});let w=a+1,L=c-1,N=B,j=H;for(;w<L;)o.push({a:t[w],b:t[N]},{a:t[w-1],b:t[N]},{a:t[L],b:t[j]},{a:t[L+1],b:t[j]}),w++,L--,N++,j--;return o.push({a:t[w-1],b:t[N]},{a:t[L+1],b:t[j]}),w===L&&o.push({a:t[w],b:t[N]}),e}populateHoweContinuousArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],y=t[s+1],v=.5*(m.x+y.x),C=m.x-v,M=m.y,_=p.x-v,I=(p.y-.25*(p.y-m.y)-M)/(_*_-C*C),O=M-I*C*C,B=t.length;for(let k=a+1;k<c;k++){let Q=t[k].x-v,K=I*Q*Q+O;t.push(new Y(t[k].x,u.roundToGridIncrement(K)))}let H=t.length-1;o.push({a:t[a],b:t[s]},{a:t[a+1],b:t[s]},{a:t[B],b:t[s]});for(let k=B;k<H;k++)o.push({a:t[k],b:t[k+1]});o.push({a:t[H],b:t[s+1]},{a:t[c-1],b:t[s+1]},{a:t[c],b:t[s+1]});let w=a+1,L=c-1,N=B,j=H;for(;w<L;)o.push({a:t[w],b:t[N]},{a:t[w+1],b:t[N]},{a:t[L-1],b:t[j]},{a:t[L],b:t[j]}),w++,L--,N++,j--;return w===L&&o.push({a:t[w],b:t[N]}),e}populateWarrenContinuousArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],y=t[s+1],v=.5*(m.x+y.x),C=m.x-v,M=m.y,_=p.x-v,I=(p.y-.25*(p.y-m.y)-M)/(_*_-C*C),O=M-I*C*C,B=t.length;for(let N=a;N<c;N++){let j=t[N].x+.5*z.PANEL_SIZE_WORLD,k=j-v,Q=I*k*k+O;t.push(new Y(j,u.roundToGridIncrement(Q)))}let H=t.length-1;o.push({a:t[a],b:t[s]},{a:t[s],b:t[B]});for(let N=B;N<H;N++)o.push({a:t[N],b:t[N+1]});o.push({a:t[H],b:t[s+1]},{a:t[s+1],b:t[c]});let w=a,L=B;for(;w<c;)o.push({a:t[w],b:t[L]},{a:t[w+1],b:t[L]}),w++,L++;return e}populatePratt3HingeArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],y=t[s+1],v=.5*(m.x+y.x),C=m.x-v,M=m.y,_=p.x-v,I=(p.y-.25*(p.y-m.y)-M)/(_*_-C*C),O=M-I*C*C,B=t.length,H=0,w=Math.trunc((a+c)/2);for(let K=a+1;K<c;K++)if(K===w)H=t.length-1;else{let Se=t[K].x-v,V=I*Se*Se+O;t.push(new Y(t[K].x,u.roundToGridIncrement(V)))}let L=t.length-1;o.push({a:t[a],b:t[s]},{a:t[s],b:t[B]});for(let K=B;K<H;K++)o.push({a:t[K],b:t[K+1]});o.push({a:t[H],b:t[w]},{a:t[w],b:t[H+1]});for(let K=H+1;K<L;K++)o.push({a:t[K],b:t[K+1]});o.push({a:t[L],b:t[s+1]},{a:t[s+1],b:t[c]});let N=a+1,j=c-1,k=B,Q=L;for(;N<j;)o.push({a:t[N],b:t[k]},{a:t[N-1],b:t[k]},{a:t[j],b:t[Q]},{a:t[j+1],b:t[Q]}),N++,j--,k++,Q--;return e}populateHowe3HingeArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],y=t[s+1],v=.5*(m.x+y.x),C=m.x-v,M=m.y,_=p.x-v,I=(p.y-.25*(p.y-m.y)-M)/(_*_-C*C),O=M-I*C*C,B=t.length;for(let K=a+1;K<c;K++)if(K!==Math.trunc((a+c)/2)){let Se=t[K].x-v,V=I*Se*Se+O;t.push(new Y(t[K].x,u.roundToGridIncrement(V)))}let H=t.length-1;o.push({a:t[a],b:t[s]},{a:t[a+1],b:t[s]},{a:t[B],b:t[s]});let w=B+1,L=H-1;for(;w<L;)o.push({a:t[w-1],b:t[w]},{a:t[L+1],b:t[L]}),w++,L--;o.push({a:t[H],b:t[s+1]},{a:t[c-1],b:t[s+1]},{a:t[c],b:t[s+1]});let N=a+1,j=c-1,k=B,Q=H;for(;N<j;)o.push({a:t[N],b:t[k]},{a:t[N+1],b:t[k]},{a:t[j-1],b:t[Q]},{a:t[j],b:t[Q]}),N++,j--,k++,Q--;return e}populateWarren3HingeArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],y=t[s+1],v=.5*(m.x+y.x),C=m.x-v,M=m.y,_=p.x-v,I=(p.y-.25*(p.y-m.y)-M)/(_*_-C*C),O=M-I*C*C,B=t.length;for(let N=a;N<c;N++){let j=t[N].x+.5*z.PANEL_SIZE_WORLD,k=j-v,Q=I*k*k+O;t.push(new Y(j,u.roundToGridIncrement(Q)))}let H=t.length-1;o.push({a:t[a],b:t[s]},{a:t[s],b:t[B]});for(let N=B;N<H;N++){let j=Math.trunc((B+H)/2);N!==j&&o.push({a:t[N],b:t[N+1]})}o.push({a:t[H],b:t[s+1]},{a:t[s+1],b:t[c]});let w=a,L=B;for(;w<c;)o.push({a:t[w],b:t[L]},{a:t[w+1],b:t[L]}),w++,L++;return e}populateCableStayedWarrenTruss(e){this.populateDeck(e),this.populateWarrenTrussGeometry(e,-z.PANEL_SIZE_WORLD/2);let r=e.designConditions,t=e.joints,o=e.members;if(r.anchorageCount>0){let s=t[0],a=t[r.panelCount+1],c=new Y(s.x,s.y+2*z.PANEL_SIZE_WORLD);t.push(c),o.push({a:c,b:s},{a:c,b:a});for(let m=1;m<=r.panelCount/2;m++)o.push({a:c,b:t[m]})}if(r.anchorageCount>1){let s=t[r.panelCount],a=t[r.panelCount+2],c=new Y(s.x,s.y+2*z.PANEL_SIZE_WORLD);t.push(c),o.push({a:c,b:s},{a:c,b:a});for(let m=1;m<=r.panelCount/2;m++)o.push({a:c,b:t[r.panelCount-m]})}return e}populateSuspendedWarrenTruss(e){this.populateDeck(e),this.populateWarrenTrussGeometry(e,-z.PANEL_SIZE_WORLD/2);let r=e.designConditions,t=e.joints,o=e.members,s=t[0],a=t[r.panelCount+1],c=new Y(s.x,s.y+2*z.PANEL_SIZE_WORLD);t.push(c),o.push({a:c,b:s},{a:c,b:a});let m=t[r.panelCount];if(r.anchorageCount===2){let p=t[r.loadedJointCount+1],y=new Y(m.x,m.y+2*z.PANEL_SIZE_WORLD);t.push(y),o.push({a:y,b:m},{a:y,b:p});let v=.5*(c.x+y.x),C=y.x-v,M=y.y,_=t[Math.trunc((r.panelCount+1)/2)],R=_.x-v,I=_.y+1,O=(I-M)/(R*R-C*C),B=I-O*R*R,H=C-z.PANEL_SIZE_WORLD,w=y;for(let L=r.panelCount-1;L>0;L--){let N=O*H*H+B,j=new Y(v+H,u.roundToGridIncrement(N));t.push(j),o.push({a:t[L],b:j},{a:w,b:j}),H-=z.PANEL_SIZE_WORLD,w=j}o.push({a:w,b:c})}if(r.anchorageCount===1){let p=m.x,y=c.x,v=c.y/W.sqr(y-p),C=p-z.PANEL_SIZE_WORLD,M=m;for(let _=r.panelCount-1;_>0;_--){let R=u.roundToGridIncrement(v*W.sqr(C-p));if(R===t[_].y)M=t[_];else{let I=new Y(C,R);t.push(I),o.push({a:t[_],b:I},{a:M,b:I}),M=I}C-=z.PANEL_SIZE_WORLD}o.push({a:M,b:c})}return e}populatePrattThruTrussGeometry(e,r){this.populateDeck(e);let t=e.designConditions,o=e.joints,s=e.members,a=0,c=t.panelCount,m=o.length;for(let _=a+1;_<c;_++)e.joints.push(new Y(o[_].x,r));let p=o.length-1;s.push({a:o[a],b:o[m]});for(let _=m;_<p;_++)s.push({a:o[_],b:o[_+1]});s.push({a:o[c],b:o[p]});let y=m,v=p,C=a+1,M=c-1;for(;y<v;)s.push({a:o[y],b:o[C]}),s.push({a:o[y],b:o[C+1]}),s.push({a:o[v],b:o[M]}),s.push({a:o[v],b:o[M-1]}),y++,v--,C++,M--;return y===v&&s.push({a:o[y],b:o[C]}),e}populateHoweThruTrussGeometry(e,r){this.populateDeck(e);let t=e.designConditions,o=e.joints,s=e.members,a=0,c=t.panelCount,m=o.length;for(let _=a+1;_<c;_++)e.joints.push(new Y(o[_].x,r));let p=o.length-1;s.push({a:o[a],b:o[m]});for(let _=m;_<p;_++)s.push({a:o[_],b:o[_+1]});s.push({a:o[c],b:o[p]});let y=m,v=p,C=a+1,M=c-1;for(;y<v;)s.push({a:o[y],b:o[C]},{a:o[y+1],b:o[C]},{a:o[v],b:o[M]},{a:o[v-1],b:o[M]}),y++,v--,C++,M--;return y===v&&s.push({a:o[y],b:o[C]}),e}populateWarrenTrussGeometry(e,r){this.populateDeck(e);let t=e.designConditions,o=e.joints,s=e.members,a=0,c=t.panelCount,m=o.length;for(let C=a;C<c;C++)o.push(new Y(o[C].x+z.PANEL_SIZE_WORLD/2,r));let p=o.length-1;for(let C=m;C<p;C++)s.push({a:o[C],b:o[C+1]});s.push({a:o[a],b:o[m]},{a:o[c],b:o[p]});let y=m,v=a;for(;y<=p;)s.push({a:o[y],b:o[v]},{a:o[y],b:o[v+1]}),y++,v++;return e}static roundToGridIncrement(e){return Math.round(e*4)*.25}populateDeck(e){let r=e.designConditions,t=e.joints,o=e.members;r.prescribedJoints.forEach(s=>t.push(s));for(let s=0;s<r.panelCount;++s)o.push({a:t[s],b:t[s+1]})}static \u0275fac=function(r){return new(r||u)(G(yr))};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};var Zn=class u{constructor(e){this.instance=e}static \u0275fac=function(r){return new(r||u)(G(ye))};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})},bn=class u{key="bridge.service";static \u0275fac=function(r){return new(r||u)};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})},ye=class u{constructor(e,r,t,o){this.persistenceService=e;this.bridgeSketchService=t;o.register(r.key,()=>this.dehydrate(),s=>this.rehydrate(s))}_bridge=new _t(we.PLACEHOLDER_CONDITIONS);_sketch=ne.ABSENT;_siteInfo=new N0(this.bridge.designConditions);_draftingPanelState=c0.createNew();get bridge(){return this._bridge}get draftingPanelState(){return this._draftingPanelState}setBridge(e,r){e.designConditions.tagGeometryOnly!==this.designConditions.tagGeometryOnly&&(this._sketch=ne.ABSENT),this._bridge=e,this._draftingPanelState=r}get sketch(){return this._sketch}set sketch(e){(e===ne.ABSENT||e.designConditions.tagGeometryOnly===this.designConditions.tagGeometryOnly)&&(this._sketch=e)}get designConditions(){return this.bridge.designConditions}get siteInfo(){return this._siteInfo.designConditions!==this.designConditions&&(this._siteInfo=new N0(this.bridge.designConditions)),this._siteInfo}findJointAt(e){for(let r of this.bridge.joints)if(r.isAt(e))return r}findMembersWithJoint(e){return this.bridge.members.filter(r=>r.hasJoint(e))}findConnectedJoints(e){return this.findMembersWithJoint(e).map(r=>r.getOtherJoint(e))}hasAnyMembers(e){return this.bridge.members.some(r=>r.hasJoint(e))}getMemberWithJoints(e,r){return this.bridge.members.find(t=>t.hasJoints(e,r))}getWorldExtent(e=ht.createEmpty()){return e.setToExtent(this.bridge.joints)}getMostCommonStockId(){let e=new Map,r=-1,t=Re.USEFUL_STOCK;for(let o of this.bridge.members){let s=o.stockId,a=s.key,c=e.get(a),m;c===void 0?(e.set(a,[s,1]),m=1):m=++c[1],m>r&&(r=m,t=s)}return t}getUsefulStockId(e){let r=this.bridge.members;if(r.length===0)return Re.USEFUL_STOCK;let t=Array.from(e);if(t.length===0)return this.getMostCommonStockId();let o=r[t[0]],s=o.material.index,a=o.shape.section.index,c=o.shape.sizeIndex;for(let m=1;m<t.length;++m){let p=r[t[m]];p.material.index!==s&&(s=-1),p.shape.section.index!==a&&(a=-1),p.shape.sizeIndex!==c&&(c=-1)}return s===void 0?this.getMostCommonStockId():new At(s,a,c)}getMemberSizesMmSorted(){return this.bridge.members.map(e=>e.materialSizeMm).sort((e,r)=>e-r)}getAllowedShapeChangeMask(e){let r=0,t=this.bridge.members;for(let o of e)if(r|=Re.getAllowedShapeChangeMask(t[o].shape),r===3)break;return r}getJointsForMembersDeletion(e){let r=this.bridge.members,t=new Set;return e.forEach(o=>{let s=r[o].a;s.isFixed||t.add(s.index);let a=r[o].b;a.isFixed||t.add(a.index)}),this.bridge.members.forEach(o=>{e.has(o.index)||(t.delete(o.a.index),t.delete(o.b.index))}),Array.from(t).sort((o,s)=>o-s).map(o=>this.bridge.joints[o])}canonicalCursorRect=ht.createEmpty();getMembersTouchingRectangle(e){return e.copyTo(this.canonicalCursorRect).makeCanonical(),this.bridge.members.filter(r=>this.canonicalCursorRect.touchesLineSegment(r.a,r.b))}getMembersInsideRectangle(e){return this.bridge.members.filter(r=>e.containsPoint(r.a)&&e.containsPoint(r.b))}partitionMembersByStock(){let e={};for(let t of this.bridge.members){let o=t.stockId.key;e[o]||=[],e[o].push(t)}let r=Object.entries(e);for(let t of r)t[1].sort((o,s)=>o.index-s.index);return r.sort((t,o)=>t[0].localeCompare(o[0],"en-US")).map(t=>t[1])}isMemberIntersectingHighPier(e,r){if(!this.designConditions.isHiPier||e.x===r.x)return!1;let t=this.bridge.joints[this.designConditions.pierJointIndex];if(e.x<t.x&&r.x<t.x||e.x>t.x&&r.x>t.x)return!1;let o=(r.y-e.y)/(r.x-e.x);return e.y+o*(t.x-e.x)<t.y-.01}isMovedJointIntersectingHighPier(e,r){return this.findMembersWithJoint(e).map(t=>t.getOtherJoint(e)).some(t=>this.isMemberIntersectingHighPier(r,t))}isMemberPassingSlendernessCheck(e){return e.slenderness<=this.designConditions.allowableSlenderness}get isPassingSlendernessCheck(){let e=this.designConditions.allowableSlenderness;for(let r of this.bridge.members)if(r.slenderness>e)return!1;return!0}get maxDeckMemberSizeMm(){let e=0;for(let r of this.bridge.members)r.materialSizeMm<=e||r.a.y>0&&r.b.y>0||r.a.y<0&&r.b.y<0||r.a.index===this.designConditions.leftAnchorageJointIndex||r.b.index===this.designConditions.leftAnchorageJointIndex||r.a.index===this.designConditions.rightAnchorageJointIndex||r.b.index===this.designConditions.rightAnchorageJointIndex||(e=r.materialSizeMm);return e}get bridgeHalfWidth(){return $.DECK_HALF_WIDTH+this.maxDeckMemberSizeMm*.001+2*$.GUSSET_THICKNESS}get trussCenterlineOffset(){return $.DECK_HALF_WIDTH+this.maxDeckMemberSizeMm*5e-4+$.GUSSET_THICKNESS}static isJointClearOfRoadway(e){return e.y<=0||e.y>=$.MIN_ROADWAY_CLEARANCE}get membersNotTransectingRoadwayClearance(){let e=new Nn(this.bridge.members.length),r=$.MIN_ROADWAY_CLEARANCE;for(let t of this.bridge.members)(t.a.y>=r&&t.b.y>=r||t.a.y<=0&&t.b.y<=0)&&e.setBit(t.index);return e}get saveSet(){return gt.create(this.bridge,this.draftingPanelState)}get saveSetText(){return this.persistenceService.getSaveSetAsText(this.saveSet)}dehydrate(){return{saveSetText:this.saveSetText,sketchName:this.sketch.name}}rehydrate(e){let r=gt.createNew();this.persistenceService.parseSaveSetText(e.saveSetText,r),this.setBridge(r.bridge,r.draftingPanelState),this.sketch=this.bridgeSketchService.getSketch(this.designConditions,e.sketchName)}static \u0275fac=function(r){return new(r||u)(G(Pt),G(bn),G(Sr),G(dt))};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};var Tr=class u{selectedElements={selectedJoints:new Set,selectedMembers:new Set};getSelectedJoint(e){if(this.selectedElements.selectedJoints.size!==0)for(let r of this.selectedElements.selectedJoints)return e.joints[r]}get isSelectionEmpty(){return this.selectedElements.selectedJoints.size===0&&this.selectedElements.selectedMembers.size===0}isJointSelected(e){return this.selectedElements.selectedJoints.has(e.index)}isMemberSelected(e){return this.selectedElements.selectedMembers.has(e.index)}selectJoint(e,r=!1){(!r||!this.selectedElements.selectedJoints.delete(e))&&this.selectedElements.selectedJoints.add(e)}selectMember(e,r=!1){(!r||!this.selectedElements.selectedMembers.delete(e))&&this.selectedElements.selectedMembers.add(e)}static \u0275fac=function(r){return new(r||u)};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};var Er=class u{constructor(e,r,t,o,s){this.bridgeService=e;this.inventoryService=r;this.selectedElementsService=t;this.undoManagerService=s;o.register("undoManager.service",()=>this.dehydrate(),a=>this.rehydrate(a))}rehydrateEditCommand(e,r){switch(r.tag){case"add-joint":return cr.rehydrate(e,r,this.bridgeService.bridge,this.selectedElementsService.selectedElements);case"add-member":return ur.rehydrate(e,r,this.bridgeService.bridge,this.selectedElementsService.selectedElements);case"change-members":return lr.rehydrate(e,r,this.bridgeService.bridge);case"delete-joint":return dr.rehydrate(e,r,this.bridgeService.bridge,this.selectedElementsService.selectedElements);case"delete-members":return pr.rehydrate(e,r,this.bridgeService.bridge,this.selectedElementsService.selectedElements);case"move-joint":return mr.rehydrate(e,r,this.bridgeService.bridge,this.selectedElementsService.selectedElements);case"move-labels":return hr.rehydrate(r,this.bridgeService.draftingPanelState);case"placeholder":return new s0("Cancel");default:return W.assertNever(r.tag)}}dehydrate(){let e=fr.forBridge(this.bridgeService.bridge),r=this.undoManagerService.done.map(s=>s.dehydrate(e)),t=this.undoManagerService.undone.map(s=>s.dehydrate(e));return{context:e.dehydrate(),done:r,undone:t}}rehydrate(e){let r=br.create(e.context,this.bridgeService.bridge,this.inventoryService),t=this.undoManagerService;e.done.forEach(o=>t.done.pushRight(this.rehydrateEditCommand(r,o))),e.undone.forEach(o=>t.undone.pushRight(this.rehydrateEditCommand(r,o)))}static \u0275fac=function(r){return new(r||u)(G(ye),G(Re),G(Tr),G(dt),G(mt))};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};var k0=class u{savedMark=mt.NO_EDIT_COMMAND;_fileName;undoManagerService;constructor(e,r,t){this.undoManagerService=t.undoManagerService,e.loadBridgeCompletion.subscribe(()=>{this.savedMark=mt.NO_EDIT_COMMAND,this._fileName=void 0}),r.register("savemark.service",()=>this.dehydrate(),o=>this.rehydrate(o))}get isDesignUnsaved(){return this.undoManagerService.stateToken!==this.savedMark}get savedFileName(){return this._fileName}markDesignSaved(e){this.savedMark=this.undoManagerService.stateToken,this._fileName=e,this.setDocumentTitle(e)}setDocumentTitle(e){document.title=e.replace(/\.bdc$/,"")}dehydrate(){return{stateTokenIndex:this.undoManagerService.findStateTokenIndex(this.savedMark),fileName:this._fileName}}rehydrate(e){if(e.stateTokenIndex!==void 0){let r=this.undoManagerService.getStateToken(e.stateTokenIndex);this.savedMark=r??mt.NO_EDIT_COMMAND}this._fileName=e.fileName,e.fileName!==void 0&&this.setDocumentTitle(e.fileName)}static \u0275fac=function(r){return new(r||u)(G(Qe),G(dt),G(Er))};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};var ei="MyBridge.bdc",qn="bridge-design",Yn="documents",Qn=[{description:"Bridge design",accept:{"text/plain":[".bdc"]}}],gn=class u{constructor(e,r,t,o){this.bridgeService=e;this.eventBrokerService=r;this.persistenceService=t;this.saveMarkService=o}saveBridgeFile(e,r){return Ce(this,null,function*(){let t=this.saveMarkService.savedFileName??ei;if(e||this.saveMarkService.savedFileName===void 0)try{t=yield r(t)}catch{throw new Ne("noError")}let o=this.bridgeService.saveSetText,s=new Blob([o],{type:"text/plain"}),a=window.document.createElement("a"),c=window.URL.createObjectURL(s);a.href=c,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(a.href),this.saveMarkService.markDesignSaved(t),this.eventBrokerService.toastRequest.next({origin:16,data:"fileSaveSuccess"})})}loadBridgeFile(){return Ce(this,null,function*(){let e=window.document.createElement("input");e.type="file",e.accept=".bdc",document.body.appendChild(e),e.addEventListener("change",r=>{let t=r.target.files?.item(0);if(!t)return;let o=new FileReader;o.onerror=()=>{throw new Ne("fileReadError")},o.onload=()=>{let s=o.result,a=gt.createNew();this.persistenceService.parseSaveSetText(s,a),this.eventBrokerService.loadBridgeRequest.next({origin:16,data:a}),this.saveMarkService.markDesignSaved(t.name)},o.readAsText(t)}),e.click(),document.body.removeChild(e)})}static \u0275fac=function(r){return new(r||u)(G(ye),G(Qe),G(Pt),G(k0))};static \u0275prov=U({token:u,factory:u.\u0275fac})},vn=class u{constructor(e,r,t,o){this.bridgeService=e;this.eventBrokerService=r;this.persistenceService=t;this.saveMarkService=o}currentFileHandle;saveBridgeFile(e=!1){return Ce(this,null,function*(){try{(e||!this.currentFileHandle||this.saveMarkService.savedFileName===void 0)&&(this.currentFileHandle=yield this.getSaveFile(this.saveMarkService.savedFileName??ei));let r=yield this.currentFileHandle.createWritable(),t=this.bridgeService.saveSetText;yield r.write(t),yield r.close(),this.saveMarkService.markDesignSaved(this.currentFileHandle.name),this.eventBrokerService.toastRequest.next({origin:16,data:"fileSaveSuccess"})}catch(r){throw new Ne(this.isUserCancel(r)?"noError":"fileWriteError")}})}loadBridgeFile(){return Ce(this,null,function*(){let e=yield this.doLoad(),r=gt.createNew();this.persistenceService.parseSaveSetText(e,r),this.eventBrokerService.loadBridgeRequest.next({origin:16,data:r})})}doLoad(){return Ce(this,null,function*(){let e={id:qn,startIn:Yn,types:Qn};try{let[r]=yield window.showOpenFilePicker(e),t=yield r.getFile();return this.saveMarkService.markDesignSaved(t.name),t.text()}catch(r){throw new Ne(this.isUserCancel(r)?"noError":"fileReadError")}})}isUserCancel(e){return e instanceof DOMException&&e.name==="AbortError"}getSaveFile(e){return Ce(this,null,function*(){let r={id:qn,startIn:Yn,suggestedName:e,types:Qn};return yield window.showSaveFilePicker(r)})}static \u0275fac=function(r){return new(r||u)(G(ye),G(Qe),G(Pt),G(k0))};static \u0275prov=U({token:u,factory:u.\u0275fac})};function oo(){return["showSaveFilePicker","showOpenFilePicker"].every(u=>u in window)}var G1={provide:"SaveLoadService",useClass:oo()?vn:gn};var yn=Array(),so=["cube","cylinder","sphere","tetrahedron","extrude","revolve","compose","union","difference","intersection","levelSet","smooth","ofMesh","hull"],ao=["add","subtract","intersect","decompose","warp","transform","translate","rotate","scale","mirror","calculateCurvature","calculateNormals","smoothByNormals","smoothOut","refine","refineToLength","refineToTolerance","setProperties","setTolerance","simplify","asOriginal","trimByPlane","split","splitByPlane","slice","project","hull"],co=["square","circle","union","difference","intersection","compose","ofPolygons","hull"],uo=["add","subtract","intersect","rectClip","decompose","transform","translate","rotate","scale","mirror","simplify","offset","hull"],Sn=()=>{for(let u of yn)if(u instanceof Array)for(let e of u)e.delete();else u.delete();yn.length=0},lo=u=>(...e)=>{let r=u(...e);return yn.push(r),r},xr=(u,e)=>{for(let r of e){let t=u[r];u[r]=lo(t)}},ti=u=>(xr(u.Manifold,so),xr(u.Manifold.prototype,ao),xr(u.CrossSection,co),xr(u.CrossSection.prototype,uo),u);var mo=(()=>{var u=import.meta.url;return function(){return Ce(this,arguments,function*(e={}){var r,t=e,o,s,a=new Promise((n,i)=>{o=n,s=i}),c=typeof window=="object",m=typeof importScripts=="function",p=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(p){let{createRequire:n}=yield import("module");var y=n(import.meta.url)}var v=!1;t.setup=function(){if(v)return;v=!0,t.initTBB();function n(h,b,T=A=>A){if(b)for(let A of b)h.push_back(T(A));return h}function i(h,b=T=>T){let T=[],A=h.size();for(let J=0;J<A;J++)T.push(b(h.get(J)));return T}function l(h,b=T=>T){let T=[],A=h.size();for(let J=0;J<A;J++){let ee=h.get(J),se=ee.size(),De=[];for(let me=0;me<se;me++)De.push(b(ee.get(me)));T.push(De)}return T}function d(h){return h[0].length<3&&(h=[h]),n(new t.Vector2_vec2,h,b=>n(new t.Vector_vec2,b,T=>T instanceof Array?{x:T[0],y:T[1]}:T))}function f(h){for(let b=0;b<h.size();b++)h.get(b).delete();h.delete()}function g(h){return h[0]instanceof Array?{x:h[0][0],y:h[0][1]}:typeof h[0]=="number"?{x:h[0]||0,y:h[1]||0}:h[0]}function E(h){return h[0]instanceof Array?{x:h[0][0],y:h[0][1],z:h[0][2]}:typeof h[0]=="number"?{x:h[0]||0,y:h[1]||0,z:h[2]||0}:h[0]}function S(h){return h=="EvenOdd"?0:h=="NonZero"?1:h=="Negative"?3:2}function x(h){return h=="Round"?1:h=="Miter"?2:0}let D=t.CrossSection;function P(h,b="Positive"){if(h instanceof D)return h;{let T=d(h),A=new D(T,S(b));return f(T),A}}t.CrossSection.prototype.translate=function(...h){return this._Translate(g(h))},t.CrossSection.prototype.scale=function(h){return typeof h=="number"?this._Scale({x:h,y:h}):this._Scale(g([h]))},t.CrossSection.prototype.mirror=function(h){return this._Mirror(g([h]))},t.CrossSection.prototype.warp=function(h){let b=I0(function(A){let J=Ee(A,"double"),ee=Ee(A+8,"double"),se=[J,ee];h(se),nt(A,se[0],"double"),nt(A+8,se[1],"double")},"vi"),T=this._Warp(b);return P0(b),T},t.CrossSection.prototype.decompose=function(){let h=this._Decompose(),b=i(h);return h.delete(),b},t.CrossSection.prototype.bounds=function(){let h=this._Bounds();return{min:["x","y"].map(b=>h.min[b]),max:["x","y"].map(b=>h.max[b])}},t.CrossSection.prototype.offset=function(h,b="Round",T=2,A=0){return this._Offset(h,x(b),T,A)},t.CrossSection.prototype.simplify=function(h=1e-6){return this._Simplify(h)},t.CrossSection.prototype.extrude=function(h,b=0,T=0,A=[1,1],J=!1){A=g([A]);let ee=t._Extrude(this._ToPolygons(),h,b,T,A);return J?ee.translate([0,0,-h/2]):ee},t.CrossSection.prototype.revolve=function(h=0,b=360){return t._Revolve(this._ToPolygons(),h,b)},t.CrossSection.prototype.add=function(h){return this._add(P(h))},t.CrossSection.prototype.subtract=function(h){return this._subtract(P(h))},t.CrossSection.prototype.intersect=function(h){return this._intersect(P(h))},t.CrossSection.prototype.toPolygons=function(){let h=this._ToPolygons(),b=l(h,T=>[T.x,T.y]);return h.delete(),b},t.Manifold.prototype.smoothOut=function(h=60,b=0){return this._SmoothOut(h,b)},t.Manifold.prototype.warp=function(h){let b=I0(function(J){let ee=Ee(J,"double"),se=Ee(J+8,"double"),De=Ee(J+16,"double"),me=[ee,se,De];h(me),nt(J,me[0],"double"),nt(J+8,me[1],"double"),nt(J+16,me[2],"double")},"vi"),T=this._Warp(b);P0(b);let A=T.status();if(A!=="NoError")throw new t.ManifoldError(A);return T},t.Manifold.prototype.calculateNormals=function(h,b=60){return this._CalculateNormals(h,b)},t.Manifold.prototype.setProperties=function(h,b){let T=this.numProp(),A=I0(function(ee,se,De){let me=[];for(let ae=0;ae<h;++ae)me[ae]=Ee(ee+8*ae,"double");let i0=[];for(let ae=0;ae<3;++ae)i0[ae]=Ee(se+8*ae,"double");let o0=[];for(let ae=0;ae<T;++ae)o0[ae]=Ee(De+8*ae,"double");b(me,i0,o0);for(let ae=0;ae<h;++ae)nt(ee+8*ae,me[ae],"double")},"viii"),J=this._SetProperties(h,A);return P0(A),J},t.Manifold.prototype.translate=function(...h){return this._Translate(E(h))},t.Manifold.prototype.rotate=function(h,b,T){return Array.isArray(h)?this._Rotate(...h):this._Rotate(h,b||0,T||0)},t.Manifold.prototype.scale=function(h){return typeof h=="number"?this._Scale({x:h,y:h,z:h}):this._Scale(E([h]))},t.Manifold.prototype.mirror=function(h){return this._Mirror(E([h]))},t.Manifold.prototype.trimByPlane=function(h,b=0){return this._TrimByPlane(E([h]),b)},t.Manifold.prototype.slice=function(h=0){let b=this._Slice(h),T=new D(b,S("Positive"));return f(b),T},t.Manifold.prototype.project=function(){let h=this._Project(),b=new D(h,S("Positive"));return f(h),b},t.Manifold.prototype.split=function(h){let b=this._Split(h),T=i(b);return b.delete(),T},t.Manifold.prototype.splitByPlane=function(h,b=0){let T=this._SplitByPlane(E([h]),b),A=i(T);return T.delete(),A},t.Manifold.prototype.decompose=function(){let h=this._Decompose(),b=i(h);return h.delete(),b},t.Manifold.prototype.boundingBox=function(){let h=this._boundingBox();return{min:["x","y","z"].map(b=>h.min[b]),max:["x","y","z"].map(b=>h.max[b])}};class F{constructor({numProp:b=3,triVerts:T=new Uint32Array,vertProperties:A=new Float32Array,mergeFromVert:J,mergeToVert:ee,runIndex:se,runOriginalID:De,faceID:me,halfedgeTangent:i0,runTransform:o0}={}){this.numProp=b,this.triVerts=T,this.vertProperties=A,this.mergeFromVert=J,this.mergeToVert=ee,this.runIndex=se,this.runOriginalID=De,this.faceID=me,this.halfedgeTangent=i0,this.runTransform=o0}get numTri(){return this.triVerts.length/3}get numVert(){return this.vertProperties.length/this.numProp}get numRun(){return this.runOriginalID.length}merge(){let{changed:b,mesh:T}=t._Merge(this);return Object.assign(this,wn({},T)),b}verts(b){return this.triVerts.subarray(3*b,3*(b+1))}position(b){return this.vertProperties.subarray(this.numProp*b,this.numProp*b+3)}extras(b){return this.vertProperties.subarray(this.numProp*b+3,this.numProp*(b+1))}tangent(b){return this.halfedgeTangent.subarray(4*b,4*(b+1))}transform(b){let T=new Array(16);for(let A of[0,1,2,3])for(let J of[0,1,2])T[4*A+J]=this.runTransform[12*b+3*A+J];return T[15]=1,T}}t.Mesh=F,t.Manifold.prototype.getMesh=function(h=-1){return new F(this._GetMeshJS(h))},t.ManifoldError=function(b,...T){let A="Unknown error";switch(b){case"NonFiniteVertex":A="Non-finite vertex";break;case"NotManifold":A="Not manifold";break;case"VertexOutOfBounds":A="Vertex index out of bounds";break;case"PropertiesWrongLength":A="Properties have wrong length";break;case"MissingPositionProperties":A="Less than three properties";break;case"MergeVectorsDifferentLengths":A="Merge vectors have different lengths";break;case"MergeIndexOutOfBounds":A="Merge index out of bounds";break;case"TransformWrongLength":A="Transform vector has wrong length";break;case"RunIndexWrongLength":A="Run index vector has wrong length";break;case"FaceIDWrongLength":A="Face ID vector has wrong length";case"InvalidConstruction":A="Manifold constructed with invalid parameters"}let J=Error.apply(this,[A,...T]);J.name=this.name="ManifoldError",this.message=J.message,this.stack=J.stack,this.code=b},t.ManifoldError.prototype=Object.create(Error.prototype,{constructor:{value:t.ManifoldError,writable:!0,configurable:!0}}),t.CrossSection=function(h,b="Positive"){let T=d(h),A=new D(T,S(b));return f(T),A},t.CrossSection.ofPolygons=function(h,b="Positive"){return new t.CrossSection(h,b)},t.CrossSection.square=function(...h){let b;h.length==0?b={x:1,y:1}:typeof h[0]=="number"?b={x:h[0],y:h[0]}:b=g(h);let T=h[1]||!1;return t._Square(b,T)},t.CrossSection.circle=function(h,b=0){return t._Circle(h,b)};function q(h){return function(...b){b.length==1&&(b=b[0]);let T=new t.Vector_crossSection;for(let J of b)T.push_back(P(J));let A=t["_crossSection"+h](T);return T.delete(),A}}t.CrossSection.compose=q("Compose"),t.CrossSection.union=q("UnionN"),t.CrossSection.difference=q("DifferenceN"),t.CrossSection.intersection=q("IntersectionN");function ce(h,b){n(h,b,T=>T instanceof Array?{x:T[0],y:T[1]}:T)}t.CrossSection.hull=function(...h){h.length==1&&(h=h[0]);let b=new t.Vector_vec2;for(let A of h)if(A instanceof D)t._crossSectionCollectVertices(b,A);else if(A instanceof Array&&A.length==2&&typeof A[0]=="number")b.push_back({x:A[0],y:A[1]});else if(A.x)b.push_back(A);else{let ee=A[0].length==2&&typeof A[0][0]=="number"||A[0].x?[A]:A;for(let se of ee)ce(b,se)}let T=t._crossSectionHullPoints(b);return b.delete(),T},t.CrossSection.prototype=Object.create(D.prototype),Object.defineProperty(t.CrossSection,Symbol.hasInstance,{get:()=>h=>h instanceof D});let ie=t.Manifold;t.Manifold=function(h){let b=new ie(h),T=b.status();if(T!=="NoError")throw new t.ManifoldError(T);return b},t.Manifold.ofMesh=function(h){return new t.Manifold(h)},t.Manifold.tetrahedron=function(){return t._Tetrahedron()},t.Manifold.cube=function(...h){let b;h.length==0?b={x:1,y:1,z:1}:typeof h[0]=="number"?b={x:h[0],y:h[0],z:h[0]}:b=E(h);let T=h[1]||!1;return t._Cube(b,T)},t.Manifold.cylinder=function(h,b,T=-1,A=0,J=!1){return t._Cylinder(h,b,T,A,J)},t.Manifold.sphere=function(h,b=0){return t._Sphere(h,b)},t.Manifold.smooth=function(h,b=[]){let T=new t.Vector_smoothness;n(T,b);let A=t._Smooth(h,T);return T.delete(),A},t.Manifold.extrude=function(h,b,T=0,A=0,J=[1,1],ee=!1){return(h instanceof D?h:t.CrossSection(h,"Positive")).extrude(b,T,A,J,ee)},t.Manifold.revolve=function(h,b=0,T=360){return(h instanceof D?h:t.CrossSection(h,"Positive")).revolve(b,T)},t.Manifold.reserveIDs=function(h){return t._ReserveIDs(h)},t.Manifold.compose=function(h){let b=new t.Vector_manifold;n(b,h);let T=t._manifoldCompose(b);return b.delete(),T};function Be(h){return function(...b){b.length==1&&(b=b[0]);let T=new t.Vector_manifold;for(let J of b)T.push_back(J);let A=t["_manifold"+h+"N"](T);return T.delete(),A}}t.Manifold.union=Be("Union"),t.Manifold.difference=Be("Difference"),t.Manifold.intersection=Be("Intersection"),t.Manifold.levelSet=function(h,b,T,A=0,J=-1){let ee={min:{x:b.min[0],y:b.min[1],z:b.min[2]},max:{x:b.max[0],y:b.max[1],z:b.max[2]}},se=I0(function(me){let i0=Ee(me,"double"),o0=Ee(me+8,"double"),ae=Ee(me+16,"double");return h([i0,o0,ae])},"di"),De=t._LevelSet(se,ee,T,A,J);return P0(se),De};function He(h,b){n(h,b,T=>T instanceof Array?{x:T[0],y:T[1],z:T[2]}:T)}t.Manifold.hull=function(...h){h.length==1&&(h=h[0]);let b=new t.Vector_vec3;for(let A of h)A instanceof ie?t._manifoldCollectVertices(b,A):A instanceof Array&&A.length==3&&typeof A[0]=="number"?b.push_back({x:A[0],y:A[1],z:A[2]}):A.x?b.push_back(A):He(b,A);let T=t._manifoldHullPoints(b);return b.delete(),T},t.Manifold.prototype=Object.create(ie.prototype),Object.defineProperty(t.Manifold,Symbol.hasInstance,{get:()=>h=>h instanceof ie}),t.triangulate=function(h,b=-1,T=!0){let A=d(h),J=i(t._Triangulate(A,b,T),ee=>[ee[0],ee[1],ee[2]]);return f(A),J}};var C=Object.assign({},t),M=[],_="./this.program",R=(n,i)=>{throw i},I="";function O(n){return t.locateFile?t.locateFile(n,I):I+n}var B,H;if(p){var w=y("fs"),L=y("path");I=y("url").fileURLToPath(new URL("./",import.meta.url)),H=n=>{n=pe(n)?new URL(n):L.normalize(n);var i=w.readFileSync(n);return i},B=(n,i=!0)=>(n=pe(n)?new URL(n):L.normalize(n),new Promise((l,d)=>{w.readFile(n,i?void 0:"utf8",(f,g)=>{f?d(f):l(i?g.buffer:g)})})),!t.thisProgram&&process.argv.length>1&&(_=process.argv[1].replace(/\\/g,"/")),M=process.argv.slice(2),R=(n,i)=>{throw process.exitCode=n,i}}else(c||m)&&(m?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),u&&(I=u),I.startsWith("blob:")?I="":I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1),m&&(H=n=>{var i=new XMLHttpRequest;return i.open("GET",n,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),B=n=>pe(n)?new Promise((i,l)=>{var d=new XMLHttpRequest;d.open("GET",n,!0),d.responseType="arraybuffer",d.onload=()=>{(d.status==200||d.status==0&&d.response)&&l(d.response),i(d.status)},d.onerror=i,d.send(null)}):fetch(n,{credentials:"same-origin"}).then(i=>i.ok?i.arrayBuffer():Promise.reject(new Error(i.status+" : "+i.url))));var N=t.print||console.log.bind(console),j=t.printErr||console.error.bind(console);Object.assign(t,C),C=null,t.arguments&&(M=t.arguments),t.thisProgram&&(_=t.thisProgram),t.quit&&(R=t.quit);var k;t.wasmBinary&&(k=t.wasmBinary);var Q,K=!1,Se,V,Z,de,tt,Te,re,Rt,Me;function Fe(){var n=Q.buffer;t.HEAP8=V=new Int8Array(n),t.HEAP16=de=new Int16Array(n),t.HEAPU8=Z=new Uint8Array(n),t.HEAPU16=tt=new Uint16Array(n),t.HEAP32=Te=new Int32Array(n),t.HEAPU32=re=new Uint32Array(n),t.HEAPF32=Rt=new Float32Array(n),t.HEAPF64=Me=new Float64Array(n)}var wt=[],Nt=[],d0=[],H0=!1;function L0(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Ot(t.preRun.shift());b0(wt)}function m0(){H0=!0,b0(Nt)}function h0(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)p0(t.postRun.shift());b0(d0)}function Ot(n){wt.unshift(n)}function F0(n){Nt.unshift(n)}function p0(n){d0.unshift(n)}var Oe=0,f0=null,yt=null;function Pr(n){Oe++,t.monitorRunDependencies?.(Oe)}function kt(n){if(Oe--,t.monitorRunDependencies?.(Oe),Oe==0&&(f0!==null&&(clearInterval(f0),f0=null),yt)){var i=yt;yt=null,i()}}function Ve(n){t.onAbort?.(n),n="Aborted("+n+")",j(n),K=!0,Se=1,n+=". Build with -sASSERTIONS for more info.";var i=new WebAssembly.RuntimeError(n);throw s(i),i}var Je="data:application/octet-stream;base64,",rt=n=>n.startsWith(Je),pe=n=>n.startsWith("file://");function Bt(){if(t.locateFile){var n="manifold.wasm";return rt(n)?n:O(n)}return new URL("manifold.wasm",import.meta.url).href}var Ue;function ze(n){if(n==Ue&&k)return new Uint8Array(k);if(H)return H(n);throw"both async and sync fetching of the wasm failed"}function Ht(n){return k?Promise.resolve().then(()=>ze(n)):B(n).then(i=>new Uint8Array(i),()=>ze(n))}function J0(n,i,l){return Ht(n).then(d=>WebAssembly.instantiate(d,i)).then(l,d=>{j(`failed to asynchronously prepare wasm: ${d}`),Ve(d)})}function Rr(n,i,l,d){return!n&&typeof WebAssembly.instantiateStreaming=="function"&&!rt(i)&&!pe(i)&&!p&&typeof fetch=="function"?fetch(i,{credentials:"same-origin"}).then(f=>{var g=WebAssembly.instantiateStreaming(f,l);return g.then(d,function(E){return j(`wasm streaming compile failed: ${E}`),j("falling back to ArrayBuffer instantiation"),J0(i,l,d)})}):J0(i,l,d)}function Ke(){return{a:Ui}}function wr(){var n=Ke();function i(d,f){return Pe=d.exports,Pe=Ki(Pe),Q=Pe.J,Fe(),lt=Pe.M,F0(Pe.K),kt("wasm-instantiate"),Pe}Pr("wasm-instantiate");function l(d){i(d.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(n,i)}catch(d){j(`Module.instantiateWasm callback failed with error: ${d}`),s(d)}return Ue||(Ue=Bt()),Rr(k,Ue,n,l).catch(s),{}}var b0=n=>{for(;n.length>0;)n.shift()(t)};function Ee(n,i="i8"){switch(i.endsWith("*")&&(i="*"),i){case"i1":return V[n>>>0];case"i8":return V[n>>>0];case"i16":return de[n>>>1>>>0];case"i32":return Te[n>>>2>>>0];case"i64":Ve("to do getValue(i64) use WASM_BIGINT");case"float":return Rt[n>>>2>>>0];case"double":return Me[n>>>3>>>0];case"*":return re[n>>>2>>>0];default:Ve(`invalid type for getValue: ${i}`)}}var En=t.noExitRuntime||!0;function nt(n,i,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":V[n>>>0]=i;break;case"i8":V[n>>>0]=i;break;case"i16":de[n>>>1>>>0]=i;break;case"i32":Te[n>>>2>>>0]=i;break;case"i64":Ve("to do setValue(i64) use WASM_BIGINT");case"float":Rt[n>>>2>>>0]=i;break;case"double":Me[n>>>3>>>0]=i;break;case"*":re[n>>>2>>>0]=i;break;default:Ve(`invalid type for setValue: ${l}`)}}class g0{constructor(i){this.excPtr=i,this.ptr=i-24}set_type(i){re[this.ptr+4>>>2>>>0]=i}get_type(){return re[this.ptr+4>>>2>>>0]}set_destructor(i){re[this.ptr+8>>>2>>>0]=i}get_destructor(){return re[this.ptr+8>>>2>>>0]}set_caught(i){i=i?1:0,V[this.ptr+12>>>0]=i}get_caught(){return V[this.ptr+12>>>0]!=0}set_rethrown(i){i=i?1:0,V[this.ptr+13>>>0]=i}get_rethrown(){return V[this.ptr+13>>>0]!=0}init(i,l){this.set_adjusted_ptr(0),this.set_type(i),this.set_destructor(l)}set_adjusted_ptr(i){re[this.ptr+16>>>2>>>0]=i}get_adjusted_ptr(){return re[this.ptr+16>>>2>>>0]}get_exception_ptr(){var i=Pn(this.get_type());if(i)return re[this.excPtr>>>2>>>0];var l=this.get_adjusted_ptr();return l!==0?l:this.excPtr}}var Lt=0,Ft=0;function Jt(n,i,l){n>>>=0,i>>>=0,l>>>=0;var d=new g0(n);throw d.init(i,l),Lt=n,Ft++,Lt}var v0=()=>{Ve("")},it={},Wt=n=>{for(;n.length;){var i=n.pop(),l=n.pop();l(i)}};function ot(n){return this.fromWireType(re[n>>>2>>>0])}var Xe={},We={},St={},y0,Ze=n=>{throw new y0(n)},qe=(n,i,l)=>{n.forEach(function(S){St[S]=i});function d(S){var x=l(S);x.length!==n.length&&Ze("Mismatched type converter count");for(var D=0;D<n.length;++D)_e(n[D],x[D])}var f=new Array(i.length),g=[],E=0;i.forEach((S,x)=>{We.hasOwnProperty(S)?f[x]=We[S]:(g.push(S),Xe.hasOwnProperty(S)||(Xe[S]=[]),Xe[S].push(()=>{f[x]=We[S],++E,E===g.length&&d(f)}))}),g.length===0&&d(f)},Nr=function(n){n>>>=0;var i=it[n];delete it[n];var l=i.rawConstructor,d=i.rawDestructor,f=i.fields,g=f.map(E=>E.getterReturnType).concat(f.map(E=>E.setterArgumentType));qe([n],g,E=>{var S={};return f.forEach((x,D)=>{var P=x.fieldName,F=E[D],q=x.getter,ce=x.getterContext,ie=E[D+f.length],Be=x.setter,He=x.setterContext;S[P]={read:h=>F.fromWireType(q(ce,h)),write:(h,b)=>{var T=[];Be(He,h,ie.toWireType(T,b)),Wt(T)}}}),[{name:i.name,fromWireType:x=>{var D={};for(var P in S)D[P]=S[P].read(x);return d(x),D},toWireType:(x,D)=>{for(var P in S)if(!(P in D))throw new TypeError(`Missing field: "${P}"`);var F=l();for(P in S)S[P].write(F,D[P]);return x!==null&&x.push(d,F),F},argPackAdvance:Ie,readValueFromPointer:ot,destructorFunction:d}]})};function je(n,i,l,d,f){n>>>=0,i>>>=0,l>>>=0}var Or=()=>{for(var n=new Array(256),i=0;i<256;++i)n[i]=String.fromCharCode(i);W0=n},W0,ue=n=>{for(var i="",l=n;Z[l>>>0];)i+=W0[Z[l++>>>0]];return i},st,X=n=>{throw new st(n)};function kr(n,i,l={}){var d=i.name;if(n||X(`type "${d}" must have a positive integer typeid pointer`),We.hasOwnProperty(n)){if(l.ignoreDuplicateRegistrations)return;X(`Cannot register type '${d}' twice`)}if(We[n]=i,delete St[n],Xe.hasOwnProperty(n)){var f=Xe[n];delete Xe[n],f.forEach(g=>g())}}function _e(n,i,l={}){if(!("argPackAdvance"in i))throw new TypeError("registerType registeredInstance requires argPackAdvance");return kr(n,i,l)}var Ie=8;function Br(n,i,l,d){n>>>=0,i>>>=0,i=ue(i),_e(n,{name:i,fromWireType:function(f){return!!f},toWireType:function(f,g){return g?l:d},argPackAdvance:Ie,readValueFromPointer:function(f){return this.fromWireType(Z[f>>>0])},destructorFunction:null})}var Hr=n=>({count:n.count,deleteScheduled:n.deleteScheduled,preservePointerOnDelete:n.preservePointerOnDelete,ptr:n.ptr,ptrType:n.ptrType,smartPtr:n.smartPtr,smartPtrType:n.smartPtrType}),S0=n=>{function i(l){return l.$$.ptrType.registeredClass.name}X(i(n)+" instance already deleted")},C0=!1,j0=n=>{},Lr=n=>{n.smartPtr?n.smartPtrType.rawDestructor(n.smartPtr):n.ptrType.registeredClass.rawDestructor(n.ptr)},G0=n=>{n.count.value-=1;var i=n.count.value===0;i&&Lr(n)},$0=(n,i,l)=>{if(i===l)return n;if(l.baseClass===void 0)return null;var d=$0(n,i,l.baseClass);return d===null?null:l.downcast(d)},V0={},Fr=()=>Object.keys(Tt).length,U0=()=>{var n=[];for(var i in Tt)Tt.hasOwnProperty(i)&&n.push(Tt[i]);return n},Ct=[],jt=()=>{for(;Ct.length;){var n=Ct.pop();n.$$.deleteScheduled=!1,n.delete()}},at,z0=n=>{at=n,Ct.length&&at&&at(jt)},K0=()=>{t.getInheritedInstanceCount=Fr,t.getLiveInheritedInstances=U0,t.flushPendingDeletes=jt,t.setDelayFunction=z0},Tt={},Jr=(n,i)=>{for(i===void 0&&X("ptr should not be undefined");n.baseClass;)i=n.upcast(i),n=n.baseClass;return i},Wr=(n,i)=>(i=Jr(n,i),Tt[i]),Gt=(n,i)=>{(!i.ptrType||!i.ptr)&&Ze("makeClassHandle requires ptr and ptrType");var l=!!i.smartPtrType,d=!!i.smartPtr;return l!==d&&Ze("Both smartPtrType and smartPtr must be specified"),i.count={value:1},Et(Object.create(n,{$$:{value:i,writable:!0}}))};function jr(n){var i=this.getPointee(n);if(!i)return this.destructor(n),null;var l=Wr(this.registeredClass,i);if(l!==void 0){if(l.$$.count.value===0)return l.$$.ptr=i,l.$$.smartPtr=n,l.clone();var d=l.clone();return this.destructor(n),d}function f(){return this.isSmartPointer?Gt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:i,smartPtrType:this,smartPtr:n}):Gt(this.registeredClass.instancePrototype,{ptrType:this,ptr:n})}var g=this.registeredClass.getActualType(i),E=V0[g];if(!E)return f.call(this);var S;this.isConst?S=E.constPointerType:S=E.pointerType;var x=$0(i,this.registeredClass,S.registeredClass);return x===null?f.call(this):this.isSmartPointer?Gt(S.registeredClass.instancePrototype,{ptrType:S,ptr:x,smartPtrType:this,smartPtr:n}):Gt(S.registeredClass.instancePrototype,{ptrType:S,ptr:x})}var Et=n=>typeof FinalizationRegistry>"u"?(Et=i=>i,n):(C0=new FinalizationRegistry(i=>{G0(i.$$)}),Et=i=>{var l=i.$$,d=!!l.smartPtr;if(d){var f={$$:l};C0.register(i,f,i)}return i},j0=i=>C0.unregister(i),Et(n)),Gr=()=>{Object.assign($t.prototype,{isAliasOf(n){if(!(this instanceof $t)||!(n instanceof $t))return!1;var i=this.$$.ptrType.registeredClass,l=this.$$.ptr;n.$$=n.$$;for(var d=n.$$.ptrType.registeredClass,f=n.$$.ptr;i.baseClass;)l=i.upcast(l),i=i.baseClass;for(;d.baseClass;)f=d.upcast(f),d=d.baseClass;return i===d&&l===f},clone(){if(this.$$.ptr||S0(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var n=Et(Object.create(Object.getPrototypeOf(this),{$$:{value:Hr(this.$$)}}));return n.$$.count.value+=1,n.$$.deleteScheduled=!1,n},delete(){this.$$.ptr||S0(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&X("Object already scheduled for deletion"),j0(this),G0(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||S0(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&X("Object already scheduled for deletion"),Ct.push(this),Ct.length===1&&at&&at(jt),this.$$.deleteScheduled=!0,this}})};function $t(){}var ct=(n,i)=>Object.defineProperty(i,"name",{value:n}),X0=(n,i,l)=>{if(n[i].overloadTable===void 0){var d=n[i];n[i]=function(...f){return n[i].overloadTable.hasOwnProperty(f.length)||X(`Function '${l}' called with an invalid number of arguments (${f.length}) - expects one of (${n[i].overloadTable})!`),n[i].overloadTable[f.length].apply(this,f)},n[i].overloadTable=[],n[i].overloadTable[d.argCount]=d}},Ge=(n,i,l)=>{t.hasOwnProperty(n)?((l===void 0||t[n].overloadTable!==void 0&&t[n].overloadTable[l]!==void 0)&&X(`Cannot register public name '${n}' twice`),X0(t,n,n),t.hasOwnProperty(l)&&X(`Cannot register multiple overloads of a function with the same number of arguments (${l})!`),t[n].overloadTable[l]=i):(t[n]=i,l!==void 0&&(t[n].numArguments=l))},Z0=48,Vt=57,Ut=n=>{if(n===void 0)return"_unknown";n=n.replace(/[^a-zA-Z0-9_]/g,"$");var i=n.charCodeAt(0);return i>=Z0&&i<=Vt?`_${n}`:n};function zt(n,i,l,d,f,g,E,S){this.name=n,this.constructor=i,this.instancePrototype=l,this.rawDestructor=d,this.baseClass=f,this.getActualType=g,this.upcast=E,this.downcast=S,this.pureVirtualFunctions=[]}var ut=(n,i,l)=>{for(;i!==l;)i.upcast||X(`Expected null or instance of ${l.name}, got an instance of ${i.name}`),n=i.upcast(n),i=i.baseClass;return n};function Kt(n,i){if(i===null)return this.isReference&&X(`null is not a valid ${this.name}`),0;i.$$||X(`Cannot pass "${M0(i)}" as a ${this.name}`),i.$$.ptr||X(`Cannot pass deleted object as a pointer of type ${this.name}`);var l=i.$$.ptrType.registeredClass,d=ut(i.$$.ptr,l,this.registeredClass);return d}function Xt(n,i){var l;if(i===null)return this.isReference&&X(`null is not a valid ${this.name}`),this.isSmartPointer?(l=this.rawConstructor(),n!==null&&n.push(this.rawDestructor,l),l):0;(!i||!i.$$)&&X(`Cannot pass "${M0(i)}" as a ${this.name}`),i.$$.ptr||X(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&i.$$.ptrType.isConst&&X(`Cannot convert argument of type ${i.$$.smartPtrType?i.$$.smartPtrType.name:i.$$.ptrType.name} to parameter type ${this.name}`);var d=i.$$.ptrType.registeredClass;if(l=ut(i.$$.ptr,d,this.registeredClass),this.isSmartPointer)switch(i.$$.smartPtr===void 0&&X("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:i.$$.smartPtrType===this?l=i.$$.smartPtr:X(`Cannot convert argument of type ${i.$$.smartPtrType?i.$$.smartPtrType.name:i.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:l=i.$$.smartPtr;break;case 2:if(i.$$.smartPtrType===this)l=i.$$.smartPtr;else{var f=i.clone();l=this.rawShare(l,oe.toHandle(()=>f.delete())),n!==null&&n.push(this.rawDestructor,l)}break;default:X("Unsupporting sharing policy")}return l}function Zt(n,i){if(i===null)return this.isReference&&X(`null is not a valid ${this.name}`),0;i.$$||X(`Cannot pass "${M0(i)}" as a ${this.name}`),i.$$.ptr||X(`Cannot pass deleted object as a pointer of type ${this.name}`),i.$$.ptrType.isConst&&X(`Cannot convert argument of type ${i.$$.ptrType.name} to parameter type ${this.name}`);var l=i.$$.ptrType.registeredClass,d=ut(i.$$.ptr,l,this.registeredClass);return d}var qt=()=>{Object.assign(fe.prototype,{getPointee(n){return this.rawGetPointee&&(n=this.rawGetPointee(n)),n},destructor(n){this.rawDestructor?.(n)},argPackAdvance:Ie,readValueFromPointer:ot,fromWireType:jr})};function fe(n,i,l,d,f,g,E,S,x,D,P){this.name=n,this.registeredClass=i,this.isReference=l,this.isConst=d,this.isSmartPointer=f,this.pointeeType=g,this.sharingPolicy=E,this.rawGetPointee=S,this.rawConstructor=x,this.rawShare=D,this.rawDestructor=P,!f&&i.baseClass===void 0?d?(this.toWireType=Kt,this.destructorFunction=null):(this.toWireType=Zt,this.destructorFunction=null):this.toWireType=Xt}var q0=(n,i,l)=>{t.hasOwnProperty(n)||Ze("Replacing nonexistent public symbol"),t[n].overloadTable!==void 0&&l!==void 0?t[n].overloadTable[l]=i:(t[n]=i,t[n].argCount=l)},$r=(n,i,l)=>{n=n.replace(/p/g,"i");var d=t["dynCall_"+n];return d(i,...l)},lt,Yt=n=>lt.get(n),Vr=(n,i,l=[])=>{if(n.includes("j"))return $r(n,i,l);var d=Yt(i)(...l);return n[0]=="p"?d>>>0:d},Y0=(n,i)=>(...l)=>Vr(n,i,l),xe=(n,i)=>{n=ue(n);function l(){return n.includes("j")||n.includes("p")?Y0(n,i):Yt(i)}var d=l();return typeof d!="function"&&X(`unknown function pointer with signature ${n}: ${i}`),d},Ur=(n,i)=>{var l=ct(i,function(d){this.name=i,this.message=d;var f=new Error(d).stack;f!==void 0&&(this.stack=this.toString()+`
`+f.replace(/^Error(:[^\n]*)?\n/,""))});return l.prototype=Object.create(n.prototype),l.prototype.constructor=l,l.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},l},Q0,er=n=>{var i=In(n),l=ue(i);return Ye(i),l},Qt=(n,i)=>{var l=[],d={};function f(g){if(!d[g]&&!We[g]){if(St[g]){St[g].forEach(f);return}l.push(g),d[g]=!0}}throw i.forEach(f),new Q0(`${n}: `+l.map(er).join([", "]))};function zr(n,i,l,d,f,g,E,S,x,D,P,F,q){n>>>=0,i>>>=0,l>>>=0,d>>>=0,f>>>=0,g>>>=0,E>>>=0,S>>>=0,x>>>=0,D>>>=0,P>>>=0,F>>>=0,q>>>=0,P=ue(P),g=xe(f,g),S&&=xe(E,S),D&&=xe(x,D),q=xe(F,q);var ce=Ut(P);Ge(ce,function(){Qt(`Cannot construct ${P} due to unbound types`,[d])}),qe([n,i,l],d?[d]:[],ie=>{ie=ie[0];var Be,He;d?(Be=ie.registeredClass,He=Be.instancePrototype):He=$t.prototype;var h=ct(P,function(...se){if(Object.getPrototypeOf(this)!==b)throw new st("Use 'new' to construct "+P);if(T.constructor_body===void 0)throw new st(P+" has no accessible constructor");var De=T.constructor_body[se.length];if(De===void 0)throw new st(`Tried to invoke ctor of ${P} with invalid number of parameters (${se.length}) - expected (${Object.keys(T.constructor_body).toString()}) parameters instead!`);return De.apply(this,se)}),b=Object.create(He,{constructor:{value:h}});h.prototype=b;var T=new zt(P,h,b,q,Be,g,S,D);T.baseClass&&(T.baseClass.__derivedClasses??=[],T.baseClass.__derivedClasses.push(T));var A=new fe(P,T,!0,!1,!1),J=new fe(P+"*",T,!1,!1,!1),ee=new fe(P+" const*",T,!1,!0,!1);return V0[n]={pointerType:J,constPointerType:ee},q0(ce,h),[A,J,ee]})}var T0=(n,i)=>{for(var l=[],d=0;d<n;d++)l.push(re[i+d*4>>>2>>>0]);return l};function tr(n){for(var i=1;i<n.length;++i)if(n[i]!==null&&n[i].destructorFunction===void 0)return!0;return!1}function rr(n,i){if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var l=ct(n.name||"unknownFunctionName",function(){});l.prototype=n.prototype;var d=new l,f=n.apply(d,i);return f instanceof Object?f:d}function Kr(n,i,l,d){for(var f=tr(n),g=n.length,E="",S="",x=0;x<g-2;++x)E+=(x!==0?", ":"")+"arg"+x,S+=(x!==0?", ":"")+"arg"+x+"Wired";var D=`
        return function (${E}) {
        if (arguments.length !== ${g-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${g-2}');
        }`;f&&(D+=`var destructors = [];
`);var P=f?"destructors":"null",F=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];i&&(D+="var thisWired = classParam['toWireType']("+P+`, this);
`);for(var x=0;x<g-2;++x)D+="var arg"+x+"Wired = argType"+x+"['toWireType']("+P+", arg"+x+`);
`,F.push("argType"+x);if(i&&(S="thisWired"+(S.length>0?", ":"")+S),D+=(l||d?"var rv = ":"")+"invoker(fn"+(S.length>0?", ":"")+S+`);
`,f)D+=`runDestructors(destructors);
`;else for(var x=i?1:2;x<n.length;++x){var q=x===1?"thisWired":"arg"+(x-2)+"Wired";n[x].destructorFunction!==null&&(D+=`${q}_dtor(${q});
`,F.push(`${q}_dtor`))}return l&&(D+=`var ret = retType['fromWireType'](rv);
return ret;
`),D+=`}
`,[F,D]}function E0(n,i,l,d,f,g){var E=i.length;E<2&&X("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var S=i[1]!==null&&l!==null,x=tr(i),D=i[0].name!=="void",P=[n,X,d,f,Wt,i[0],i[1]],F=0;F<E-2;++F)P.push(i[F+2]);if(!x)for(var F=S?1:2;F<i.length;++F)i[F].destructorFunction!==null&&P.push(i[F].destructorFunction);let[q,ce]=Kr(i,S,D,g);q.push(ce);var ie=rr(Function,q)(...P);return ct(n,ie)}var Xr=function(n,i,l,d,f,g){n>>>=0,l>>>=0,d>>>=0,f>>>=0,g>>>=0;var E=T0(i,l);f=xe(d,f),qe([],[n],S=>{S=S[0];var x=`constructor ${S.name}`;if(S.registeredClass.constructor_body===void 0&&(S.registeredClass.constructor_body=[]),S.registeredClass.constructor_body[i-1]!==void 0)throw new st(`Cannot register multiple constructors with identical number of parameters (${i-1}) for class '${S.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return S.registeredClass.constructor_body[i-1]=()=>{Qt(`Cannot construct ${S.name} due to unbound types`,E)},qe([],E,D=>(D.splice(1,0,null),S.registeredClass.constructor_body[i-1]=E0(x,D,null,f,g),[])),[]})},nr=n=>{n=n.trim();let i=n.indexOf("(");return i!==-1?n.substr(0,i):n},Zr=function(n,i,l,d,f,g,E,S,x){n>>>=0,i>>>=0,d>>>=0,f>>>=0,g>>>=0,E>>>=0;var D=T0(l,d);i=ue(i),i=nr(i),g=xe(f,g),qe([],[n],P=>{P=P[0];var F=`${P.name}.${i}`;i.startsWith("@@")&&(i=Symbol[i.substring(2)]),S&&P.registeredClass.pureVirtualFunctions.push(i);function q(){Qt(`Cannot call ${F} due to unbound types`,D)}var ce=P.registeredClass.instancePrototype,ie=ce[i];return ie===void 0||ie.overloadTable===void 0&&ie.className!==P.name&&ie.argCount===l-2?(q.argCount=l-2,q.className=P.name,ce[i]=q):(X0(ce,i,F),ce[i].overloadTable[l-2]=q),qe([],D,Be=>{var He=E0(F,Be,P,g,E,x);return ce[i].overloadTable===void 0?(He.argCount=l-2,ce[i]=He):ce[i].overloadTable[l-2]=He,[]}),[]})},x0=[],ke=[];function D0(n){n>>>=0,n>9&&--ke[n+1]===0&&(ke[n]=void 0,x0.push(n))}var qr=()=>ke.length/2-5-x0.length,A0=()=>{ke.push(0,1,void 0,1,null,1,!0,1,!1,1),t.count_emval_handles=qr},oe={toValue:n=>(n||X("Cannot use deleted val. handle = "+n),ke[n]),toHandle:n=>{switch(n){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let i=x0.pop()||ke.length;return ke[i]=n,ke[i+1]=1,i}}}},e0={name:"emscripten::val",fromWireType:n=>{var i=oe.toValue(n);return D0(n),i},toWireType:(n,i)=>oe.toHandle(i),argPackAdvance:Ie,readValueFromPointer:ot,destructorFunction:null};function xt(n){return n>>>=0,_e(n,e0)}var t0=(n,i,l)=>{switch(i){case 1:return l?function(d){return this.fromWireType(V[d>>>0])}:function(d){return this.fromWireType(Z[d>>>0])};case 2:return l?function(d){return this.fromWireType(de[d>>>1>>>0])}:function(d){return this.fromWireType(tt[d>>>1>>>0])};case 4:return l?function(d){return this.fromWireType(Te[d>>>2>>>0])}:function(d){return this.fromWireType(re[d>>>2>>>0])};default:throw new TypeError(`invalid integer width (${i}): ${n}`)}};function r0(n,i,l,d){n>>>=0,i>>>=0,l>>>=0,i=ue(i);function f(){}f.values={},_e(n,{name:i,constructor:f,fromWireType:function(g){return this.constructor.values[g]},toWireType:(g,E)=>E.value,argPackAdvance:Ie,readValueFromPointer:t0(i,l,d),destructorFunction:null}),Ge(i,f)}var n0=(n,i)=>{var l=We[n];return l===void 0&&X(`${i} has unknown type ${er(n)}`),l};function Yr(n,i,l){n>>>=0,i>>>=0;var d=n0(n,"enum");i=ue(i);var f=d.constructor,g=Object.create(d.constructor.prototype,{value:{value:l},constructor:{value:ct(`${d.name}_${i}`,function(){})}});f.values[l]=g,f[i]=g}var M0=n=>{if(n===null)return"null";var i=typeof n;return i==="object"||i==="array"||i==="function"?n.toString():""+n},Qr=(n,i)=>{switch(i){case 4:return function(l){return this.fromWireType(Rt[l>>>2>>>0])};case 8:return function(l){return this.fromWireType(Me[l>>>3>>>0])};default:throw new TypeError(`invalid float width (${i}): ${n}`)}},en=function(n,i,l){n>>>=0,i>>>=0,l>>>=0,i=ue(i),_e(n,{name:i,fromWireType:d=>d,toWireType:(d,f)=>f,argPackAdvance:Ie,readValueFromPointer:Qr(i,l),destructorFunction:null})};function tn(n,i,l,d,f,g,E){n>>>=0,l>>>=0,d>>>=0,f>>>=0,g>>>=0;var S=T0(i,l);n=ue(n),n=nr(n),f=xe(d,f),Ge(n,function(){Qt(`Cannot call ${n} due to unbound types`,S)},i-1),qe([],S,x=>{var D=[x[0],null].concat(x.slice(1));return q0(n,E0(n,D,null,f,g,E),i-1),[]})}var rn=(n,i,l)=>{switch(i){case 1:return l?d=>V[d>>>0]:d=>Z[d>>>0];case 2:return l?d=>de[d>>>1>>>0]:d=>tt[d>>>1>>>0];case 4:return l?d=>Te[d>>>2>>>0]:d=>re[d>>>2>>>0];default:throw new TypeError(`invalid integer width (${i}): ${n}`)}};function nn(n,i,l,d,f){n>>>=0,i>>>=0,l>>>=0,i=ue(i),f===-1&&(f=4294967295);var g=P=>P;if(d===0){var E=32-8*l;g=P=>P<<E>>>E}var S=i.includes("unsigned"),x=(P,F)=>{},D;S?D=function(P,F){return x(F,this.name),F>>>0}:D=function(P,F){return x(F,this.name),F},_e(n,{name:i,fromWireType:g,toWireType:D,argPackAdvance:Ie,readValueFromPointer:rn(i,l,d!==0),destructorFunction:null})}function _0(n,i,l){n>>>=0,l>>>=0;var d=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],f=d[i];function g(E){var S=re[E>>>2>>>0],x=re[E+4>>>2>>>0];return new f(V.buffer,x,S)}l=ue(l),_e(n,{name:l,fromWireType:g,argPackAdvance:Ie,readValueFromPointer:g},{ignoreDuplicateRegistrations:!0})}function oi(n,i){n>>>=0,i>>>=0,xt(n)}var si=(n,i,l,d)=>{if(l>>>=0,!(d>0))return 0;for(var f=l,g=l+d-1,E=0;E<n.length;++E){var S=n.charCodeAt(E);if(S>=55296&&S<=57343){var x=n.charCodeAt(++E);S=65536+((S&1023)<<10)|x&1023}if(S<=127){if(l>=g)break;i[l++>>>0]=S}else if(S<=2047){if(l+1>=g)break;i[l++>>>0]=192|S>>6,i[l++>>>0]=128|S&63}else if(S<=65535){if(l+2>=g)break;i[l++>>>0]=224|S>>12,i[l++>>>0]=128|S>>6&63,i[l++>>>0]=128|S&63}else{if(l+3>=g)break;i[l++>>>0]=240|S>>18,i[l++>>>0]=128|S>>12&63,i[l++>>>0]=128|S>>6&63,i[l++>>>0]=128|S&63}}return i[l>>>0]=0,l-f},ai=(n,i,l)=>si(n,Z,i,l),ci=n=>{for(var i=0,l=0;l<n.length;++l){var d=n.charCodeAt(l);d<=127?i++:d<=2047?i+=2:d>=55296&&d<=57343?(i+=4,++l):i+=3}return i},xn=typeof TextDecoder<"u"?new TextDecoder:void 0,ui=(n,i,l)=>{i>>>=0;for(var d=i+l,f=i;n[f]&&!(f>=d);)++f;if(f-i>16&&n.buffer&&xn)return xn.decode(n.subarray(i,f));for(var g="";i<f;){var E=n[i++];if(!(E&128)){g+=String.fromCharCode(E);continue}var S=n[i++]&63;if((E&224)==192){g+=String.fromCharCode((E&31)<<6|S);continue}var x=n[i++]&63;if((E&240)==224?E=(E&15)<<12|S<<6|x:E=(E&7)<<18|S<<12|x<<6|n[i++]&63,E<65536)g+=String.fromCharCode(E);else{var D=E-65536;g+=String.fromCharCode(55296|D>>10,56320|D&1023)}}return g},li=(n,i)=>(n>>>=0,n?ui(Z,n,i):"");function di(n,i){n>>>=0,i>>>=0,i=ue(i);var l=i==="std::string";_e(n,{name:i,fromWireType(d){var f=re[d>>>2>>>0],g=d+4,E;if(l)for(var S=g,x=0;x<=f;++x){var D=g+x;if(x==f||Z[D>>>0]==0){var P=D-S,F=li(S,P);E===void 0?E=F:(E+="\0",E+=F),S=D+1}}else{for(var q=new Array(f),x=0;x<f;++x)q[x]=String.fromCharCode(Z[g+x>>>0]);E=q.join("")}return Ye(d),E},toWireType(d,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var g,E=typeof f=="string";E||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array||X("Cannot pass non-string to std::string"),l&&E?g=ci(f):g=f.length;var S=cn(4+g+1),x=S+4;if(re[S>>>2>>>0]=g,l&&E)ai(f,x,g+1);else if(E)for(var D=0;D<g;++D){var P=f.charCodeAt(D);P>255&&(Ye(x),X("String has UTF-16 code units that do not fit in 8 bits")),Z[x+D>>>0]=P}else for(var D=0;D<g;++D)Z[x+D>>>0]=f[D];return d!==null&&d.push(Ye,S),S},argPackAdvance:Ie,readValueFromPointer:ot,destructorFunction(d){Ye(d)}})}var Dn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,mi=(n,i)=>{for(var l=n,d=l>>1,f=d+i/2;!(d>=f)&&tt[d>>>0];)++d;if(l=d<<1,l-n>32&&Dn)return Dn.decode(Z.subarray(n>>>0,l>>>0));for(var g="",E=0;!(E>=i/2);++E){var S=de[n+E*2>>>1>>>0];if(S==0)break;g+=String.fromCharCode(S)}return g},hi=(n,i,l)=>{if(l??=2147483647,l<2)return 0;l-=2;for(var d=i,f=l<n.length*2?l/2:n.length,g=0;g<f;++g){var E=n.charCodeAt(g);de[i>>>1>>>0]=E,i+=2}return de[i>>>1>>>0]=0,i-d},pi=n=>n.length*2,fi=(n,i)=>{for(var l=0,d="";!(l>=i/4);){var f=Te[n+l*4>>>2>>>0];if(f==0)break;if(++l,f>=65536){var g=f-65536;d+=String.fromCharCode(55296|g>>10,56320|g&1023)}else d+=String.fromCharCode(f)}return d},bi=(n,i,l)=>{if(i>>>=0,l??=2147483647,l<4)return 0;for(var d=i,f=d+l-4,g=0;g<n.length;++g){var E=n.charCodeAt(g);if(E>=55296&&E<=57343){var S=n.charCodeAt(++g);E=65536+((E&1023)<<10)|S&1023}if(Te[i>>>2>>>0]=E,i+=4,i+4>f)break}return Te[i>>>2>>>0]=0,i-d},gi=n=>{for(var i=0,l=0;l<n.length;++l){var d=n.charCodeAt(l);d>=55296&&d<=57343&&++l,i+=4}return i},vi=function(n,i,l){n>>>=0,i>>>=0,l>>>=0,l=ue(l);var d,f,g,E;i===2?(d=mi,f=hi,E=pi,g=S=>tt[S>>>1>>>0]):i===4&&(d=fi,f=bi,E=gi,g=S=>re[S>>>2>>>0]),_e(n,{name:l,fromWireType:S=>{for(var x=re[S>>>2>>>0],D,P=S+4,F=0;F<=x;++F){var q=S+4+F*i;if(F==x||g(q)==0){var ce=q-P,ie=d(P,ce);D===void 0?D=ie:(D+="\0",D+=ie),P=q+i}}return Ye(S),D},toWireType:(S,x)=>{typeof x!="string"&&X(`Cannot pass non-string to C++ string type ${l}`);var D=E(x),P=cn(4+D+i);return re[P>>>2>>>0]=D/i,f(x,P+4,D+i),S!==null&&S.push(Ye,P),P},argPackAdvance:Ie,readValueFromPointer:ot,destructorFunction(S){Ye(S)}})};function yi(n,i,l,d,f,g){n>>>=0,i>>>=0,l>>>=0,d>>>=0,f>>>=0,g>>>=0,it[n]={name:ue(i),rawConstructor:xe(l,d),rawDestructor:xe(f,g),fields:[]}}function Si(n,i,l,d,f,g,E,S,x,D){n>>>=0,i>>>=0,l>>>=0,d>>>=0,f>>>=0,g>>>=0,E>>>=0,S>>>=0,x>>>=0,D>>>=0,it[n].fields.push({fieldName:ue(i),getterReturnType:l,getter:xe(d,f),getterContext:g,setterArgumentType:E,setter:xe(S,x),setterContext:D})}var Ci=function(n,i){n>>>=0,i>>>=0,i=ue(i),_e(n,{isVoid:!0,name:i,argPackAdvance:0,fromWireType:()=>{},toWireType:(l,d)=>{}})};function Ti(n,i,l){return n>>>=0,i>>>=0,l>>>=0,Z.copyWithin(n>>>0,i>>>0,i+l>>>0)}var An=(n,i,l)=>{var d=[],f=n.toWireType(d,l);return d.length&&(re[i>>>2>>>0]=oe.toHandle(d)),f};function Ei(n,i,l){return n>>>=0,i>>>=0,l>>>=0,n=oe.toValue(n),i=n0(i,"emval::as"),An(i,l,n)}var xi={},Mn=n=>{var i=xi[n];return i===void 0?ue(n):i},on=[];function Di(n,i,l,d,f){return n>>>=0,i>>>=0,l>>>=0,d>>>=0,f>>>=0,n=on[n],i=oe.toValue(i),l=Mn(l),n(i,i[l],d,f)}function Ai(n,i){return n>>>=0,i>>>=0,n=oe.toValue(n),i=oe.toValue(i),n==i}var Mi=n=>{var i=on.length;return on.push(n),i},_i=(n,i)=>{for(var l=new Array(n),d=0;d<n;++d)l[d]=n0(re[i+d*4>>>2>>>0],"parameter "+d);return l},yo=Reflect.construct;function Ii(n,i,l){i>>>=0;var d=_i(n,i),f=d.shift();n--;var g=`return function (obj, func, destructorsRef, args) {
`,E=0,S=[];l===0&&S.push("obj");for(var x=["retType"],D=[f],P=0;P<n;++P)S.push("arg"+P),x.push("argType"+P),D.push(d[P]),g+=`  var arg${P} = argType${P}.readValueFromPointer(args${E?"+"+E:""});
`,E+=d[P].argPackAdvance;var F=l===1?"new func":"func.call";g+=`  var rv = ${F}(${S.join(", ")});
`,f.isVoid||(x.push("emval_returnValue"),D.push(An),g+=`  return emval_returnValue(retType, destructorsRef, rv);
`),g+=`};
`,x.push(g);var q=rr(Function,x)(...D),ce=`methodCaller<(${d.map(ie=>ie.name).join(", ")}) => ${f.name}>`;return Mi(ct(ce,q))}function Pi(n,i){return n>>>=0,i>>>=0,n=oe.toValue(n),i=oe.toValue(i),oe.toHandle(n[i])}function Ri(n){n>>>=0,n>9&&(ke[n+1]+=1)}function wi(n){return n>>>=0,oe.toHandle(Mn(n))}function Ni(){return oe.toHandle({})}function Oi(n){n>>>=0;var i=oe.toValue(n);Wt(i),D0(n)}function ki(n,i,l){n>>>=0,i>>>=0,l>>>=0,n=oe.toValue(n),i=oe.toValue(i),l=oe.toValue(l),n[i]=l}function Bi(n,i){n>>>=0,i>>>=0,n=n0(n,"_emval_take_value");var l=n.readValueFromPointer(i);return oe.toHandle(l)}var Hi=()=>4294901760,Li=n=>{var i=Q.buffer,l=(n-i.byteLength+65535)/65536;try{return Q.grow(l),Fe(),1}catch{}};function Fi(n){n>>>=0;var i=Z.length,l=Hi();if(n>l)return!1;for(var d=(x,D)=>x+(D-x%D)%D,f=1;f<=4;f*=2){var g=i*(1+.2/f);g=Math.min(g,n+100663296);var E=Math.min(l,d(Math.max(n,g),65536)),S=Li(E);if(S)return!0}return!1}var _n=(n,i)=>{n<128?i.push(n):i.push(n%128|128,n>>7)},Ji=n=>{for(var i={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},l={parameters:[],results:n[0]=="v"?[]:[i[n[0]]]},d=1;d<n.length;++d)l.parameters.push(i[n[d]]);return l},Wi=(n,i)=>{var l=n.slice(0,1),d=n.slice(1),f={i:127,p:127,j:126,f:125,d:124,e:111};i.push(96),_n(d.length,i);for(var g=0;g<d.length;++g)i.push(f[d[g]]);l=="v"?i.push(0):i.push(1,f[l])},ji=(n,i)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(Ji(i),n);var l=[1];Wi(i,l);var d=[0,97,115,109,1,0,0,0,1];_n(l.length,d),d.push(...l),d.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var f=new WebAssembly.Module(new Uint8Array(d)),g=new WebAssembly.Instance(f,{e:{f:n}}),E=g.exports.f;return E},Gi=(n,i)=>{if(Dt)for(var l=n;l<n+i;l++){var d=Yt(l);d&&Dt.set(d,l)}},Dt,$i=n=>(Dt||(Dt=new WeakMap,Gi(0,lt.length)),Dt.get(n)||0),sn=[],Vi=()=>{if(sn.length)return sn.pop();try{lt.grow(1)}catch(n){throw n instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":n}return lt.length-1},an=(n,i)=>lt.set(n,i),I0=(n,i)=>{var l=$i(n);if(l)return l;var d=Vi();try{an(d,n)}catch(g){if(!(g instanceof TypeError))throw g;var f=ji(n,i);an(d,f)}return Dt.set(n,d),d},P0=n=>{Dt.delete(Yt(n)),an(n,null),sn.push(n)};y0=t.InternalError=class extends Error{constructor(i){super(i),this.name="InternalError"}},Or(),st=t.BindingError=class extends Error{constructor(i){super(i),this.name="BindingError"}},Gr(),K0(),qt(),Q0=t.UnboundTypeError=Ur(Error,"UnboundTypeError"),A0();var Ui={i:Jt,D:v0,n:Nr,C:je,H:Br,h:zr,g:Xr,a:Zr,G:xt,t:r0,e:Yr,x:en,c:tn,j:nn,f:_0,k:oi,w:di,s:vi,o:yi,l:Si,I:Ci,F:Ti,v:Ei,z:Di,b:D0,m:Ai,y:Ii,B:Pi,u:Ri,q:wi,A:Ni,p:Oi,r:ki,d:Bi,E:Fi},Pe=wr(),zi=()=>(zi=Pe.K)(),In=n=>(In=Pe.L)(n),cn=n=>(cn=Pe.N)(n),Ye=n=>(Ye=Pe.O)(n),Pn=n=>(Pn=Pe.P)(n);function Ki(n){n=Object.assign({},n);var i=d=>f=>d(f)>>>0,l=d=>()=>d()>>>0;return n.L=i(n.L),n.N=i(n.N),n._emscripten_stack_alloc=i(n._emscripten_stack_alloc),n.emscripten_stack_get_current=l(n.emscripten_stack_get_current),n}t.addFunction=I0,t.removeFunction=P0;var ir;yt=function n(){ir||Rn(),ir||(yt=n)};function Rn(){if(Oe>0||(L0(),Oe>0))return;function n(){ir||(ir=!0,t.calledRun=!0,!K&&(m0(),o(t),t.onRuntimeInitialized?.(),h0()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),n()},1)):n()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Rn(),r=a,r})}})(),ri=mo;var Dr=class{constructor(e,r,t,o,s){this.modelMmPerWorldM=t;this.minFeatureSize=o;this.wiggle=s;let a=o/t,c=s/t;this.gussets=e.createGussets(a*1e3),this.bridgeWidth=2*r.bridgeHalfWidth,this.roadwayWidth=2*$.DECK_HALF_WIDTH;let m=.75*a,p=m+a,y=r.designConditions.deckThickness,v=a,C=.6,M=.5,_=z.PANEL_SIZE_WORLD,R=z.PANEL_SIZE_WORLD,I=.3,O=.05,B=4,H=.5,w=.2/t,L=Math.sqrt(3)*C,N=Math.max(C,p+v),j=Math.max(C,M),k=r.designConditions,Q=k.isArch?k.underClearance:0,K=-(L+Q),Se=K-B;if(k.isPier){let _0=k.prescribedJoints[k.pierJointIndex].y;Se=Math.min(Se,_0-B),this.pierTopZ=_0-L,this.pierHeight=_0-L-Se}else this.pierTopZ=this.pierHeight=0;this.abutmentShelfZ=K;let V=-_-N,Z=N,de=-j,tt=j,Te=-N,re=-C,Rt=C,Me=-m,Fe=m,wt=-p,Nt=p,d0=-p-v,H0=p+v,L0=R-p-v-c,m0=R-p-c,h0=-$.ANCHOR_OFFSET,Ot=h0-N,F0=Math.max(h0+N,V),p0=-r.bridgeHalfWidth,Oe=r.bridgeHalfWidth,f0=p0-I,yt=Oe+I,Pr=1.5*a,kt=a,Ve=Se,Je=H+m-kt+y,rt=K,pe=-m,Bt=m-kt,Ue=m,ze=H+m-kt-Pr,Ht=H+m-kt,J0=rt-N,Rr=[0,0],Ke=[wt,Je],wr=[Te,Je],b0=[Te,Ht],Ee=[d0,Ht],En=[d0,ze],nt=[wt,ze],g0=[wt,Bt],Lt=[Me,Bt],Ft=[Me,Ue],Jt=[Fe,Ue],v0=[Fe,Bt],it=[Nt,Bt],Wt=[Nt,ze],ot=[H0,ze],Xe=[H0,Ht],We=[L0,Ht],St=[L0,ze],y0=[m0,ze],Ze=[m0,Je],qe=[Me,pe],Nr=[Fe,pe],je=[Nt,Je],Or=[0,Ue],W0=[Me,0],ue=[0,pe],st=[Fe,0],X=[0,Ue+c],kr=[Me-c,0],_e=[0,pe-c],Ie=[Fe+c,0],Br=[-C,pe],Hr=[C,pe],S0=[-C,pe+w],C0=[Me-w,pe+w],j0=[Fe+w,pe+w],Lr=[C,pe+w],G0=[Me+w,pe],$0=[Fe-w,pe],V0=[re,-L],Fr=[Rt,-L],U0=[Te,Je],Ct=[V,Je],jt=[V,Ve],at=[Z,Ve],z0=[Z,rt],K0=[Te,rt],Tt=[F0,rt],Jr=[Ot,rt],Wr=[Ot,J0],Gt=[F0,Je],jr=[0,f0],Et=[tt,p0],Gr=[tt,Oe],$t=[0,yt],ct=[de,Oe],X0=[de,p0];this.abutment=[z0,K0,U0,Ct,jt,at],this.abutmentWithAnchorage=[z0,K0,U0,Gt,Tt,Jr,Wr,jt,at],this.abutmentXOffset=-V,this.abutmentWithAnchorageXOffset=-Ot,this.anchorageX=h0,this.abutmentWidth=Z-V,this.abutmentWithAnchorageWidth=Z-Ot,this.deckBeamHalfWidth=p,this.deckPanelYOffset=.5*this.roadwayWidth,this.deckPanelZOffset=Je,this.deckPanelZipperX=m0,this.endDeckPanel=[vt(Ke,-O),Le(Ke,O),wr,b0,Ee,En,nt,g0,Lt,Ft,Jt,v0,it,Wt,ot,Xe,We,St,y0,vt(Ze,-O),Le(Ze,-O),Le(je,O),vt(je,-O),Le(je,-O),Le(Ke,O)],this.endDeckPanelXOffset=N,this.pier=[jr,Et,Gr,$t,ct,X0],this.pierTaperX=2,this.pierXOffset=-this.pierTaperX*de,this.pierWidth=Z-V,this.pillow=[V0,Fr,Rr],this.pillowHeight=L,this.pillowXOffset=C,this.pin=[Or,W0,ue,st],this.pinHole=[Ie,_e,kr,X],this.pinHoleSize=2*(m+c),this.pinMember=[qe,Nr,Jt,Ft],this.pinMemberXOffset=m,this.pinMemberYOffset=.5*this.bridgeWidth,this.pinMemberFoot=[[Br,G0,C0,S0],[$0,Hr,Lr,j0]],this.standardDeckPanel=[vt(Ke,-O),g0,Lt,Ft,Jt,v0,it,Wt,ot,Xe,We,St,y0,vt(Ze,-O),Le(Ze,-O),Le(je,O),vt(je,-O),Le(je,-O),Le(Ke,O)],this.standardDeckPanelXOffset=p,this.centerDeckBeam=[Le(Ke,O),vt(Ke,-O),g0,Lt,Ft,Jt,v0,it,vt(je,-O),Le(je,-O)],this.centerDeckBeamXOffset=p;let Ge=4*a,Z0=a,Vt=a,Ut=-1.5*Ge-Vt,zt=-.5*Ge-Vt,ut=-.5*Ge,Kt=.5*Ge,Xt=.5*Ge+Vt,Zt=1.5*Ge+Vt,qt=-2*Z0,fe=-Z0,q0=[Ut,fe],$r=[zt,fe],lt=[ut,fe],Yt=[Kt,fe],Vr=[Xt,fe],Y0=[Zt,fe],xe=[Ut,0],Ur=[ut,0],Q0=[Kt,0],er=[Zt,0],Qt=[zt,qt],zr=[Xt,qt];this.zipper=[$r,Qt,zr,Vr,Y0,er,Q0,Yt,lt,Ur,xe,q0];let T0=[Ut-c,fe-c],tr=[zt-c,fe-c],rr=[ut+c,fe+c],Kr=[Kt-c,fe+c],E0=[Xt+c,fe-c],Xr=[Zt+c,fe-c],nr=[Ut-c,1],Zr=[ut+c,1],x0=[Kt-c,1],ke=[Zt+c,1],D0=[zt-c,qt-2*c],qr=[Xt+c,qt-2*c];this.zipperHole=[tr,D0,qr,E0,Xr,ke,x0,Kr,rr,Zr,nr,T0],this.zipperThickness=a;let A0=.5*a,oe=8*a,e0=-A0,xt=A0,t0=-oe,r0=oe,n0=[e0,t0],Yr=[xt,t0],M0=[xt,r0],Qr=[e0,r0];this.tab=[n0,Yr,M0,Qr];let en=[e0-c,t0-c],tn=[xt+c,t0-c],rn=[xt+c,r0+c],nn=[e0-c,r0+c];this.tabHole=[en,tn,rn,nn],this.tabThickness=2*A0}bridgeWidth;roadwayWidth;abutment;abutmentShelfZ;abutmentWidth;abutmentWithAnchorage;abutmentWithAnchorageWidth;abutmentWithAnchorageXOffset;abutmentXOffset;anchorageX;centerDeckBeam;centerDeckBeamXOffset;deckBeamHalfWidth;deckPanelYOffset;deckPanelZipperX;deckPanelZOffset;endDeckPanel;endDeckPanelXOffset;gussets;pier;pierHeight;pierTaperX;pierTopZ;pierWidth;pierXOffset;pillow;pillowHeight;pillowXOffset;pin;pinHole;pinHoleSize;pinMember;pinMemberFoot;pinMemberXOffset;pinMemberYOffset;standardDeckPanel;standardDeckPanelXOffset;tab;tabHole;tabThickness;zipper;zipperHole;zipperThickness};function Le(u,e){return[e+u[0],u[1]]}function vt(u,e){return[u[0],e+u[1]]}var Ar=class u{pts=[];orderedPts=new et;add(e,r){this.addPoint(new Y(e,r))}addPoint(e){this.pts.push(e)}clear(){this.pts.length=0,this.orderedPts.clear()}createHull(e=[]){if(this.orderedPts.clear(),e.length=0,this.pts.length<=2)return e.push(...this.pts),e;this.pts.sort((c,m)=>c.x-m.x||c.y-m.y);let r=this.pts[0],t=this.pts[this.pts.length-1],o=t.x-r.x,s=t.y-r.y;for(let c of this.pts){if(c===t){this.orderedPts.pushLeft(c);continue}let m=c.x-r.x,p=c.y-r.y;o*p-s*m>0?this.orderedPts.pushLeft(c):this.orderedPts.pushRight(c)}for(let c of this.orderedPts)a(c),e.push(c);return a(this.orderedPts.peekLeft()),e;function a(c){for(;e.length>=2;){let m=e[e.length-1],p=e[e.length-2];if((m.x-p.x)*(c.y-m.y)-(m.y-p.y)*(c.x-m.x)>0)break;e.pop()}}}static \u0275fac=function(r){return new(r||u)};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};function ni(u,e,r){let t=e.getOtherJoint(u),o=t.x-u.x,s=t.y-u.y,a=5e-4*Math.max(r,e.materialSizeMm)+$.GUSSET_THICKNESS,c=a/Math.hypot(o,s),m=o*c,p=s*c,y=-p,v=m,C=-m,M=-p,_=m,R=p,I=o-m,O=s-p;return{x0:C,y0:M,x1:_,y1:R,x2:I,y2:O,ux:m,uy:p,upx:y,upy:v,halfSizeM:a}}var Mr=class u{constructor(e,r){this.bridgeService=e;this.convexHullService=r}createGussets(e=0){let r=this.bridgeService.bridge.joints.map(t=>({joint:t,memberGeometries:[],hull:[],halfDepthM:0}));for(let t of this.bridgeService.bridge.members)r[t.a.index].memberGeometries.push(ni(t.a,t,e)),r[t.b.index].memberGeometries.push(ni(t.b,t,e));for(let t of r){this.convexHullService.clear();for(let o of t.memberGeometries){o.halfSizeM>t.halfDepthM&&(t.halfDepthM=o.halfSizeM),this.convexHullService.add(o.x0+o.upx,o.y0+o.upy),this.convexHullService.add(o.x0-o.upx,o.y0-o.upy),this.convexHullService.add(o.x1+o.upx,o.y1+o.upy),this.convexHullService.add(o.x1-o.upx,o.y1-o.upy);for(let s of t.memberGeometries){if(o===s)continue;let a=he.getSegmentsIntersection(o.x0+o.upx,o.y0+o.upy,o.x2+o.upx,o.y2+o.upy,s.x0-s.upx,s.y0-s.upy,s.x2-s.upx,s.y2-s.upy);a&&(this.convexHullService.addPoint(a),this.convexHullService.add(a.x-o.upx*2,a.y-o.upy*2),this.convexHullService.add(a.x+s.upx*2,a.y+s.upy*2))}}if(e>0){let o=e*.001;this.convexHullService.add(0,o),this.convexHullService.add(0,-o),this.convexHullService.add(o,0),this.convexHullService.add(-o,0)}this.convexHullService.createHull(t.hull),delete t.memberGeometries}return this.convexHullService.clear(),r}static \u0275fac=function(r){return new(r||u)(G(ye),G(Ar))};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};var u0=.001,Ir=class u{constructor(e,r){this.bridgeService=e;this.gussetsService=r}_manifoldClass;initialize(){return Ce(this,null,function*(){if(this._manifoldClass)return;let e=yield ri({locateFile:()=>"wasm/manifold.wasm"});e.setup(),ti(e),this._manifoldClass=e.Manifold})}getGeometry(e,r,t){return new Dr(this.gussetsService,this.bridgeService,e,r,t)}get isPier(){return this.bridgeService.designConditions.isPier}get isLeftAnchorage(){return this.bridgeService.designConditions.isLeftAnchorage}get isRightAnchorage(){return this.bridgeService.designConditions.isRightAnchorage}get deckPanelCount(){return this.bridgeService.designConditions.panelCount}*crossMemberJointsIterator(){for(let e of this.bridgeService.bridge.joints)ye.isJointClearOfRoadway(e)&&(yield e)}*deckPanelJointsIterator(){let e=this.bridgeService.designConditions.loadedJointCount,r=this.bridgeService.bridge.joints;for(let t=0;t<e;++t)yield r[t]}buildTruss(e,r){let t,o=p=>{t=t?t.add(p):p},s=e.modelMmPerWorldM,a=e.pinHoleSize*s,c=.5*a;for(let p of this.bridgeService.bridge.members){let y=Math.max(s*p.materialSizeMm*.001,e.minFeatureSize+2*e.wiggle),v=y*.5,[C,M]=_r(r,p.a.x,p.a.y),[_,R]=_r(r,p.b.x,p.b.y),I=_-C,O=R-M,B=Math.hypot(I,O);I/=B,O/=B;let H=C+c*I+v*O,w=M+c*O-v*I,L=[I,O,0,0,-O,I,0,0,0,0,1,0,H,w,0,1];o(this.manifoldClass.cube([B-a,y,y]).transform(L))}let m=e.pinHole.map(p=>[s*p[0],s*p[1]]);for(let p of this.gussetsService.createGussets(e.pinHoleSize*1100)){if(p.halfDepthM===0)continue;let y=p.hull.map(_=>_r(r,_.x,_.y,0));fo(r)&&y.reverse();let[v,C]=_r(r,p.joint.x,p.joint.y),M=ye.isJointClearOfRoadway(p.joint)?[y,m]:[y];o(this.manifoldClass.extrude(M,s*p.halfDepthM*2).translate(v,C,0))}return t}buildAbutment(e,r){let o=this.extrudeCentered(e.tab,2*e.tabThickness).translate(e.abutmentXOffset,0,e.abutmentShelfZ),s=e.bridgeWidth;return this.extrudeCentered(e.abutment,s).translate(e.abutmentXOffset,0,0).rotate(90,0,0).add(o).scale(e.modelMmPerWorldM).translate(r,0,0)}buildAbutmentWithAnchorage(e,r){let t=this.extrudeCentered(e.tab,2*e.tabThickness),o=t.translate(e.abutmentWithAnchorageXOffset,0,e.abutmentShelfZ),s=t.translate(e.anchorageX+e.abutmentWithAnchorageXOffset,0,e.abutmentShelfZ),a=e.bridgeWidth;return this.extrudeCentered(e.abutmentWithAnchorage,a).translate(e.abutmentWithAnchorageXOffset,0,0).rotate(90,0,0).add(o).add(s).scale(e.modelMmPerWorldM).translate(r,0,0)}buildPier(e,r){let t=this.extrudeCentered(e.tab,2*e.tabThickness).translate(e.pierXOffset,0,e.pierTopZ);return this.manifoldClass.extrude(e.pier,e.pierHeight,void 0,void 0,[e.pierTaperX,1.2]).rotate(180,0,0).translate(e.pierXOffset,0,e.pierTopZ).add(t).scale(e.modelMmPerWorldM).translate(r,0,0)}buildCrossMember(e,r,t,o){return this.isPillowJoint(r)?this.buildPinMember(e,!0).add(this.buildPillow(e)).translate(e.pillowXOffset,e.pinMemberYOffset,e.pinMemberXOffset).scale(e.modelMmPerWorldM).translate(t,o,0):this.buildPinMember(e).translate(e.pinMemberXOffset,e.pinMemberYOffset,e.pinMemberXOffset).scale(e.modelMmPerWorldM).translate(t,o,0)}buildDeckPanel(e,r,t,o){let s=r.index,a=this.bridgeService.designConditions.panelCount;return(s===0||s===a?this.buildEndPanel(e):s===a>>>1?this.buildCenterBeam(e):this.buildStandardPanel(e)).scale(e.modelMmPerWorldM).translate(t,o,0)}buildStandardPanel(e){let r=this.manifoldClass.extrude(e.zipper,e.zipperThickness).rotate(0,90,0),t=this.manifoldClass.extrude(e.zipperHole,e.zipperThickness).rotate(0,90,0),o=e.deckPanelZOffset-u0;return this.extrudeCentered(e.standardDeckPanel,e.roadwayWidth).add(r.translate(e.deckPanelZipperX,o,0)).subtract(t.translate(-e.deckBeamHalfWidth-u0,o)).rotate(-90,0,0).translate(e.standardDeckPanelXOffset,e.deckPanelYOffset,e.deckPanelZOffset)}buildCenterBeam(e){let r=this.manifoldClass.extrude(e.zipperHole,e.zipperThickness).rotate(0,90,0),t=e.deckPanelZOffset+u0;return this.extrudeCentered(e.centerDeckBeam,e.roadwayWidth).subtract(r.translate(-e.deckBeamHalfWidth-u0,t)).subtract(r.translate(e.deckBeamHalfWidth-e.zipperThickness+u0,t)).rotate(-90,0,0).translate(e.centerDeckBeamXOffset,e.deckPanelYOffset,e.deckPanelZOffset)}buildEndPanel(e){let r=this.manifoldClass.extrude(e.zipper,e.zipperThickness).rotate(0,90,0),t=e.deckPanelZOffset+u0;return this.extrudeCentered(e.endDeckPanel,e.roadwayWidth).add(r.translate(e.deckPanelZipperX,t,0)).rotate(-90,0,0).translate(e.endDeckPanelXOffset,e.deckPanelYOffset,e.deckPanelZOffset)}buildPinMember(e,r){let t=this.extrudeCentered(e.pin,e.bridgeWidth),o=this.extrudeCentered(e.pinMember,e.roadwayWidth);return r&&(o=o.add(this.extrudeCentered(e.pinMemberFoot,e.roadwayWidth))),o.add(t).rotate(90,0,0)}buildPillow(e){let r=this.extrudeCentered(e.pillow,e.roadwayWidth),t=this.extrudeCentered(e.tabHole,2*e.tabThickness).rotate(-90,0,0).translate(0,-e.pillowHeight,0);return r.subtract(t).rotate(-90,0,0)}isPillowJoint(e){let r=this.bridgeService.designConditions;return r.abutmentJointIndices.findIndex(t=>e.index===t)>=0||e.index===r.leftAnchorageJointIndex||e.index===r.rightAnchorageJointIndex}extrudeCentered(e,r){return this.manifoldClass.extrude(e,r,void 0,void 0,void 0,!0)}get manifoldClass(){return W.assertNotUndefined(this._manifoldClass)}static \u0275fac=function(r){return new(r||u)(G(ye),G(Mr))};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};function fo(u){return u[0]*u[3]<u[1]*u[2]}function _r(u,e,r,t=1){return[u[0]*e+u[2]*r+u[4]*t,u[1]*e+u[3]*r+u[5]*t]}var Cn=class u{constructor(e=0,r="<none>",t=0,o="<none>",s=0,a="<none>"){this.printWidth=e;this.maxWidthPart=r;this.printDepth=t;this.maxDepthPart=o;this.printHeight=s;this.maxHeightPart=a}mergeManifold(e,r){let t=e.boundingBox();this.mergeWidth(t.max[0]-t.min[0],r),this.mergeDepth(t.max[1]-t.min[1],r),this.mergeHeight(t.max[2]-t.min[2],r)}applyScale(e){return new u(this.printWidth*e,this.maxWidthPart,this.printDepth*e,this.maxDepthPart,this.printHeight*e,this.maxHeightPart)}mergeWidth(e,r){e>this.printWidth&&(this.printWidth=e,this.maxWidthPart=r)}mergeDepth(e,r){e>this.printDepth&&(this.printDepth=e,this.maxDepthPart=r)}mergeHeight(e,r){e>this.printHeight&&(this.printHeight=e,this.maxHeightPart=r)}},B0=class{normalIndices={};baseVertexIndex=0;nextNormalIndex=0},ii=class u{constructor(e){this.print3dModelService=e}getUnscaledModelInfo(){return Ce(this,null,function*(){yield this.print3dModelService.initialize();let e=1,r=this.print3dModelService.getGeometry(e,.1,0),t=[e,0,0,e,0,0],o=$e(this.print3dModelService.buildTruss(r,t),"unit truss"),s=new Cn;s.mergeManifold(o,"truss");let a=$e(this.print3dModelService.buildAbutment(r,0),"unit abutment");if(s.mergeManifold(a,"abutment"),this.print3dModelService.isPier){let c=$e(this.print3dModelService.buildPier(r,0),"unit pier");s.mergeManifold(c,"pier")}return Sn(),Promise.resolve(s)})}emit3dPrint(e,r,t,o){return Ce(this,null,function*(){yield this.print3dModelService.initialize();let s=this.print3dModelService.getGeometry(e,r,t),a=[],c=new B0,m=[e,0,0,e,0,0],p=$e(this.print3dModelService.buildTruss(s,m),"front truss");this.saveMeshAndFree(p,"FrontTruss",a,c);let y=p.boundingBox(),v=y.max[0]-y.min[0],C=y.max[1]-y.min[1],M=v>C?[e,0,0,-e,0,2*y.min[1]-r]:[e,0,0,-e,v+r,y.min[1]],_=$e(this.print3dModelService.buildTruss(s,M),"rear truss");this.saveMeshAndFree(_,"RearTruss",a,c),this.downloadObjFileText(a,o,"trusses");let R=.5,I=0,O=V=>{let Z=V.boundingBox();return I+=Z.max[0]-Z.min[0]+R},B=[],H=new B0,w=$e(this.print3dModelService.isLeftAnchorage?this.print3dModelService.buildAbutmentWithAnchorage(s,I):this.print3dModelService.buildAbutment(s,I),"left abutment");O(w),this.saveMeshAndFree(w,"LeftAbutment",B,H);let L=$e(this.print3dModelService.isRightAnchorage?this.print3dModelService.buildAbutmentWithAnchorage(s,I):this.print3dModelService.buildAbutment(s,I),"right abutment");if(O(L),this.saveMeshAndFree(L,"RightAbutment",B,H),this.print3dModelService.isPier){let V=$e(this.print3dModelService.buildPier(s,I),"pier");O(V),this.saveMeshAndFree(V,"Pier",B,H)}this.downloadObjFileText(B,o,"abutments");let N=[],j=new B0;I=0;let k=0,Q=this.print3dModelService.crossMemberJointsIterator();for(let V=Q.next();!V.done;V=Q.next()){let Z=V.value,de=$e(this.print3dModelService.buildCrossMember(s,V.value,I,k),`cross-member ${Z.number}`);O(de),this.saveMeshAndFree(de,`CrossMember_${Z.number}`,N,j)}I=0,k+=s.modelMmPerWorldM*s.bridgeWidth+R;let K=this.print3dModelService.deckPanelJointsIterator(),Se=this.print3dModelService.deckPanelCount>>>1;for(let V=K.next();!V.done;V=K.next()){let Z=V.value,de=$e(this.print3dModelService.buildDeckPanel(s,Z,I,k),`deck panel ${Z.number}`);Z.index===Se?(I=0,k+=s.modelMmPerWorldM*s.roadwayWidth+R):O(de),this.saveMeshAndFree(de,`DeckPanel_${Z.number}`,N,j)}this.downloadObjFileText(N,o,"cross-members")})}get abutmentsFileContents(){let e=["abutments"];switch(this.print3dModelService.isPier&&e.push("pier"),+this.print3dModelService.isLeftAnchorage+ +this.print3dModelService.isRightAnchorage){case 0:break;case 1:e.push("anchorage");break;case 2:e.push("anchorages");break}return e.join(", ")}get crossMembersFileContents(){return"cross-members, deck panels"}get trussesFileContents(){return"trusses"}saveMeshAndFree(e,r,t,o){t.push(...this.getObjText(o,r,e.getMesh())),Sn()}getObjText(e,r,t){let o=t.vertProperties,s=[`o ${r}
`];for(let c=0;c<o.length;c+=3)s.push(`v ${l0(o[c])} ${l0(o[c+1])} ${l0(o[c+2])}
`);let a=t.triVerts;for(let c=0;c<a.length;c+=3){let m=a[c],p=a[c+1],y=a[c+2],v=vo(o,m,p,y),C=go(v),M=e.normalIndices[C];M===void 0&&(s.push(`vn ${C}
`),e.normalIndices[C]=M=e.nextNormalIndex++);let _=1+M,R=1+e.baseVertexIndex;s.push(`f ${R+m}//${_} ${R+p}//${_} ${R+y}//${_}
`)}return e.baseVertexIndex+=o.length/3,s}downloadObjFileText(e,r,t){let o=new Blob(e,{type:"model/obj"}),s=window.document.createElement("a"),a=window.URL.createObjectURL(o);s.href=a,r.length>0&&t.length>0&&(r+="-"),r+=t,r+=".obj",s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(s.href)}static \u0275fac=function(r){return new(r||u)(G(Ir))};static \u0275prov=U({token:u,factory:u.\u0275fac,providedIn:"root"})};function go(u){return`${l0(u[0])} ${l0(u[1])} ${l0(u[2])}`}function l0(u){return u.toPrecision(6).replace(/\.0*$|(\.\d*[1-9])0*$/,"$1")}function vo(u,e,r,t){let o=u.slice(e*3),s=u.slice(r*3),a=u.slice(t*3),c=0,m=0,p=0;c+=(o[1]-s[1])*(o[2]+s[2]),m+=(o[2]-s[2])*(o[0]+s[0]),p+=(o[0]-s[0])*(o[1]+s[1]),c+=(s[1]-a[1])*(s[2]+a[2]),m+=(s[2]-a[2])*(s[0]+a[0]),p+=(s[0]-a[0])*(s[1]+a[1]),c+=(a[1]-o[1])*(a[2]+o[2]),m+=(a[2]-o[2])*(a[0]+o[0]),p+=(a[0]-o[0])*(a[1]+o[1]);let y=Math.hypot(c,m,p);return[c/y,m/y,p/y]}var Tn=class extends Error{constructor(r,t){super(t);this.part=r;this.name="ManifoldError"}get summary(){return`${this.part}: ${this.message}`}};function $e(u,e){if(u.isEmpty())throw new Tn(e,u.status());return u}export{Ne as a,Ln as b,Y as c,Fn as d,ht as e,he as f,Jn as g,le as h,$ as i,z as j,we as k,At as l,Re as m,ge as n,_t as o,ne as p,bt as q,It as r,Pt as s,gt as t,c0 as u,Sr as v,kn as w,dt as x,Zn as y,bn as z,ye as A,Tr as B,s0 as C,mt as D,cr as E,ur as F,lr as G,dr as H,mr as I,hr as J,pr as K,k0 as L,ei as M,G1 as N,Ar as O,Mr as P,Cn as Q,ii as R,Tn as S};
