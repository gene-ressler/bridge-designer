import{Y as V,a as Un,aa as G,c as zi,e as Ce,sc as it,tc as zn,xc as j}from"./chunk-SYEC3VQA.js";var Kn=zi((vo,Ki)=>{Ki.exports={name:"bridge-designer",version:"0.0.15",scripts:{ng:"ng",start:"ng serve",prebuild:"npm --no-git-tag-version version patch",build:"ng build",watch:"ng build --watch --configuration development",test:"ng test"},private:!0,dependencies:{"@angular/animations":"^20.1.6","@angular/common":"^20.1.6","@angular/compiler":"^20.1.6","@angular/core":"^20.1.6","@angular/fire":"^20.0.1","@angular/forms":"^20.1.6","@angular/platform-browser":"^20.1.6","@angular/platform-browser-dynamic":"^20.1.6","@angular/router":"^20.1.6","@orama/orama":"^3.1.4",firebase:"^11.2.0","gl-matrix":"^3.4.3","jqwidgets-ng":"^24.0.0",jspdf:"^3.0.1","jspdf-autotable":"^5.0.2","manifold-3d":"^3.3.2",rxjs:"~7.8.0",tslib:"^2.3.0","zone.js":"~0.15.0"},devDependencies:{"@angular/build":"^20.1.5","@angular/cli":"^20.1.5","@angular/compiler-cli":"^20.1.6","@types/jasmine":"~5.1.0","@types/jquery":"^3.5.32","@types/node":"^22.15.29","jasmine-core":"^5.8.0",karma:"^6.4.4","karma-chrome-launcher":"^3.2.0","karma-coverage":"~2.2.0","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"~2.1.0",prettier:"^3.4.2",purgecss:"^7.0.2",typescript:"~5.8.3"},prettier:{arrowParens:"avoid",printWidth:120,singleQuote:!0,singleAttributePerLine:!0,proseWrap:"always"}}});var An={version:Kn().version,versionMod:""};var Mn=class u{constructor(e,r,t,o=""){this.major=e;this.minor=r;this.build=t;this.mod=o}static fromPackageVersion(e,r){let[t,o,s]=e.split(".").map(a=>parseInt(a));return new u(t,o,s,r)}toString(){return`${this.major}.${this.minor}.${String(this.build).padStart(4,"0")}${this.mod}`}},Xn=Mn.fromPackageVersion(An.version,An.versionMod);var Zn="bridge-designer",gt=class u{constructor(e){this.eventBrokerService=e;new URLSearchParams(window.location.search).get("reset")!==null&&localStorage.clear(),e.sessionStateEnableToggle.subscribe(t=>{this.isEnabled=t.data!==!1}),this.register(u.SESSION_KEY,()=>this.dehydrate(),t=>this.hydrate(t),!0)}static LOCAL_STORAGE_KEY=`${Zn}.v${Xn}`;static SESSION_KEY="session.service";stateAccumulator;isEnabled=!0;saveState(){this.stateAccumulator={},this.isEnabled&&this.eventBrokerService.sessionStateSaveRequest.next({origin:16,data:void 0}),this.eventBrokerService.sessionStateSaveEssentialRequest.next({origin:16,data:void 0}),this.clearSavedState(),localStorage.setItem(u.LOCAL_STORAGE_KEY,JSON.stringify(this.stateAccumulator)),sessionStorage.setItem(u.LOCAL_STORAGE_KEY,Date.now().toString()),this.stateAccumulator=void 0}get isCurrentStateReloaded(){return this.loadAccumulatorFromStorage(),!!(this.stateAccumulator&&sessionStorage.getItem(u.LOCAL_STORAGE_KEY))}get hasRestoredState(){return this.loadAccumulatorFromStorage(),this.stateAccumulator!==void 0&&this.isEnabled}getSavedState(e){return this.loadAccumulatorFromStorage(),this.stateAccumulator&&this.stateAccumulator[e]}recordState(e,r){this.stateAccumulator&&(this.stateAccumulator[e]=r)}notifyRestoreComplete(){this.loadAccumulatorFromStorage(),this.eventBrokerService.sessionStateRestoreCompletion.next({origin:16,data:void 0})}restoreSessionManagementEnabled(){this.loadAccumulatorFromStorage(),this.eventBrokerService.sessionStateEnableToggle.next({origin:16,data:this.isEnabled})}register(e,r,t,o=!1){if(!e)return;(o?this.eventBrokerService.sessionStateSaveEssentialRequest:this.eventBrokerService.sessionStateSaveRequest).subscribe(c=>this.recordState(e,r()));let a=this.getSavedState(e);a&&t(a)}loadAccumulatorFromStorage(){if(this.stateAccumulator)return;let e=localStorage.getItem(u.LOCAL_STORAGE_KEY);if(e)try{this.stateAccumulator=JSON.parse(e)}catch{this.stateAccumulator=void 0}}clearSavedState(){for(let e=0;e<localStorage.length;++e){let r=localStorage.key(e);r&&r.startsWith(Zn)&&localStorage.removeItem(r)}}dehydrate(){return{isEnabled:this.isEnabled}}hydrate(e){this.isEnabled=e.isEnabled}static \u0275fac=function(r){return new(r||u)(G(it))};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};var ot=class{right=new or;left=new or;pushRight(e){this.right.push(e,this.left)}pushLeft(e){this.left.push(e,this.right)}popRight(){return this.right.pop(this.left)}popLeft(){return this.left.pop(this.right)}peekRight(){return this.right.peekLast(this.left)}peekLeft(){return this.left.peekLast(this.right)}clear(){this.left.data.length=this.right.data.length=this.left.base=this.right.base=0}get length(){return this.left.length+this.right.length}get fullness(){let e=this.left.data.length+this.right.data.length;return e>0?(this.left.length+this.right.length)/e:1}copyTo(e,r=this.length){e.length=0;for(let t of this){if(r--===0)break;e.push(t)}return e}[Symbol.iterator](){let e=this.left,r=this.right,t=this.left.data.length>this.left.base?-this.left.data.length:this.right.base;return{next(){if(t<0){let o=e.data[-1-t];return t=-1-t===e.base?r.base:t+1,{value:o,done:!1}}return t<r.data.length?{value:r.data[t++],done:!1}:{value:void 0,done:!0}}}}map(e){let r=[];for(let t of this)r.push(e(t));return r}},or=class{constructor(e=0,r=[]){this.base=e;this.data=r}get length(){return this.data.length-this.base}push(e,r){r.base>0?r.data[--r.base]=e:this.data.push(e)}pop(e){if(this.length>0)return this.data.pop();if(e.length>0)return e.popBase()}peekLast(e){return this.data.length>0?this.data[this.data.length-1]:e.data[e.base]}popBase(){let e=this.data[this.base++];return this.base>this.data.length/2&&(this.data.copyWithin(0,this.base,this.data.length),this.data.length-=this.base,this.base=0),e}};var be=class{constructor(e){this._description=e}get description(){return this._description}set description(e){this._description=e}do(){}undo(){}},d0=class extends be{effectsMask=0;dehydrate(e){return{tag:"placeholder"}}},re=class u{static merge(e,r,t){let o=e.length-1;e.length+=r.length;let s=e.length-1;for(let a=r.length-1;a>=0;--a){for(;s>r[a].index;)u.adjustSelected(t,o,s),e[o].index=s,e[s--]=e[o--];t.delete(s),e[s--]=r[a]}}static remove(e,r,t){let o=0,s=0;for(let a=0;a<r.length;a++){for(;o<r[a].index;)u.adjustSelected(t,o,s),e[o].index=s,e[s++]=e[o++];t.delete(o),r[a]=e[o++]}for(;o<e.length;)u.adjustSelected(t,o,s),e[o].index=s,e[s++]=e[o++];e.length-=r.length}static adjustSelected(e,r,t){t!==r&&e.has(r)&&(e.delete(r),e.add(t))}static exchange(e,r){r.swapContents(e[r.index])}static exchangeAll(e,r){r.forEach(t=>this.exchange(e,t))}};var yt=class u{constructor(e){this.eventBrokerService=e;e.undoRequest.subscribe(r=>this.undo(r.data)),e.redoRequest.subscribe(r=>this.redo(r.data)),e.loadBridgeRequest.subscribe(()=>this.clear())}static NO_EDIT_COMMAND=new d0("[no edit command]");static MAX_DONE_COUNT=1e3;done=new ot;undone=new ot;do(e){for(e.do(),this.done.pushLeft(e);this.done.length>u.MAX_DONE_COUNT;)this.done.popRight();this.undone.clear(),this.emitCommandCompletion("do",e.effectsMask)}get stateToken(){return this.done.peekLeft()||u.NO_EDIT_COMMAND}findStateTokenIndex(e){let r=this.done.copyTo([]),t=r.indexOf(e);if(t>=0)return t;this.undone.copyTo(r);let o=r.indexOf(e);if(o>=0)return-1-o}getStateToken(e){return e>=0?this.done.copyTo([])[e]:this.undone.copyTo([])[-1-e]}undo(e=1){let r=0;for(;e-- >0;){let t=this.done.popLeft();if(!t)return;t.undo(),r|=t.effectsMask,this.undone.pushLeft(t)}this.emitCommandCompletion("undo",r)}redo(e=1){let r=0;for(;e-- >0;){let t=this.undone.popLeft();if(!t)return;t.do(),r|=t.effectsMask,this.done.pushLeft(t)}this.emitCommandCompletion("redo",r)}emitCommandCompletion(e,r){this.eventBrokerService.editCommandCompletion.next({origin:16,data:{kind:e,effectsMask:r,doneCount:this.done.length,undoneCount:this.undone.length}})}clear(){this.done.clear(),this.undone.clear()}static \u0275fac=function(r){return new(r||u)(G(it))};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};var Yn=class{static CONCRETE="rgb(128, 128, 0)";static CARTOON_EARTH="rgb(220, 208, 188)";static EARTH="rgb(128, 64, 64)";static EXCAVATION="rgb(128, 64, 64)";static SKY="rgb(192, 255, 255)";static STEEL="gray";static WATER="blue";static GL_CONCRETE=new Uint8Array([128,128,128,255]);static GL_WATER=new Uint8Array([11,104,158,255]);static GL_SKY=new Uint8Array([135,206,235,255])},sr=class{constructor(e=0,r=0){this.x=e;this.y=r}set(e,r){this.x=e,this.y=r}copyFrom(e){this.x=e.x,this.y=e.y}clone(){return new Z(this.x,this.y)}},Z=class extends sr{toString(){return`Point(${this.x}, ${this.y})`}},Qn=class extends sr{toString(){return`Vector(${this.x}, ${this.y})`}},O0=class extends Z{constructor(r,t,o){super(r,t);this.tag=o}};var vt=class u{constructor(e,r,t,o){this.x0=e;this.y0=r;this.width=t;this.height=o}static createEmpty(){return new u(0,0,0,0)}static fromDiagonal(e,r,t,o){return new u(e,r,t-e,o-r)}static fromDiagonalPoints(e,r){return this.fromDiagonal(e.x,e.y,r.x,r.y)}get diagonalSqr(){return j.sqr(this.width)+j.sqr(this.height)}clone(){return new u(this.x0,this.y0,this.width,this.height)}get x1(){return this.x0+this.width}get y1(){return this.y0+this.height}contains(e,r){return j.inRange(e,this.x0,this.x1)&&j.inRange(r,this.y0,this.y1)}getOutCode(e){let r=0;return e.x<this.x0&&(r|=1),e.x>this.x1&&(r|=2),e.y<this.y0&&(r|=4),e.y>this.y1&&(r|=8),r}touchesLineSegment(e,r){let t=this.getOutCode(e),o=this.getOutCode(r);if(t===0||o===0)return!0;if(t&o)return!1;let a=t|o;if(a===12||a===3)return!0;let c=(r.y-e.y)/(r.x-e.x);return!!(j.inRange((this.x0-e.x)*c+e.y,this.y0,this.y1)||j.inRange((this.x1-e.x)*c+e.y,this.y0,this.y1)||j.inRange((this.y0-e.y)/c+e.x,this.x0,this.x1))}containsPoint(e){return this.contains(e.x,e.y)}copyTo(e){return e.x0=this.x0,e.y0=this.y0,e.width=this.width,e.height=this.height,e}setToExtent(e){if(e.length===0)return this.makeEmpty();let r=e[0].x,t=r,o=e[0].y,s=o;for(let a=1;a<e.length;++a){let c=e[a].x,m=e[a].y;c<r&&(r=c),c>t&&(t=c),m<o&&(o=m),m>s&&(s=m)}return this.setFromDiagonal(r,o,t,s)}setFromDiagonal(e,r,t,o){return this.x0=e,this.y0=r,this.width=t-e,this.height=o-r,this}makeEmpty(){return this.x0=this.y0=this.width=this.height=0,this}makeCanonical(){return this.width<0&&(this.x0+=this.width,this.width=-this.width),this.height<0&&(this.y0+=this.height,this.height=-this.height),this}pad(e,r){return this.makeCanonical(),this.x0-=e,this.width+=e+e,this.y0-=r,this.height+=r+r,this}include(e,r){e<this.x0?(this.width+=this.x0-e,this.x0=e):e>this.x1&&(this.width=e-this.x0),r<this.y0?(this.height+=this.y0-r,this.y0=r):r>this.y1&&(this.height=r-this.y0)}},he=class u{static SMALL=.01;static SMALL_SQUARED=this.SMALL*this.SMALL;static add2D(e,r,t){e.x=r.x+t.x,e.y=r.y+t.y}static subtract2D(e,r,t){e.x=r.x-t.x,e.y=r.y-t.y}static scale2D(e,r){e.x*=r,e.y*=r}static offsetScaled2D(e,r,t,o){e.x=r.x+t.x*o,e.y=r.y+t.y*o}static perpOffsetScaled2D(e,r,t,o){e.x=r.x-t.y*o,e.y=r.y+t.x*o}static dot2D(e,r){return e.x*r.x+e.y*r.y}static cross2D(e,r){return e.x*r.y-e.y*r.x}static length2D(e){return Math.hypot(e.x,e.y)}static areColocated2D(e,r,t=0){return this.distanceSquared2DPoints(e,r)<=t}static distanceSquared2DPoints(e,r){return this.distanceSquared2D(e.x,e.y,r.x,r.y)}static distanceSquared2D(e,r,t,o){let s=e-t,a=r-o;return s*s+a*a}static distance2DPoints(e,r){return Math.hypot(r.x-e.x,r.y-e.y)}static distance2D(e,r,t,o){return Math.hypot(t-e,o-r)}static pointSegmentDistance2DPoints(e,r,t){return this.pointSegmentDistance2D(e.x,e.y,r.x,r.y,t.x,t.y)}static pointSegmentDistance2D(e,r,t,o,s,a){let c=s-t,m=a-o,p=c*c+m*m;if(p<this.SMALL_SQUARED)return this.distance2D(e,r,t,o);let S=e-t,y=r-o;if(S*c+y*m<=0)return Math.hypot(S,y);let C=e-s,_=r-a;return C*c+_*m>=0?Math.hypot(C,_):Math.abs(y*c-S*m)/Math.sqrt(p)}static getPolygonArea(e,r=e.length){let t=0,o=r-1;for(let s=0;s<r;o=s++)t+=e[o].x*e[s].y-e[o].y*e[s].x;return .5*t}static isInNonAxisAlignedRectangle(e,r,t,o,s,a,c,m=0){let p=s-t,S=a-o,y=p*p+S*S;if(m>0){let P=Math.min(Math.sqrt(m*m/y),.5);return this.isInNonAxisAlignedRectangle(e,r,t+P*p,o+P*S,s-P*p,a-P*S,c)}if(y<this.SMALL_SQUARED)return this.distance2D(e,a,t,o)<.5*c;let C=e-t,_=r-o;if(C*p+_*S<=0)return!1;let M=e-s,R=r-a;return M*p+R*S>=0?!1:Math.abs(_*p-C*S)/Math.sqrt(y)<.5*c}static isInNonAxisAlignedRectanglePoints(e,r,t,o,s=0){return this.isInNonAxisAlignedRectangle(e.x,e.y,r.x,r.y,t.x,t.y,o,s)}static getExtent2D(e,r){if(r.length===0)return e.makeEmpty(),e;let t=r[0],o=t.x,s=t.y,a=t.x,c=t.y;for(let m of r)m.x<o&&(o=m.x),m.y<s&&(s=m.y),m.x>a&&(a=m.x),m.y>c&&(c=m.y);return e.setFromDiagonal(o,s,a,c).makeCanonical()}static addToExtent2D(e,r){let t=e.x0,o=e.y0,s=e.x1,a=e.y1;return r.x<t&&(t=r.x),r.y<o&&(o=r.y),r.x>s&&(s=r.x),r.y>a&&(a=r.y),e.setFromDiagonal(t,o,s,a).makeCanonical()}static isPointOnSegment(e,r,t){return!this.areColocated2D(e,r)&&!this.areColocated2D(e,t)&&(r.x<=e.x&&e.x<=t.x||t.x<=e.x&&e.x<=r.x)&&(r.y<=e.y&&e.y<=t.y||t.y<=e.y&&e.y<=r.y)&&Math.abs((e.x-r.x)*(t.y-r.y)-(e.y-r.y)*(t.x-r.x))<u.SMALL_SQUARED}static getSegmentsIntersection(e,r,t,o,s,a,c,m){let p=t-e,S=o-r,y=c-s,C=m-a,_=C*p-y*S;if(_===0)return;let M=e-s,R=r-a,P=y*R-C*M,w=p*R-S*M,H=P/_,L=w/_;if(!(isNaN(H)||isNaN(L)||H<0||H>1||L<0||L>1))return new Z(e+H*p,r+H*S)}static isPointInCanonicalRectangle(e,r,t){return t.x0<=e&&e<=t.x0+t.width&&t.y0<=r&&r<=t.y0+t.height}static fromZRotation(e,r,t){let o=1/Math.hypot(t,r),s=o*t,a=o*r;return e[0]=s,e[1]=a,e[2]=0,e[3]=0,e[4]=-a,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static rotateX(e,r,t,o){let s=1/Math.hypot(o,t),a=s*o,c=s*t,m=r[0],p=r[1],S=r[2],y=r[3],C=r[4],_=r[5],M=r[6],R=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=m*a+C*c,e[1]=p*a+_*c,e[2]=S*a+M*c,e[3]=y*a+R*c,e[4]=C*a-m*c,e[5]=_*a-p*c,e[6]=M*a-S*c,e[7]=R*a-y*c,e}static rotateZ(e,r,t,o){let s=1/Math.hypot(o,t),a=s*o,c=s*t,m=r[0],p=r[1],S=r[2],y=r[3],C=r[4],_=r[5],M=r[6],R=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=m*a+C*c,e[1]=p*a+_*c,e[2]=S*a+M*c,e[3]=y*a+R*c,e[4]=C*a-m*c,e[5]=_*a-p*c,e[6]=M*a-S*c,e[7]=R*a-y*c,e}static rotate(e,r,t,o){let s=1/Math.hypot(o,t),a=s*o,c=s*t,m=r[0],p=r[1],S=r[2],y=r[3],C=r[4],_=r[5],M=r[6],R=r[7],P=r[8];return e[0]=a*m+c*y,e[1]=a*p+c*C,e[2]=a*S+c*_,e[3]=a*y-c*m,e[4]=a*C-c*p,e[5]=a*_-c*S,e[6]=M,e[7]=R,e[8]=P,e}},ei=class u{static ARROW_HALF_WIDTH=3;static ARROW_LENGTH=8;static clearCanvas(e){let r=e.getTransform();e.resetTransform(),e.clearRect(0,0,e.canvas.width-1,e.canvas.height-1),e.setTransform(r)}static computeColor(e,r,t,o=0,s=0){return o=j.clamp(o,0,1),s=j.clamp(s,-1,1),s>0?(e+=o*(255-e)-.25*s*e,r+=o*(255-r)-.25*s*r,t+=o*(255-t)+s*(255-t)):s<0?(e+=o*(255-e)-s*(255-e),t+=o*(255-t)+.25*s*t,r+=o*(255-r)+.25*s*r):(e+=o*(255-e),r+=o*(255-r),t+=o*(255-t)),e=j.clamp(e,0,255)>>>0,r=j.clamp(r,0,255)>>>0,t=j.clamp(t,0,255)>>>0,`rgb(${e}, ${r}, ${t})`}static setTickLineDash(e,r,t){let[o,s]=t,a=o+s,c=o/a,m=r/a,p=Math.ceil(m+c)-1,S=(1-m+p+c)*.5*a,y=a/2;e.lineDashOffset=S+y<s?S+y:S,e.setLineDash(t),e.lineCap="butt"}static getContext(e){return j.assertNotNull(e.nativeElement.getContext("2d"))}static drawArrowhead(e,r,t,o,s,a=u.ARROW_HALF_WIDTH,c=u.ARROW_LENGTH){let m=o-r,p=s-t;if(m===0&&p===0)return;let S=Math.hypot(m,p),y=m/S,C=p/S,_=o-y*c,M=s-C*c,R=-C*a,P=y*a;e.beginPath(),e.moveTo(_+R,M+P),e.lineTo(o,s),e.lineTo(_-R,M-P),e.stroke()}static drawArrow(e,r,t,o,s,a=u.ARROW_HALF_WIDTH,c=u.ARROW_LENGTH){e.beginPath(),e.moveTo(r,t),e.lineTo(o,s),e.stroke(),u.drawArrowhead(e,r,t,o,s,a,c)}static drawDoubleArrow(e,r,t,o,s,a=u.ARROW_HALF_WIDTH,c=u.ARROW_LENGTH){u.drawArrow(e,r,t,o,s,a,c),u.drawArrowhead(e,o,s,r,t,a,c)}static drawRoundRect(e,r,t,o,s,a){let m=-.5*Math.PI,p=Math.PI,S=.5*Math.PI,y=r+o,C=t+s,_=r+a,M=t+a,R=y-a,P=C-a;e.beginPath(),e.arc(_,M,a,p,m),e.lineTo(R,t),e.arc(R,M,a,m,0),e.lineTo(y,P),e.arc(R,P,a,0,S),e.lineTo(y,C),e.arc(_,P,a,S,p),e.closePath()}static clearTextBox(e,r,t,o,s,a=2){let c=e.measureText(r),m=t-c.actualBoundingBoxLeft-a,p=t+c.actualBoundingBoxRight+a,S=o-c.actualBoundingBoxAscent-a,y=o+c.actualBoundingBoxDescent+a,C=p-m,_=y-S;e.clearRect(m,S,C,_),s&&(s.x0=m,s.y0=S,s.width=C,s.height=_)}};var de=class{constructor(e,r,t,o){this.index=e;this.x=r;this.y=t;this.isFixed=o}get number(){return this.index+1}isAt(e){return he.areColocated2D(this,e,he.SMALL_SQUARED)}toString(){return`Joint(${this.index}: ${this.x}, ${this.y})`}swapContents(e){[this.index,e.index]=[e.index,this.index],[this.x,e.x]=[e.x,this.x],[this.y,e.y]=[e.y,this.y],[this.isFixed,e.isFixed]=[e.isFixed,this.isFixed]}};var k0=class{constructor(e,r,t,o,s,a,c){this.index=e;this.name=r;this.shortName=t;this.e=o;this.fy=s;this.density=a;this.cost=c}getCostPerKg(e){return this.cost[e.index]}},St=class u{constructor(e,r,t){this.index=e;this.name=r;this.shortName=t}static WIDTHS=[30,35,40,45,50,55,60,65,70,75,80,90,100,110,120,130,140,150,160,170,180,190,200,220,240,260,280,300,320,340,360,400,500];getNSizes(){return u.WIDTHS.length}toString(){return this.shortName}},Pn=class extends St{constructor(){super(0,"Solid Bar","Bar")}createShapes(){return Array.from({length:St.WIDTHS.length},(e,r)=>{let t=St.WIDTHS[r],o=j.sqr(t)*1e-6,s=j.p4(t)/12*1e-12;return ar.createSolidBar(this,r,`${t}\xD7${t}`,t,o,s)})}},Rn=class extends St{constructor(){super(1,"Hollow Tube","Tube")}createShapes(){return Array.from({length:St.WIDTHS.length},(e,r)=>{let t=St.WIDTHS[r],o=Math.max(Math.trunc(t/20),2),s=(j.sqr(t)-j.sqr(t-2*o))*1e-6,a=(j.p4(t)-j.p4(t-2*o))/12*1e-12;return ar.createHollowTube(this,r,`${t}\xD7${t}\xD7${o}`,t,s,a,o)})}},ar=class u{constructor(e,r,t,o,s,a,c){this.section=e;this.sizeIndex=r;this.name=t;this.width=o;this.area=s;this.moment=a;this.thickness=c;this.inverseRadiusOfGyration=Math.sqrt(s/a)}inverseRadiusOfGyration;static createSolidBar(e,r,t,o,s,a){return new u(e,r,t,o,s,a,o)}static createHollowTube(e,r,t,o,s,a,c){return new u(e,r,t,o,s,a,c)}toString(){return`${this.name}mm ${this.section.name.toLowerCase()}`}},Ae=class u{static CROSS_SECTIONS=[new Pn,new Rn];static MATERIALS=[new k0(0,"Carbon steel","CS",2e8,25e4,7850,[4.3,6.3]),new k0(1,"High-strength low-alloy steel","HSS",2e8,345e3,7850,[5.6,7]),new k0(2,"Quenched & tempered steel","QTS",2e8,485e3,7850,[6,7.7])];static SHAPES=u.CROSS_SECTIONS.map(e=>e.createShapes())},Jt=class u{constructor(e,r,t){this.materialIndex=e;this.sectionIndex=r;this.sizeIndex=t}static EMPTY=new u(-1,-1,-1);toMaterialAndShape(){return this.materialIndex<0||this.sectionIndex<0||this.sizeIndex<0?void 0:{material:Ae.MATERIALS[this.materialIndex],shape:Ae.SHAPES[this.sectionIndex][this.sizeIndex]}}get key(){return`StockId:${this.materialIndex}.${this.sectionIndex}.${String(this.sizeIndex).padStart(2,"0")}`}};var Re=class u{static USEFUL_STOCK=new Jt(0,0,22);static COMPRESSION_RESISTANCE_FACTOR=.9;static TENSION_RESISTANCE_FACTOR=.95;get materials(){return Ae.MATERIALS}get crossSections(){return Ae.CROSS_SECTIONS}getShapes(e){return Ae.SHAPES[e]}getShapeCount(e){return Ae.SHAPES[e].length}getShape(e,r){return Ae.SHAPES[e]?.[r]}static getShapeWithSizeIncrement(e,r){let t=Ae.SHAPES[e.section.index];return t[j.clamp(e.sizeIndex+r,0,t.length-1)]}static mergeStockId(e,r,t){let o=e.materialIndex<0?r.index:e.materialIndex,s=e.sectionIndex<0?t.section.index:e.sectionIndex,a=e.sizeIndex<0?t.sizeIndex:e.sizeIndex;return{material:Ae.MATERIALS[o],shape:Ae.SHAPES[s][a]}}static compressiveStrength(e,r,t){let o=e.fy,s=r.area,a=e.e,c=r.moment,m=t*t*o*s/(9.8696044*a*c);return m<=2.25?u.COMPRESSION_RESISTANCE_FACTOR*Math.pow(.66,m)*o*s:u.COMPRESSION_RESISTANCE_FACTOR*.88*o*s/m}static tensileStrength(e,r){return u.TENSION_RESISTANCE_FACTOR*e.fy*r.area}static getAllowedShapeChangeMask(e){let r=0;return e.sizeIndex>0&&(r|=1),e.sizeIndex<Ae.SHAPES[e.section.index].length-1&&(r|=2),r}static \u0275fac=function(r){return new(r||u)};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};var fe=class u{constructor(e,r,t,o,s,a=NaN,c=NaN,m=NaN,p=NaN){this.index=e;this.a=r;this.b=t;this.material=o;this.shape=s;this.maxTension=a;this.maxCompression=c;this.tensionStrength=m;this.compressionStrength=p;if(r===t)throw new Error(`Dupe member joints: ${r.number}`)}static OK="ok";static FAILED="fail";static UNKNOWN="--";get number(){return this.index+1}get lengthM(){return he.distance2DPoints(this.a,this.b)}get stockId(){return new Jt(this.material.index,this.shape.section.index,this.shape.sizeIndex)}get slenderness(){return this.lengthM*this.shape.inverseRadiusOfGyration}get key(){return u.getJointsKey(this.a,this.b)}static getJointsKey(e,r){let t=e.index,o=r.index;return t<o?`${t},${o}`:`${o},${t}`}hasJoints(e,r){return e===this.a&&r===this.b||r===this.a&&e===this.b}hasJoint(e){return this.a===e||this.b===e}getOtherJoint(e){return e===this.a?this.b:this.a}get materialShortName(){return this.material.shortName}get crossSectionShortName(){return this.shape.section.shortName}get materialSizeMm(){return this.shape.width}get compressionForceStrengthRatio(){return this.maxCompression/this.compressionStrength}get tensionForceStrengthRatio(){return this.maxTension/this.tensionStrength}get compressionStatus(){return isNaN(this.maxCompression)?u.UNKNOWN:this.maxCompression<=this.compressionStrength?u.OK:u.FAILED}get tensionStatus(){return isNaN(this.maxTension)?u.UNKNOWN:this.maxTension<=this.tensionStrength?u.OK:u.FAILED}swapContents(e){[this.index,e.index]=[e.index,this.index],[this.a,e.a]=[e.a,this.a],[this.b,e.b]=[e.b,this.b],[this.material,e.material]=[e.material,this.material],[this.shape,e.shape]=[e.shape,this.shape]}};var $=class{static ABUTMENT_FACE_X=.25;static ABUTMENT_INTERFACE_SETBACK=1;static ABUTMENT_STEP_HEIGHT=-.35;static ABUTMENT_STEP_X=-.45;static ACCESS_SLOPE=1/6;static ANCHOR_OFFSET=8;static BEAM_HEIGHT=.9;static DECK_CANTILEVER=.4;static DECK_HALF_WIDTH=5;static DECK_TOP_HEIGHT=.8;static DRAWING_X_MARGIN=3;static FAR_AWAY=100;static GAP_DEPTH=24;static GUSSET_THICKNESS=.02;static GAP_NATURAL_HALF_WIDTH=22;static INDEX_LEFT_SHORE=25;static INDEX_RIGHT_SHORE=16;static LEFT_SHORE_INDEX=25;static OVERHEAD_CLEARANCE=8;static RIGHT_SHORE_INDEX=16;static TANGENT_OFFSET=8;static TERRAIN_DASH=[4,3];static MIN_ROADWAY_CLEARANCE=4.5;static WATER_BELOW_GRADE=26.4;static WEAR_SURFACE_X0=-this.ABUTMENT_INTERFACE_SETBACK;static WEAR_SURFACE_X1=this.ABUTMENT_STEP_X;static ACCESS_LENGTH=this.FAR_AWAY-this.TANGENT_OFFSET;static ACCESS_CURVE=this.createAccessCurve();static ELEVATION_TERRAIN_POINTS=[[this.FAR_AWAY,-this.FAR_AWAY],[this.FAR_AWAY,0],[25.03,0],[24.51,-.3],[22.75,-.71],[21.93,-2.95],[21.33,-4.75],[20.7,-6.85],[19.56,-7.48],[19.11,-8.94],[18.62,-10.81],[17.8,-12.84],[16.22,-14],[14.5,-17.66],[12.36,-21.33],[10.98,-24.59],[9.58,-this.WATER_BELOW_GRADE],[8.12,-27.66],[6.54,-28.63],[5.04,-29.64],[4.48,-29.83],[.28,-30.47],[-4.18,-29.83],[-5.46,-29.19],[-6.96,-27.32],[-8.24,-this.WATER_BELOW_GRADE],[-10.37,-25.6],[-12.14,-23.21],[-12.48,-21.89],[-13.04,-20.14],[-14.5,-17.25],[-16.04,-15.38],[-16.53,-13.88],[-18.2,-11.17],[-19.9,-7.93],[-21.85,-3.07],[-22.57,-.74],[-23.92,0],[-this.FAR_AWAY,0],[-this.FAR_AWAY,-this.FAR_AWAY]].map(e=>new Z(...e));static STANDARD_ABUTMENT_POINTS=[[this.WEAR_SURFACE_X0,this.DECK_TOP_HEIGHT],[this.WEAR_SURFACE_X1,this.DECK_TOP_HEIGHT],[this.ABUTMENT_STEP_X,this.ABUTMENT_STEP_HEIGHT],[this.ABUTMENT_FACE_X,this.ABUTMENT_STEP_HEIGHT],[this.ABUTMENT_FACE_X,-5],[.75,-5],[.75,-5.5],[-2,-5.5],[-2,-5],[-this.ABUTMENT_INTERFACE_SETBACK,-5]].map(e=>new Z(...e));static PILLOW_POINTS=[[0,0],[-this.ABUTMENT_FACE_X,this.ABUTMENT_STEP_HEIGHT],[this.ABUTMENT_FACE_X,this.ABUTMENT_STEP_HEIGHT]].map(e=>new Z(...e));static ARCH_ABUTMENT_POINTS=[[this.WEAR_SURFACE_X0,this.DECK_TOP_HEIGHT],[this.WEAR_SURFACE_X1,this.DECK_TOP_HEIGHT],[this.ABUTMENT_STEP_X,this.ABUTMENT_STEP_HEIGHT,0],[this.ABUTMENT_FACE_X,this.ABUTMENT_STEP_HEIGHT,0],[this.ABUTMENT_FACE_X,-5,0],[.75,-5,0],[.75,-5.5,0],[-2,-5.5,0],[-2,-5,0],[-this.ABUTMENT_INTERFACE_SETBACK,-5,0]].map(e=>new O0(...e));static PIER_POINTS=[[.5,this.ABUTMENT_STEP_HEIGHT],[.5,this.ABUTMENT_STEP_HEIGHT,0],[.75,this.ABUTMENT_STEP_HEIGHT,0],[.75,-7.5,0],[1.4,-7.5,0],[1.4,-8,0],[-1.4,-8,0],[-1.4,-7.5,0],[-.75,-7.5,0],[-.75,this.ABUTMENT_STEP_HEIGHT,0],[-.5,this.ABUTMENT_STEP_HEIGHT,0],[-.5,this.ABUTMENT_STEP_HEIGHT]].map(e=>new O0(...e));static createAccessCurve(){let r=new Array(6),t=this.TANGENT_OFFSET/4,o=.5*this.ACCESS_SLOPE/this.TANGENT_OFFSET,s=0;for(let c=0;s<5;s++,c+=t)r[s]=new Z(c,o*c*c);let a=r[s-1];return r[s]=new Z(a.x+this.ACCESS_LENGTH,a.y+this.ACCESS_SLOPE*this.ACCESS_LENGTH),r}};var z=class u{static MAX_JOINT_COUNT=50;static MAX_MEMBER_COUNT=120;static PANEL_SIZE_WORLD=4;static ANCHORAGE_COST=6e3;static ARCH_INCREMENTAL_COST_PER_DECK_PANEL=3300;static DECK_COST_PER_PANEL_HI_STRENGTH=5100;static DECK_COST_PER_PANEL_MED_STRENGTH=4700;static EXCAVATION_COST_RATE=1;static FROM_KEY_CODE_TAG="99Z";static MAX_SLENDERNESS=300;static MIN_OVERHEAD=8;static PIER_BASE_COST=0;static PIER_COST_PER_DECK_PANEL=4500;static STANDARD_ABUTMENT_BASE_COST=6e3;static STANDARD_ABUTMENT_COST_PER_DECK_PANEL=500;abutmentCost=0;abutmentJointIndices=[];allowableSlenderness=0;archHeight=0;archJointIndex=0;code=new Uint8Array;codeLong;deckCostRate=0;deckElevation=0;deckType=-1;excavationVolume=0;isHiPier=!1;jointRestraintCount=0;leftAnchorageJointIndex=0;loadedJointCount=0;loadType=-1;anchorageCount=0;overClearance=0;overMargin=0;panelCount=0;pierCost=0;pierHeight=0;pierJointIndex=0;pierPanelIndex=0;prescribedJoints=[];rightAnchorageJointIndex=0;spanLength=0;tag;totalFixedCost=0;underClearance=0;xLeftmostDeckJoint=0;xRightmostDeckJoint=0;siteCosts={};constructor(e,r){this.tag=e,this.codeLong=r;let t=u.getCodeOrThrow(r);if(u.getCodeError(t)!=0)return;this.code=t,this.isHiPier=t[9]>0,this.pierJointIndex=this.pierPanelIndex=t[8]-1;let o=t[7]===1,s=t[7]===2||t[7]===3,a=t[7]===3;this.underClearance=10*t[5]+t[6],this.overClearance=10*t[3]+t[4],this.panelCount=10*t[1]+t[2];let c=t[0]-1;this.loadType=(c&1)===0?0:1,this.deckType=(c&2)===0?0:1,o?(this.deckElevation=4*(this.panelCount-5)+this.underClearance,this.archHeight=this.underClearance):(this.deckElevation=4*(this.panelCount-5),this.archHeight=-1),this.overMargin=$.GAP_DEPTH+u.MIN_OVERHEAD-this.deckElevation,this.pierHeight=this.isHiPier?this.deckElevation:this.isPier?this.deckElevation-this.underClearance:-1;let m=this.panelCount+1;this.archJointIndex=this.leftAnchorageJointIndex=this.rightAnchorageJointIndex=-1,this.isPier&&!this.isHiPier&&(this.pierJointIndex=m,m++),o&&(this.archJointIndex=m,m+=2),this.anchorageCount=0,s&&(this.leftAnchorageJointIndex=m,this.anchorageCount++,m++),a&&(this.rightAnchorageJointIndex=m,this.anchorageCount++,m++),this.spanLength=this.panelCount*u.PANEL_SIZE_WORLD,this.loadedJointCount=this.panelCount+1,this.prescribedJoints=new Array(m);let p=0,S=0,y=0;for(;y<this.loadedJointCount;y++)this.prescribedJoints[y]=new de(y,p,S,!0),p+=u.PANEL_SIZE_WORLD;this.xLeftmostDeckJoint=this.prescribedJoints[0].x,this.xRightmostDeckJoint=this.prescribedJoints[this.loadedJointCount-1].x,this.jointRestraintCount=3,this.isPier&&(this.isHiPier?this.jointRestraintCount+=1:(this.prescribedJoints[y]=new de(y,this.pierPanelIndex*u.PANEL_SIZE_WORLD,-this.underClearance,!0),y++,this.jointRestraintCount+=2)),o&&(this.prescribedJoints[y]=new de(y,this.xLeftmostDeckJoint,-this.underClearance,!0),y++,this.prescribedJoints[y]=new de(y,this.xRightmostDeckJoint,-this.underClearance,!0),y++,this.jointRestraintCount+=1),s&&(this.prescribedJoints[y]=new de(y,this.xLeftmostDeckJoint-$.ANCHOR_OFFSET,0,!0),y++,this.jointRestraintCount+=2),a&&(this.prescribedJoints[y]=new de(y,this.xRightmostDeckJoint+$.ANCHOR_OFFSET,0,!0),y++,this.jointRestraintCount+=2),this.allowableSlenderness=s||a?Number.POSITIVE_INFINITY:u.MAX_SLENDERNESS,this.excavationVolume=u.getExcavationVolume(this.deckElevation),this.deckCostRate=this.deckType===0?u.DECK_COST_PER_PANEL_MED_STRENGTH:u.DECK_COST_PER_PANEL_HI_STRENGTH,this.isFromKeyCode?(this.totalFixedCost=17e4,this.isPier?(this.abutmentCost=u.getKeyCodeAbutmentCost(this.deckElevation),this.pierCost=this.totalFixedCost-this.panelCount*this.deckCostRate-this.excavationVolume*u.EXCAVATION_COST_RATE-this.abutmentCost-this.anchorageCount*u.ANCHORAGE_COST):(this.abutmentCost=this.totalFixedCost-this.panelCount*this.deckCostRate-this.excavationVolume*u.EXCAVATION_COST_RATE-this.anchorageCount*u.ANCHORAGE_COST,this.pierCost=0)):(this.abutmentCost=o?this.panelCount*u.ARCH_INCREMENTAL_COST_PER_DECK_PANEL+u.getArchAbutmentCost(this.underClearance):this.isPier?u.STANDARD_ABUTMENT_BASE_COST+Math.max(this.pierPanelIndex,this.panelCount-this.pierPanelIndex)*u.STANDARD_ABUTMENT_COST_PER_DECK_PANEL:u.STANDARD_ABUTMENT_BASE_COST+this.panelCount*u.STANDARD_ABUTMENT_COST_PER_DECK_PANEL,this.pierCost=this.isPier?Math.max(this.pierPanelIndex,this.panelCount-this.pierPanelIndex)*u.PIER_COST_PER_DECK_PANEL+u.getPierHeightCost(this.pierHeight)+u.PIER_BASE_COST:0,this.totalFixedCost=this.excavationVolume*u.EXCAVATION_COST_RATE+this.abutmentCost+this.pierCost+this.panelCount*this.deckCostRate+this.anchorageCount*u.ANCHORAGE_COST),this.abutmentCost*=.5,this.abutmentJointIndices=o?[0,this.panelCount,this.archJointIndex,this.archJointIndex+1]:this.isPier?[0,this.panelCount,this.pierJointIndex]:[0,this.panelCount],this.siteCosts={siteCondition:this.tag,panelCount:this.panelCount,deckCostRate:this.deckCostRate,deckCost:this.panelCount*this.deckCostRate,excavationVolume:this.excavationVolume,excavationCostRate:u.EXCAVATION_COST_RATE,excavationCost:this.excavationVolume*u.EXCAVATION_COST_RATE,abutmentType:this.isArch?"arch":"standard",abutmentCount:2,abutmentCostRate:this.abutmentCost*.5,abutmentCost:this.abutmentCost,isPier:this.isPier,pierHeight:this.pierHeight,pierCost:this.pierCost,anchorageCount:this.anchorageCount,anchorageCostRate:u.ANCHORAGE_COST,anchorageCost:this.anchorageCount*u.ANCHORAGE_COST,totalFixedCost:this.totalFixedCost}}static get placeholderConditions(){return new u("00X",1110824e3)}static getKeyCodeAbutmentCost(e){return[7e3,7e3,7500,7500,8e3,8e3,8500][Math.floor(e/4)]}static getExcavationVolume(e){return[106500,9e4,71500,54100,38100,19400,0][Math.floor(e/4)]}static getArchAbutmentCost(e){return[200,11300,20800,30300,39e3,49700][Math.floor(e/4)-1]}static getPierHeightCost(e){return[0,2800,5600,8400,10200,12500,14800][Math.floor(e/4)]}get deckThickness(){return this.deckType===0?.23:.15}get isArch(){return this.archHeight>=0}get isPier(){return this.pierPanelIndex>=0}get isLeftAnchorage(){return this.leftAnchorageJointIndex>=0}get isRightAnchorage(){return this.rightAnchorageJointIndex>=0}get isAtGrade(){return this.deckElevation===$.GAP_DEPTH}get isFromKeyCode(){return this.tag===u.FROM_KEY_CODE_TAG}isGeometricallyIdentical(e){return this.code.slice(1).every((r,t)=>r===e.code[t])}get tagGeometryOnly(){return this.tag.substring(0,2)}static getCode(e){if(e<0)return null;let r=new Uint8Array(10);for(let t=9;t>=0;t--)r[t]=e%10,e=Math.floor(e/10);return e>0?null:r}static getCodeOrThrow(e){let r=this.getCode(e);if(r===null)throw new Error("Bad code: "+e);return r}static getCodeError(e){if(e===null)return-1;if(!j.inRange(e[0],1,4))return 14;let r=10*e[1]+e[2];if(!j.inRange(r,1,20))return 16;let t=10*e[3]+e[4];if(!j.inRange(t,0,40))return 17;if(!j.inRange(e[9],0,1))return 5;let o=10*e[5]+e[6];if(!j.inRange(o,0,32))return 13;if(!j.inRange(e[7],0,3))return 2;let s=e[7]===1,a=e[8]-1,c=a>=0,m=e[9]>0;if(m&&!c)return 4;if(a>=r)return 15;if(r<5||r>11)return 11;let p=s?4*(r-5)+o:4*(r-5);if(p<0||p>$.GAP_DEPTH)return 6;if(p+t>$.GAP_DEPTH+this.MIN_OVERHEAD)return 12;if(!s&&p-o<0)return 8;if(c&&a===0||a>=r-1)return 9;if(s&&c)return 1;if(c&&!m){let S=a*this.PANEL_SIZE_WORLD,y=p-o,C=0,_=p,M=r*this.PANEL_SIZE_WORLD,R=_;if(S<C+(_-y)*.5)return 7;if(S>M-(R-y)*.5)return 10}return 0}get setupKey(){return u.getSetupKey(this.deckElevation,this.archHeight,this.pierHeight,this.anchorageCount,this.loadType,this.deckType)}static getSetupKey(e,r,t,o,s,a){return`${e}|${r}|${t}|${o}|${s}|${a}`}static fromTaggedCodeLong(e,r){return new u(e,r)}static fromKeyCodeLong(e){return new u(this.FROM_KEY_CODE_TAG,e)}static fromKeyCode(e){let r=0;try{r=parseInt(e,10)}catch{return 3}let t=this.getCodeError(this.getCode(r));return t!=0?t:this.fromKeyCodeLong(r)}toString(){return"{"+this.tag+","+this.codeLong+",isHiPier: "+this.isHiPier+",leftCableIndex: "+this.leftAnchorageJointIndex+",rightCableIndex: "+this.rightAnchorageJointIndex+",pierJointIndex: "+this.pierPanelIndex+",underClearance: "+this.underClearance+",overClearance: "+this.overClearance+",nPanels: "+this.panelCount+",loadType: "+this.loadType+",deckType: "+this.deckType+",deckElevation: "+this.deckElevation+",archHeight: "+this.archHeight+",pierHeight: "+this.pierHeight+",nAnchorages: "+this.anchorageCount+",excavationVolume: "+this.excavationVolume+",abutmentCost: "+this.abutmentCost+",pierCost: "+this.pierCost+",deckCostRate: "+this.deckCostRate+",totalFixedCost: "+this.totalFixedCost+",setupKey: "+this.setupKey+"}"}},we=class u{static PLACEHOLDER_CONDITIONS=z.placeholderConditions;static STANDARD_CONDITIONS=[["01A",1110824e3],["01B",2110824e3],["01C",3110824e3],["01D",4110824e3],["02A",110122e4],["02B",210122e4],["02C",310122e4],["02D",410122e4],["03A",1091616e3],["03B",2091616e3],["03C",3091616e3],["03D",4091616e3],["04A",1082012e3],["04B",2082012e3],["04C",3082012e3],["04D",4082012e3],["05A",1072408e3],["05B",2072408e3],["05C",3072408e3],["05D",4072408e3],["06A",1062804e3],["06B",2062804e3],["06C",3062804e3],["06D",4062804e3],["07A",10532e5],["07B",20532e5],["07C",30532e5],["07D",40532e5],["08A",1110824200],["08B",2110824200],["08C",3110824200],["08D",4110824200],["09A",1101220200],["09B",2101220200],["09C",3101220200],["09D",4101220200],["10A",1091616200],["10B",2091616200],["10C",3091616200],["10D",4091616200],["11A",1082012200],["11B",2082012200],["11C",3082012200],["11D",4082012200],["12A",1072408200],["12B",2072408200],["12C",3072408200],["12D",4072408200],["13A",1062804200],["13B",2062804200],["13C",3062804200],["13D",4062804200],["14A",1053200200],["14B",2053200200],["14C",3053200200],["14D",4053200200],["15A",1110824300],["15B",2110824300],["15C",3110824300],["15D",4110824300],["16A",1101220300],["16B",2101220300],["16C",3101220300],["16D",4101220300],["17A",1091616300],["17B",2091616300],["17C",3091616300],["17D",4091616300],["18A",1082012300],["18B",2082012300],["18C",3082012300],["18D",4082012300],["19A",1072408300],["19B",2072408300],["19C",3072408300],["19D",4072408300],["20A",1062804300],["20B",2062804300],["20C",3062804300],["20D",4062804300],["21A",1053200300],["21B",2053200300],["21C",3053200300],["21D",4053200300],["22A",1100804100],["22B",2100804100],["22C",3100804100],["22D",4100804100],["23A",1090808100],["23B",2090808100],["23C",3090808100],["23D",4090808100],["24A",1080812100],["24B",2080812100],["24C",3080812100],["24D",4080812100],["25A",1070816100],["25B",2070816100],["25C",3070816100],["25D",4070816100],["26A",1060820100],["26B",2060820100],["26C",3060820100],["26D",4060820100],["27A",1050824100],["27B",2050824100],["27C",3050824100],["27D",4050824100],["28A",1091204100],["28B",2091204100],["28C",3091204100],["28D",4091204100],["29A",1081208100],["29B",2081208100],["29C",3081208100],["29D",4081208100],["30A",1071212100],["30B",2071212100],["30C",3071212100],["30D",4071212100],["31A",1061216100],["31B",2061216100],["31C",3061216100],["31D",4061216100],["32A",1051220100],["32B",2051220100],["32C",3051220100],["32D",4051220100],["33A",1081604100],["33B",2081604100],["33C",3081604100],["33D",4081604100],["34A",1071608100],["34B",2071608100],["34C",3071608100],["34D",4071608100],["35A",1061612100],["35B",2061612100],["35C",3061612100],["35D",4061612100],["36A",1051616100],["36B",2051616100],["36C",3051616100],["36D",4051616100],["37A",1072004100],["37B",2072004100],["37C",3072004100],["37D",4072004100],["38A",1062008100],["38B",2062008100],["38C",3062008100],["38D",4062008100],["39A",1052012100],["39B",2052012100],["39C",3052012100],["39D",4052012100],["40A",1062404100],["40B",2062404100],["40C",3062404100],["40D",4062404100],["41A",1052408100],["41B",2052408100],["41C",3052408100],["41D",4052408100],["42A",1052804100],["42B",2052804100],["42C",3052804100],["42D",4052804100],["43A",1110824060],["43B",2110824060],["43C",3110824060],["43D",4110824060],["44A",1110820060],["44B",2110820060],["44C",3110820060],["44D",4110820060],["45A",1110816060],["45B",2110816060],["45C",3110816060],["45D",4110816060],["46A",1110812060],["46B",2110812060],["46C",3110812060],["46D",4110812060],["47A",1110808060],["47B",2110808060],["47C",3110808060],["47D",4110808060],["48A",1110804060],["48B",2110804060],["48C",3110804060],["48D",4110804060],["49A",1110824061],["49B",2110824061],["49C",3110824061],["49D",4110824061],["50A",1101220060],["50B",2101220060],["50C",3101220060],["50D",4101220060],["51A",1101216060],["51B",2101216060],["51C",3101216060],["51D",4101216060],["52A",1101212060],["52B",2101212060],["52C",3101212060],["52D",4101212060],["53A",1101208060],["53B",2101208060],["53C",3101208060],["53D",4101208060],["54A",1101204060],["54B",2101204060],["54C",3101204060],["54D",4101204060],["55A",1101220061],["55B",2101220061],["55C",3101220061],["55D",4101220061],["56A",1091616050],["56B",2091616050],["56C",3091616050],["56D",4091616050],["57A",1091612050],["57B",2091612050],["57C",3091612050],["57D",4091612050],["58A",1091608050],["58B",2091608050],["58C",3091608050],["58D",4091608050],["59A",1091604050],["59B",2091604050],["59C",3091604050],["59D",4091604050],["60A",1091616051],["60B",2091616051],["60C",3091616051],["60D",4091616051],["61A",1082012050],["61B",2082012050],["61C",3082012050],["61D",4082012050],["62A",1082008050],["62B",2082008050],["62C",3082008050],["62D",4082008050],["63A",1082004050],["63B",2082004050],["63C",3082004050],["63D",4082004050],["64A",1082012051],["64B",2082012051],["64C",3082012051],["64D",4082012051],["65A",1072408040],["65B",2072408040],["65C",3072408040],["65D",4072408040],["66A",1072404040],["66B",2072404040],["66C",3072404040],["66D",4072404040],["67A",1072408041],["67B",2072408041],["67C",3072408041],["67D",4072408041],["68A",1062804040],["68B",2062804040],["68C",3062804040],["68D",4062804040],["69A",1062804041],["69B",2062804041],["69C",3062804041],["69D",4062804041],["70A",1053200031],["70B",2053200031],["70C",3053200031],["70D",4053200031],["71A",1110824360],["71B",2110824360],["71C",3110824360],["71D",4110824360],["72A",1110820360],["72B",2110820360],["72C",3110820360],["72D",4110820360],["73A",1110816360],["73B",2110816360],["73C",3110816360],["73D",4110816360],["74A",1110812360],["74B",2110812360],["74C",3110812360],["74D",4110812360],["75A",1110808360],["75B",2110808360],["75C",3110808360],["75D",4110808360],["76A",1110804360],["76B",2110804360],["76C",3110804360],["76D",4110804360],["77A",1110824361],["77B",2110824361],["77C",3110824361],["77D",4110824361],["78A",1101220360],["78B",2101220360],["78C",3101220360],["78D",4101220360],["79A",1101216360],["79B",2101216360],["79C",3101216360],["79D",4101216360],["80A",1101212360],["80B",2101212360],["80C",3101212360],["80D",4101212360],["81A",1101208360],["81B",2101208360],["81C",3101208360],["81D",4101208360],["82A",1101204360],["82B",2101204360],["82C",3101204360],["82D",4101204360],["83A",1101220361],["83B",2101220361],["83C",3101220361],["83D",4101220361],["84A",1091616350],["84B",2091616350],["84C",3091616350],["84D",4091616350],["85A",1091612350],["85B",2091612350],["85C",3091612350],["85D",4091612350],["86A",1091608350],["86B",2091608350],["86C",3091608350],["86D",4091608350],["87A",1091604350],["87B",2091604350],["87C",3091604350],["87D",4091604350],["88A",1091616351],["88B",2091616351],["88C",3091616351],["88D",4091616351],["89A",1082012350],["89B",2082012350],["89C",3082012350],["89D",4082012350],["90A",1082008350],["90B",2082008350],["90C",3082008350],["90D",4082008350],["91A",1082004350],["91B",2082004350],["91C",3082004350],["91D",4082004350],["92A",1082012351],["92B",2082012351],["92C",3082012351],["92D",4082012351],["93A",1072408340],["93B",2072408340],["93C",3072408340],["93D",4072408340],["94A",1072404340],["94B",2072404340],["94C",3072404340],["94D",4072404340],["95A",1072408341],["95B",2072408341],["95C",3072408341],["95D",4072408341],["96A",1062804340],["96B",2062804340],["96C",3062804340],["96D",4062804340],["97A",1062804341],["97B",2062804341],["97C",3062804341],["97D",4062804341],["98A",1053200331],["98B",2053200331],["98C",3053200331],["98D",4053200331]].map(e=>z.fromTaggedCodeLong(...e));static STANDARD_CONDITIONS_FROM_SETUP_KEY=u.STANDARD_CONDITIONS.reduce((e,r)=>(e.set(r.setupKey,r),e),new Map);getConditionsForSetupKey(e){return j.assertNotUndefined(u.STANDARD_CONDITIONS_FROM_SETUP_KEY.get(e),"design conditions for key")}static STANDARD_CONDITIONS_FROM_CODE=u.STANDARD_CONDITIONS.reduce((e,r)=>(e.set(r.codeLong,r),e),new Map);static STANDARD_CONDITIONS_FROM_TAG=u.STANDARD_CONDITIONS.reduce((e,r)=>(e.set(r.tag,r),e),new Map);getConditionsForCodeLong(e){let r=u.STANDARD_CONDITIONS_FROM_CODE.get(e);return r===void 0?z.fromKeyCodeLong(e):r}getStandardConditionsForTag(e){return u.STANDARD_CONDITIONS_FROM_TAG.get(e)}getConditionsForKeyCode(e){return z.fromKeyCode(e)}get placeholderConditions(){return u.PLACEHOLDER_CONDITIONS}isTagPrefix(e){let r=0,t=u.STANDARD_CONDITIONS.length-1;for(;r<t;){let o=Math.floor((r+t)/2),s=u.STANDARD_CONDITIONS[o].tag.substring(0,e.length);if(e<s)t=o-1;else if(e>s)r=o+1;else return!0}return!1}static \u0275fac=function(r){return new(r||u)};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};var Ne=class extends Error{constructor(e){super(e)}get kind(){return this.message}};var Ct=class u{constructor(e,r,t){this.joints=e;this.members=r;this.selectedMembers=t}mergedMembers=[];removedMembers=[];isSplitDone=!1;static createForAdd(e,r,t){return new u(e,r,t)}static createForMove(e,r,t){return new u(e,r,t)}do(){if(this.isSplitDone||=this.doSplit(),this.members.length+this.mergedMembers.length-this.removedMembers.length>z.MAX_MEMBER_COUNT)throw new Ne("tooManyMembersError");re.remove(this.members,this.removedMembers,this.selectedMembers),re.merge(this.members,this.mergedMembers,this.selectedMembers)}undo(){re.remove(this.members,this.mergedMembers,this.selectedMembers),re.merge(this.members,this.removedMembers,this.selectedMembers)}get hasSplit(){return this.mergedMembers.length>0||this.removedMembers.length>0}doSplit(){return this.joints instanceof de?this.doSplitForAdd(this.joints):this.doSplitForMove(this.joints),!0}doSplitForAdd(e){let r=this.members.length;for(let t of this.members)he.isPointOnSegment(e,t.a,t.b)&&(this.removedMembers.push(t),this.mergedMembers.push(new fe(t.index,t.a,e,t.material,t.shape)),this.mergedMembers.push(new fe(r++,e,t.b,t.material,t.shape)));this.mergedMembers.sort((t,o)=>t.index-o.index)}doSplitForMove(e){let r=new Set;this.members.forEach(c=>r.add(c.key));let t=new ot,o=this.mergedMembers;for(let c of this.members){let S=function(y,C){if(!r.has(fe.getJointsKey(y,C))){let _=new fe(-1,y,C,c.material,c.shape);o.push(_),r.add(_.key)}};var a=S;let m=e.filter(y=>he.isPointOnSegment(y,c.a,c.b)).sort((y,C)=>he.distanceSquared2DPoints(y,c.a)-he.distanceSquared2DPoints(C,c.a));if(m.length===0)continue;this.removedMembers.push(c),t.pushLeft(c.index);let p=c.a;m.forEach(y=>{S(p,y),p=y}),S(p,c.b)}let s=this.members.length;this.mergedMembers.forEach(c=>{c.index===-1&&(c.index=t.length===0?s++:t.popRight())}),this.mergedMembers.sort((c,m)=>c.index-m.index)}dehydrate(e){return{mergedMembers:this.mergedMembers.map(r=>e.getMemberRef(r)),removedMembers:this.removedMembers.map(r=>e.getMemberRef(r))}}static rehydrate(e,r,t,o,s){let a=new u(t,o,s.selectedMembers);return r.mergedMembers.forEach(c=>a.mergedMembers.push(e.rehydrateMemberRef(c))),r.removedMembers.forEach(c=>a.removedMembers.push(e.rehydrateMemberRef(c))),a.isSplitDone=!0,a}};var cr=class u extends be{constructor(r,t,o,s){super(`Add joint at (${r.x}, ${r.y})`);this.joint=r;this.bridge=t;this.selectedElements=o;this.memberSplitter=s}static create(r,t,o){return new u(r,t,o,Ct.createForAdd(r,t.members,o.selectedMembers))}get effectsMask(){return this.memberSplitter.hasSplit?13:9}do(){this.memberSplitter.do(),this.joint.index=this.bridge.joints.length,re.merge(this.bridge.joints,[this.joint],this.selectedElements.selectedJoints)}undo(){this.memberSplitter.undo(),re.remove(this.bridge.joints,[this.joint],this.selectedElements.selectedJoints)}dehydrate(r){let t=j.assertNotUndefined(this.memberSplitter);return{tag:"add-joint",jointRef:r.getJointRef(this.joint),splitter:t.dehydrate(r)}}static rehydrate(r,t,o,s){let a=t,c=r.rehydrateJointRef(a.jointRef);return new u(c,o,s,Ct.rehydrate(r,a.splitter,c,o.members,s))}};var ur=class u extends be{constructor(r,t){super("");this.bridge=r;this.selectedElements=t}members=[];effectsMask=12;static create(r,t,o){let s=new u(t,o),a=t.joints.filter(p=>he.isPointOnSegment(p,r.a,r.b)).sort((p,S)=>he.distanceSquared2DPoints(p,r.a)-he.distanceSquared2DPoints(S,r.a));if(a.length===0)return s.description=`Add member, joint ${r.a.number} to ${r.b.number}`,s.members.push(r),s;s.description=`Add ${a.length+1} members, joint ${r.a.number} to ${r.b.number}`;let c=r.a;return a.forEach(p=>{m(c,p),c=p}),m(c,r.b),s;function m(p,S){t.members.some(y=>y.hasJoints(p,S))||s.members.push(new fe(-1,p,S,r.material,r.shape))}}do(){if(this.members.length===0)throw new Ne("noMembersToAddError");if(this.bridge.members.length+this.members.length>z.MAX_MEMBER_COUNT)throw new Ne("tooManyMembersError");this.members.forEach((r,t)=>{r.index=t+this.bridge.members.length}),re.merge(this.bridge.members,this.members,this.selectedElements.selectedMembers)}undo(){re.remove(this.bridge.members,this.members,this.selectedElements.selectedMembers)}dehydrate(r){return{tag:"add-member",description:this.description,members:this.members.map(t=>r.getMemberRef(t))}}static rehydrate(r,t,o,s){let a=t,c=new u(o,s);return c.description=a.description,a.members.forEach(m=>c.members.push(r.rehydrateMemberRef(m))),c}};var Wt=class{static formatMemberMessage(e,r,t){let o=e.map(c=>c.number);if(o.sort((c,m)=>c-m),o.length<=0)return`${r}.`;if(o.length===1)return`${r} ${o[0]}`;let s=[t||`${r}s`];s.push(" ",o[0].toString());let a=3;if(o.length<=2*a){for(let c=1;c<o.length-1;++c)s.push(", ",o[c].toString());s.push(" and ",o[o.length-1].toString())}else{for(let c=1;c<a;++c)s.push(", ",o[c].toString());s.push(" \u2026 ");for(let c=o.length-a-1;c<o.length;++c)s.push(", ",o[c].toString())}return s.join("")}};var lr=class u extends be{constructor(r,t,o){super(r);this.members=t;this.updatedMembers=o}effectsMask=20;static forMemberMaterialsUpdate(r,t){let o=Wt.formatMemberMessage(t,"Update material for member");return new u(o,r,t)}static forMemberSizeIncrement(r,t,o=1){let s=[];for(let m of t){let p=r[m],S=Re.getShapeWithSizeIncrement(p.shape,o);S!==p.shape&&s.push(new fe(p.index,p.a,p.b,p.material,S))}let a=o>0?"Up":"Down",c=Wt.formatMemberMessage(s,`${a}-size member`);return new u(c,r,s)}do(){re.exchangeAll(this.members,this.updatedMembers)}undo(){re.exchangeAll(this.members,this.updatedMembers)}dehydrate(r){return{tag:"change-members",description:this.description,updatedMembers:this.updatedMembers.map(t=>r.getMemberRef(t))}}static rehydrate(r,t,o){let s=t;return new u(s.description,o.members,s.updatedMembers.map(a=>r.rehydrateMemberRef(a)))}};var dr=class u extends be{constructor(r,t,o){super(`Delete joint at (${r.x}, ${r.y})`);this.bridge=t;this.selectedElements=o;this.joint=[r],this.members=t.members.filter(s=>s.hasJoint(r))}joint;members;get effectsMask(){return this.members.length>0?5:1}do(){re.remove(this.bridge.members,this.members,this.selectedElements.selectedMembers),re.remove(this.bridge.joints,this.joint,this.selectedElements.selectedJoints)}undo(){re.merge(this.bridge.joints,this.joint,this.selectedElements.selectedJoints),re.merge(this.bridge.members,this.members,this.selectedElements.selectedMembers)}dehydrate(r){return{tag:"delete-joint",joint:r.getJointRef(this.joint[0]),members:this.members.map(t=>r.getMemberRef(t))}}static rehydrate(r,t,o,s){let a=t,c=new u(r.rehydrateJointRef(a.joint),o,s);return a.members.forEach(m=>c.members.push(r.rehydrateMemberRef(m))),c}};var mr=class u extends be{constructor(r,t,o,s){super(`Move joint to (${t.x}, ${t.y})`);this.joint=r;this.toJoint=t;this.bridge=o;this.memberSplitter=s}_effectsMask=NaN;static create(r,t,o,s){return new u(r,new de(r.index,t.x,t.y,!1),o,Ct.createForMove(o.joints,o.members,s.selectedMembers))}get effectsMask(){return isNaN(this._effectsMask)&&(this._effectsMask=this.memberSplitter.hasSplit||this.bridge.members.some(r=>r.hasJoint(this.joint))?21:17),this._effectsMask}do(){let r=this.bridge.joints[this.toJoint.index],t=this.toJoint;r.swapContents(t);try{this.memberSplitter.do()}catch(o){throw r.swapContents(t),o}}undo(){this.memberSplitter.undo(),this.bridge.joints[this.toJoint.index].swapContents(this.toJoint)}dehydrate(r){return{tag:"move-joint",joint:r.getJointRef(this.joint),toJoint:r.getJointRef(this.toJoint),splitter:this.memberSplitter.dehydrate(r)}}static rehydrate(r,t,o,s){let a=t,c=r.rehydrateJointRef(a.toJoint);return new u(r.rehydrateJointRef(a.joint),c,o,Ct.rehydrate(r,a.splitter,o.joints,o.members,s))}};var hr=class u extends be{constructor(r,t,o){super(`Move labels to height ${o.toFixed(2)}`);this.draftingPanelState=r;this.yFrom=t;this.yTo=o}effectsMask=18;do(){this.draftingPanelState.yLabels=this.yTo}undo(){this.draftingPanelState.yLabels=this.yFrom}dehydrate(r){return{tag:"move-labels",yFrom:this.yFrom,yTo:this.yTo}}static rehydrate(r,t){let o=r;return new u(t,o.yFrom,o.yTo)}};var pr=class u extends be{constructor(r,t,o,s){super(Wt.formatMemberMessage(r,"Delete member"));this.members=r;this.joints=t;this.bridge=o;this.selectedElements=s}static forMember(r,t,o){return new u([r],[],t,o)}static forSelectedMembers(r,t){let o=t.bridge,s=Array.from(r.selectedMembers).sort((c,m)=>c-m).map(c=>o.members[c]),a=t.getJointsForMembersDeletion(r.selectedMembers);return new u(s,a,o,r)}get effectsMask(){return this.joints.length>0?5:4}do(){re.remove(this.bridge.members,this.members,this.selectedElements.selectedMembers),re.remove(this.bridge.joints,this.joints,this.selectedElements.selectedJoints)}undo(){re.merge(this.bridge.joints,this.joints,this.selectedElements.selectedJoints),re.merge(this.bridge.members,this.members,this.selectedElements.selectedMembers)}dehydrate(r){return{tag:"delete-members",members:this.members.map(t=>r.getMemberRef(t)),joints:this.joints.map(t=>r.getJointRef(t))}}static rehydrate(r,t,o,s){let a=t,c=a.members.map(p=>r.rehydrateMemberRef(p)),m=a.joints.map(p=>r.rehydrateJointRef(p));return new u(c,m,o,s)}};var br=class u{refsByJoint=new Map;refsByMember=new Map;joints=[];members=[];static forBridge(e){let r=new u;return e.joints.forEach(t=>r.refsByJoint.set(t,{bridge:t.index})),e.members.forEach(t=>r.refsByMember.set(t,{bridge:t.index})),r}getJointRef(e){return this.getDehydrated(e,this.refsByJoint,this.joints)}getMemberRef(e){return this.getDehydrated(e,this.refsByMember,this.members)}getDehydrated(e,r,t){let o=r.get(e);if(o===void 0){let s=t.length;t.push(e),o={extern:s},r.set(e,o)}return o}dehydrate(){return{joints:this.joints.map(e=>u.dehydrateJoint(e)),members:this.members.map(e=>this.dehydrateMember(e))}}static dehydrateJoint(e){return{index:e.index,x:e.x,y:e.y,isFixed:e.isFixed}}dehydrateMember(e){return{index:e.index,a:this.getJointRef(e.a),b:this.getJointRef(e.b),materialIndex:e.material.index,sectionIndex:e.shape.section.index,sizeIndex:e.shape.sizeIndex}}},fr=class u{constructor(e,r,t){this.bridge=e;this.externJoints=r;this.externMembers=t}static create(e,r,t){let o=e.joints.map(a=>u.rehydrateJoint(a)),s=e.members.map(a=>u.rehydrateMember(a,r.joints,o,t));return new u(r,o,s)}rehydrateJointRef(e){return u.rehydrateJointRefStatic(e,this.bridge.joints,this.externJoints)}rehydrateMemberRef(e){return e.bridge!==void 0?this.bridge.members[e.bridge]:this.externMembers[j.assertNotUndefined(e.extern)]}static rehydrateJointRefStatic(e,r,t){return e.bridge!==void 0?r[e.bridge]:t[j.assertNotUndefined(e.extern)]}static rehydrateJoint(e){return new de(e.index,e.x,e.y,e.isFixed)}static rehydrateMember(e,r,t,o){return new fe(e.index,u.rehydrateJointRefStatic(e.a,r,t),u.rehydrateJointRefStatic(e.b,r,t),o.materials[e.materialIndex],o.getShape(e.sectionIndex,e.sizeIndex))}};var jt=class u{constructor(e){this.designConditions=e;e.prescribedJoints.forEach(r=>this.joints.push(r))}version=2024;projectName="Dennis H. Mahan Memorial Bridge";projectId="";designedBy="";iterationNumber=1;joints=[];members=[];static createClone(e){let r=new u(e.designConditions);r.projectName=e.projectName,r.projectId=e.projectId,r.designedBy=e.designedBy,r.iterationNumber=e.iterationNumber;for(let t=e.designConditions.prescribedJoints.length;t<e.joints.length;++t){let o=e.joints[t];r.joints.push(new de(o.index,o.x,o.y,o.isFixed))}for(let t of e.members)r.members.push(new fe(t.index,r.joints[t.a.index],r.joints[t.b.index],t.material,t.shape,t.maxTension,t.maxCompression,t.tensionStrength,t.compressionStrength));return r}getJointByNumber(e){return this.joints[e-1]}get taggedProjectId(){return`000${this.designConditions.tag}-${this.projectId}`}clear(){this.joints.length=this.designConditions.prescribedJoints.length,this.members.length=0}};var B0=class{designConditions=we.PLACEHOLDER_CONDITIONS;spanExtent=vt.createEmpty();drawingWindow=vt.createEmpty();halfCutGapWidth;xLeftmostDeckJoint;xRightmostDeckJoint;yGradeLevel;leftAbutmentInterfaceTerrainIndex;rightAbutmentInterfaceTerrainIndex;constructor(e){this.xLeftmostDeckJoint=e.xLeftmostDeckJoint,this.xRightmostDeckJoint=e.xRightmostDeckJoint,this.yGradeLevel=$.GAP_DEPTH-e.deckElevation+$.DECK_TOP_HEIGHT,this.halfCutGapWidth=.5*(this.xRightmostDeckJoint-this.xLeftmostDeckJoint),this.leftAbutmentInterfaceTerrainIndex=$.ELEVATION_TERRAIN_POINTS.length-1;let r=this.xLeftmostDeckJoint-$.ABUTMENT_INTERFACE_SETBACK;for(;$.ELEVATION_TERRAIN_POINTS[this.leftAbutmentInterfaceTerrainIndex].x+this.halfCutGapWidth<r;)this.leftAbutmentInterfaceTerrainIndex--;this.rightAbutmentInterfaceTerrainIndex=0;let t=this.xRightmostDeckJoint+$.ABUTMENT_INTERFACE_SETBACK;for(;$.ELEVATION_TERRAIN_POINTS[this.rightAbutmentInterfaceTerrainIndex].x+this.halfCutGapWidth>t;)this.rightAbutmentInterfaceTerrainIndex++;this.spanExtent.x0=this.xLeftmostDeckJoint,this.spanExtent.y0=-e.underClearance,this.spanExtent.width=e.spanLength,this.spanExtent.height=e.underClearance+e.overClearance,this.drawingWindow.x0=this.spanExtent.x0-$.DRAWING_X_MARGIN,this.drawingWindow.width=this.spanExtent.width+2*$.DRAWING_X_MARGIN,e.isLeftAnchorage&&(this.drawingWindow.x0-=$.ANCHOR_OFFSET,this.drawingWindow.width+=$.ANCHOR_OFFSET),e.isRightAnchorage&&(this.drawingWindow.width+=$.ANCHOR_OFFSET),this.drawingWindow.y0=this.yGradeLevel-$.WATER_BELOW_GRADE-4,this.drawingWindow.height=this.yGradeLevel+$.OVERHEAD_CLEARANCE+1.5-this.drawingWindow.y0,this.designConditions=e}get leftBankX(){return this.halfCutGapWidth-$.GAP_NATURAL_HALF_WIDTH}get rightBankX(){return this.halfCutGapWidth+$.GAP_NATURAL_HALF_WIDTH}};var ne=class u{constructor(e,r=we.PLACEHOLDER_CONDITIONS){this.name=e;this.designConditions=r}static ABSENT=new u("[none]");joints=[];members=[]};var Tt=class u{static FINE_GRID_SIZE=.25;static SNAP_MULTIPLES=[4,2,1];static DENSITY_BY_SNAP_MULTIPLE=[-1,2,1,-1,0];static MAX_SNAP_MULTIPLE=u.SNAP_MULTIPLES[0];_snapMultiple=u.MAX_SNAP_MULTIPLE;constructor(e){e!==void 0&&(this._snapMultiple=u.SNAP_MULTIPLES[e])}set snapMultiple(e){if(Gt.getDensityFromSnapMultiple(e)===-1)throw new Error("Bad snap multiple: "+e);this._snapMultiple}get snapMultiple(){return this._snapMultiple}set density(e){this._snapMultiple=u.SNAP_MULTIPLES[e]}get density(){return Gt.getDensityFromSnapMultiple(this._snapMultiple)}isCoarser(e){return u.SNAP_MULTIPLES[e]<this._snapMultiple}xformWorldToGrid(e){return this.snapMultiple*Math.round(e/(u.FINE_GRID_SIZE*this.snapMultiple))}xformGridToWorld(e){return e*u.FINE_GRID_SIZE}xformWorldToGridPoint(e,r){e.x=this.xformWorldToGrid(r.x),e.y=this.xformWorldToGrid(r.y)}xformGridToWorldPoint(e,r){e.x=this.xformGridToWorld(r.x),e.y=this.xformGridToWorld(r.y)}},Gt=class u{grid=new Tt;static FINEST_GRID=new Tt(2);static getDensityFromSnapMultiple(e){let r=Tt.DENSITY_BY_SNAP_MULTIPLE[e];return r===void 0?-1:r}static getSnapMultipleOfGrid(e){let r=e&~(e-1);return r===0||r>Tt.MAX_SNAP_MULTIPLE?Tt.MAX_SNAP_MULTIPLE:r}static getSnapMultipleOfWorld(e){return this.getSnapMultipleOfGrid(Math.round(e/Tt.FINE_GRID_SIZE))}static getDensityOfGrid(e){return this.getDensityFromSnapMultiple(this.getSnapMultipleOfGrid(e))}static getDensityOfWorld(e){return this.getDensityFromSnapMultiple(this.getSnapMultipleOfWorld(e))}static getDensityOfWorldPoints(e){let r=0;for(let t of e){let o=this.getDensityOfWorld(t.x);o>r&&(r=o);let s=this.getDensityOfWorld(t.y);s>r&&(r=s)}return r}static \u0275fac=function(r){return new(r||u)};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};var H0="|",gr=3,yr=2,ri=1,ni=1,ii=2,oi=2,si=3,ai=10,ci=4,$t=class u{constructor(e,r){this.designConditionsService=e;this.inventoryService=r}getSaveSetAsText(e){let r=[],t=Gt.FINEST_GRID;r.push(e.bridge.version.toString().padStart(ci)),r.push(e.bridge.designConditions.codeLong.toString().padStart(ai)),r.push(e.bridge.joints.length.toString().padStart(oi)),r.push(e.bridge.members.length.toString().padStart(si));for(let o of e.bridge.joints)r.push(t.xformWorldToGrid(o.x).toString().padStart(gr)),r.push(t.xformWorldToGrid(o.y).toString().padStart(gr));for(let o of e.bridge.members)r.push(o.a.number.toString().padStart(yr)),r.push(o.b.number.toString().padStart(yr)),r.push(o.material.index.toString().padStart(ri)),r.push(o.shape.section.index.toString().padStart(ni)),r.push(o.shape.sizeIndex.toString().padStart(ii));return r.push(e.bridge.designedBy,H0),r.push(e.bridge.projectId,H0),r.push(e.bridge.iterationNumber.toString(),H0),r.push(e.draftingPanelState.yLabels.toFixed(3),H0),r.join("")}parseSaveSetText(e,r){return new wn(e,this.designConditionsService,Gt.FINEST_GRID,this.inventoryService).parse(r)}static \u0275fac=function(r){return new(r||u)(G(we),G(Re))};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})},xt=class u{constructor(e,r){this.bridge=e;this.draftingPanelState=r}static createNew(e=we.PLACEHOLDER_CONDITIONS){return new u(new jt(e),h0.createNew())}static create(e,r){return new u(e,r)}static deepCopy(e,r){return new u(jt.createClone(e),h0.createClone(r))}clear(){this.bridge.clear(),this.draftingPanelState.clear()}},h0=class u{constructor(e=2){this.yLabels=e}static createNew(){return new u}static createClone(e){return new u(e.yLabels)}clear(){this.yLabels=2}},wn=class{constructor(e,r,t,o){this.text=e;this.designConditionsService=r;this.grid=t;this.inventoryService=o}readPtr=0;parse(e){try{this.parseOrThrow(e)}catch(r){throw e.clear(),r}}parseOrThrow(e){if(e.bridge.joints.length=e.bridge.members.length=0,this.scanNumber(!1,ci,"bridge designer version")!==e.bridge.version)throw new Error("bridge design file version is not "+e.bridge.version);let r=this.scanNumber(!1,ai,"scenario code");e.bridge.designConditions=this.designConditionsService.getConditionsForCodeLong(r);let t=this.scanNumber(!1,oi,"number of joints"),o=this.scanNumber(!1,si,"number of members"),s;for(let a=0,c=1;a<t;a++,c++){let m=this.scanNumber(!0,gr,`joint ${c} x-coordinate`),p=this.scanNumber(!0,gr,`joint ${c} y-coordinate`);if(a<e.bridge.designConditions.prescribedJoints.length){if(s=e.bridge.designConditions.prescribedJoints[a],m!=this.grid.xformWorldToGrid(s.x)||p!=this.grid.xformWorldToGrid(s.y))throw new Error(`bad prescribed joint ${c}`)}else s=new de(a,this.grid.xformGridToWorld(m),this.grid.xformGridToWorld(p),!1);e.bridge.joints.push(s)}for(let a=0,c=1;a<o;a++){let m=this.scanNumber(!1,yr,`first joint of member ${c}`),p=e.bridge.getJointByNumber(m),S=this.scanNumber(!1,yr,`second joint of member ${c}`),y=e.bridge.getJointByNumber(S),C=this.scanNumber(!1,ri,`material index of member ${c}`),_=this.scanNumber(!1,ni,`section index of member ${c}`),M=this.scanNumber(!1,ii,`size index of member ${c}`),R=new fe(a,p,y,this.inventoryService.materials[C],this.inventoryService.getShape(_,M));e.bridge.members.push(R)}e.bridge.designedBy=this.scanToDelimiter("name of designer"),e.bridge.projectId=this.scanToDelimiter("project ID"),e.bridge.iterationNumber=parseInt(this.scanToDelimiter("iteration")),e.draftingPanelState.yLabels=parseFloat(this.scanToDelimiter("label position"))}static extractRatioFromText(e){let r=parseInt(e);return isNaN(r)?void 0:r}scanToDelimiter(e){let r=this.readPtr;for(;j.assertNotUndefined(this.text[this.readPtr],e)!==H0;)this.readPtr++;return this.text.slice(r,this.readPtr++)}scanNumber(e,r,t){let o=0,s=!1;for(;r>0&&this.text[this.readPtr]===" ";)r--,this.readPtr++;for(e&&r>=2&&this.text[this.readPtr]==="-"&&(r--,this.readPtr++,s=!0);r>0;){let a=parseInt(this.text[this.readPtr]);if(Number.isNaN(a))throw`Couldn't scan ${t}`;o=o*10+a,r--,this.readPtr++}return s?-o:o}};var vr=class u{addSketchesFromDataForConditions(e,r){let t=qi[r.tagGeometryOnly];t&&t.forEach(({name:o,text:s})=>e.push(this.populateFromText(new ne(o,r),s)))}populateFromText(e,r){let t=r.split("|"),o=0,s=t[o++];if(s!==e.designConditions.tagGeometryOnly)throw new Error(`Tag mismatch: ${s} vs ${e.designConditions.tagGeometryOnly}`);let a=parseInt(t[o++]),c=parseInt(t[o++]);for(let m=0;m<a;++m){let p=parseFloat(t[o++]),S=parseFloat(t[o++]);e.joints.push(new Z(p,S))}for(let m=0;m<c;++m){let p=parseInt(t[o++])-1,S=parseInt(t[o++])-1;e.members.push({a:e.joints[p],b:e.joints[S]})}return e}static \u0275fac=function(r){return new(r||u)};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})},qi={14:[{name:"Cable Stayed Bridge",text:"14|8|11|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|-8.0|0.0|0.0|10.0|7|8|8|1|8|2|8|3|8|4|8|5|1|2|2|3|3|4|4|5|5|6"}],21:[{name:"Cable Stayed Bridge",text:"21|10|13|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|-8.0|0.0|28.0|0.0|0.0|7.5|20.0|7.5|7|9|1|9|9|2|9|3|8|10|10|5|10|4|6|10|2|3|3|4|4|5|5|6|1|2"},{name:"Suspension Bridge",text:"21|24|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|-8.0|0.0|28.0|0.0|0.0|7.5|20.0|7.5|8.0|2.0|12.0|2.0|16.0|3.5|4.0|3.5|4.0|1.25|8.0|1.25|12.0|1.25|16.0|1.25|10.0|1.25|6.0|1.25|14.0|1.25|6.0|0.0|14.0|0.0|10.0|0.0|9|1|10|6|1|2|5|6|9|14|14|11|11|12|12|13|13|10|7|9|10|8|1|15|18|6|14|15|15|2|11|16|16|3|12|17|17|4|13|18|18|5|3|19|19|4|16|19|19|17|16|22|22|20|20|2|17|23|23|21|21|5|19|24|2|22|22|3|3|24|24|4|4|23|23|5|15|20|20|16|17|21|21|18"}],26:[{name:"Three-hinge Arch - Pratt",text:"26|23|44|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|0.0|-20.0|24.0|-20.0|0.0|-5.0|0.0|-10.0|0.0|-15.0|24.0|-15.0|24.0|-10.0|24.0|-5.0|4.0|-5.0|8.0|-5.0|16.0|-5.0|20.0|-5.0|20.0|-10.0|20.0|-15.0|4.0|-10.0|4.0|-15.0|8|12|12|23|23|8|1|16|10|22|1|10|10|11|11|12|1|2|2|3|3|4|4|5|5|6|6|7|7|15|15|14|14|13|13|9|19|7|20|15|21|14|9|21|21|13|21|20|20|19|19|6|20|18|18|19|19|15|20|14|6|18|18|5|23|22|22|16|22|17|17|16|16|10|17|2|16|2|17|3|17|4|18|4|11|22|23|11"},{name:"Continuous Arch - Pratt",text:"26|24|47|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|0.0|-20.0|24.0|-20.0|0.0|-5.0|0.0|-10.0|0.0|-15.0|24.0|-15.0|24.0|-10.0|24.0|-5.0|4.0|-5.0|8.0|-5.0|16.0|-5.0|20.0|-5.0|20.0|-10.0|20.0|-15.0|4.0|-10.0|4.0|-15.0|12.0|-5.0|8|12|12|23|23|8|1|16|10|22|1|10|10|11|11|12|1|2|2|3|3|4|4|5|5|6|6|7|7|15|15|14|14|13|13|9|19|7|20|15|21|14|9|21|21|13|21|20|20|19|19|6|20|18|18|19|19|15|20|14|6|18|18|5|23|22|22|16|22|17|17|16|16|10|17|2|16|2|17|3|17|4|18|4|11|22|23|11|17|24|18|24|24|4"},{name:"Continuous Arch - Howe",text:"26|20|39|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|0.0|-20.0|24.0|-20.0|8.0|-6.0|12.0|-4.0|16.0|-6.0|20.0|-6.0|24.0|-6.0|24.0|-12.0|20.0|-12.0|4.0|-12.0|0.0|-12.0|0.0|-6.0|4.0|-6.0|8|17|17|10|10|11|11|12|12|16|16|9|9|15|15|14|14|7|7|6|6|5|5|4|4|3|3|2|2|1|1|19|19|18|18|8|18|17|17|20|10|20|20|19|18|20|20|2|2|19|20|3|10|4|3|10|11|4|4|12|12|5|5|13|13|6|6|14|14|13|13|12|13|16|16|15|15|13"}],27:[{name:"Continuous Arch - Lattice",text:"27|35|67|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|0.0|-24.0|20.0|-24.0|10.0|-4.0|12.0|-8.0|14.0|-12.0|16.0|-16.0|18.0|-20.0|2.0|-20.0|4.0|-16.0|6.0|-12.0|8.0|-8.0|0.0|-16.0|0.0|-8.0|20.0|-8.0|20.0|-16.0|2.0|-12.0|4.0|-8.0|2.0|-4.0|6.0|-4.0|14.0|-4.0|18.0|-4.0|16.0|-8.0|18.0|-12.0|0.0|-12.0|20.0|-12.0|0.0|-4.0|20.0|-4.0|0.0|-20.0|20.0|-20.0|3|9|4|9|7|14|14|15|16|15|16|17|17|9|9|10|10|11|11|12|12|13|13|8|18|14|19|22|22|18|22|15|1|24|24|23|23|16|2|25|25|17|4|26|26|28|28|29|29|21|5|27|27|20|10|26|26|5|11|28|28|27|27|6|12|29|29|20|13|21|1|2|2|3|3|4|4|5|5|6|19|24|24|2|3|25|25|23|23|22|19|30|30|22|29|31|20|31|30|18|31|21|1|32|32|24|27|33|6|33|32|19|33|20|18|34|34|14|21|35|13|35|34|7|35|8|24|25|9|26|25|9|26|27"},{name:"Continuous Arch - Pratt",text:"27|23|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|0.0|-24.0|20.0|-24.0|0.0|-18.0|0.0|-12.0|0.0|-6.0|4.0|-6.0|8.0|-6.0|10.0|-4.0|12.0|-6.0|16.0|-6.0|20.0|-6.0|20.0|-12.0|16.0|-12.0|18.5|-18.0|20.0|-18.0|1.5|-18.0|4.0|-12.0|7|9|9|10|10|11|11|1|1|2|8|20|20|19|19|15|15|14|14|13|13|23|23|22|22|7|9|22|22|10|10|23|11|23|11|12|23|12|15|16|5|16|19|18|18|20|21|20|17|19|16|6|5|15|15|4|4|14|14|3|3|13|13|2|1|12|6|17|17|18|18|21|21|8|2|3|12|13|12|2|16|17|16|19|3|4|4|5|5|6"}],32:[{name:"Continuous Arch - Pratt",text:"32|14|26|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|0.0|-20.0|20.0|-20.0|0.0|-10.0|4.0|-10.0|8.0|-4.0|12.0|-4.0|16.0|-10.0|20.0|-10.0|9|1|2|1|2|3|3|4|4|5|5|6|6|14|14|8|8|13|13|14|13|6|13|5|5|12|12|13|12|4|12|3|3|11|11|12|4|11|11|2|2|10|10|11|10|1|9|10|10|7|7|9"}],43:[{name:"Continuous Deck Truss - Strut",text:"43|24|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-24.0|4.0|-4.0|8.0|-5.5|12.0|-7.0|16.0|-10.0|20.0|-16.0|24.0|-10.0|28.0|-7.0|32.0|-5.5|36.0|-4.0|40.0|-3.5|20.0|-8.0|1|2|6|24|1|14|14|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|12|11|23|23|10|10|22|22|9|9|21|21|8|8|20|20|7|7|19|19|6|6|17|17|5|5|16|16|4|4|15|15|3|3|14|14|2|17|24|24|19|2|3|18|13|24|18|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"},{name:"Continuous Deck Truss - Lattice",text:"43|31|68|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-24.0|4.0|-2.5|8.0|-6.0|12.0|-10.5|16.0|-16.0|20.0|-16.0|24.0|-16.0|28.0|-6.0|32.0|-6.0|36.0|-3.0|40.0|-1.0|28.0|-10.5|12.0|-6.0|16.0|-6.0|20.0|-6.0|24.0|-6.0|24.0|-10.5|20.0|-10.5|16.0|-10.5|1|2|1|14|14|15|15|16|16|17|17|13|13|19|19|24|24|21|21|22|22|23|23|12|16|31|17|18|15|25|13|18|17|31|16|25|15|3|14|2|14|3|15|4|25|5|16|26|26|6|31|27|17|30|19|30|19|29|24|20|21|9|22|10|23|10|11|23|22|9|21|8|20|7|24|28|28|6|29|27|2|3|29|24|30|29|31|30|18|19|20|21|25|26|18|30|26|5|31|26|25|4|28|7|29|28|20|8|3|4|26|27|27|6|30|27|4|5|27|28|5|6|28|20|6|7|7|8|8|9|9|10|10|11|11|12"}],44:[{name:"Continuous Deck Truss - Lattice",text:"44|31|66|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-20.0|4.0|-2.0|8.0|-4.5|12.0|-8.5|16.0|-13.5|20.0|-13.5|24.0|-13.5|28.0|-8.5|24.0|-8.5|20.0|-8.5|16.0|-8.5|12.0|-4.5|16.0|-4.5|20.0|-4.5|24.0|-4.5|28.0|-4.5|32.0|-4.5|36.0|-2.0|40.0|-1.0|1|2|15|24|16|23|17|18|16|6|6|20|13|17|17|16|16|15|15|14|14|1|13|19|19|20|20|29|29|30|30|31|31|12|11|31|10|30|31|10|30|9|9|29|29|8|8|28|28|7|7|27|6|26|27|21|5|25|17|22|22|19|21|26|26|23|5|24|4|24|4|15|15|3|3|14|14|2|2|3|24|25|21|20|22|21|23|22|18|19|28|20|18|13|22|18|26|22|21|19|23|17|25|23|24|16|3|4|25|26|4|5|26|27|5|6|27|28|6|7|28|29|7|8|8|9|9|10|10|11|11|12"},{name:"Continuous Deck Truss - Strut",text:"44|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-20.0|4.0|-4.0|8.0|-5.0|12.0|-6.0|16.0|-8.0|20.0|-12.0|24.0|-8.0|28.0|-6.0|32.0|-5.0|36.0|-4.0|40.0|-3.5|1|14|14|2|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|12|23|23|22|22|21|21|20|20|19|19|18|18|17|17|16|16|15|15|14|1|2|2|3|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12|6|18|18|13"}],45:[{name:"Continuous Deck Truss - Lattice",text:"45|30|40|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-16.0|4.0|-4.0|8.0|-2.5|8.0|-5.0|12.0|-3.5|12.0|-7.0|16.0|-4.5|16.0|-11.0|20.0|-7.5|24.0|-11.0|24.0|-4.5|28.0|-7.5|28.0|-3.5|32.0|-5.5|32.0|-2.5|36.0|-4.5|36.0|-2.0|40.0|-4.0|6|13|5|20|4|18|3|16|2|14|7|22|8|24|9|26|10|28|11|30|1|12|1|14|14|16|16|18|18|20|20|13|13|22|22|24|24|26|26|28|28|30|30|12|30|29|29|11|10|27|27|28|9|25|25|26|8|23|23|24|7|21|21|22|5|21|21|20|4|19|19|18|3|17|17|16|2|15|15|14"},{name:"Continuous Deck Truss - Beam",text:"45|24|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-16.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|40.0|-4.0|20.0|-8.0|1|2|23|22|6|18|1|14|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|23|12|24|19|24|17|2|3|15|14|16|15|17|16|18|17|19|18|20|19|21|20|22|21|18|24|3|4|24|13|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"},{name:"Continuous Deck Truss - Strut",text:"45|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-16.0|4.0|-4.0|8.0|-4.0|12.0|-4.5|16.0|-5.5|20.0|-8.0|24.0|-5.5|28.0|-4.5|32.0|-4.0|36.0|-4.0|40.0|-4.0|1|2|12|23|23|22|22|21|21|20|20|19|19|18|18|17|17|16|16|15|15|14|14|1|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|2|3|18|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],46:[{name:"Continuous Deck Truss - Lattice",text:"46|24|31|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-12.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-5.0|18.0|-8.0|22.0|-8.0|26.0|-5.0|30.0|-4.0|34.0|-4.0|38.0|-4.0|42.0|-4.0|1|12|12|24|24|21|14|16|16|17|17|18|18|13|13|19|19|20|20|21|24|11|11|23|23|10|10|22|22|9|9|21|21|8|8|20|20|7|7|19|19|6|6|18|18|5|5|17|17|4|4|16|16|3|3|15|15|2|2|14|14|1"},{name:"Continuous Deck Truss - Strut",text:"46|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-12.0|4.0|-4.0|8.0|-4.0|12.0|-4.5|16.0|-5.5|20.0|-8.0|24.0|-5.5|28.0|-4.5|32.0|-4.0|36.0|-4.0|40.0|-4.0|1|2|1|14|14|2|14|3|14|15|15|3|15|4|15|16|16|4|16|5|16|17|17|5|17|6|17|18|6|18|18|19|19|6|19|7|7|20|20|19|8|20|20|21|21|8|9|21|21|22|22|9|22|10|10|23|23|22|23|11|23|12|2|3|18|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"},{name:"Continuous Deck Truss - Beam",text:"46|24|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-12.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|40.0|-4.0|20.0|-8.0|1|2|14|15|13|24|24|17|24|19|1|14|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|10|22|10|23|23|11|23|12|2|3|15|16|18|6|24|18|3|4|16|17|4|5|17|18|5|6|18|19|6|7|19|20|7|8|20|21|8|9|21|22|9|10|22|23|10|11|11|12"}],47:[{name:"Continuous Deck Truss - Beam",text:"47|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-8.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|40.0|-4.0|1|14|14|2|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|19|19|7|7|20|20|8|8|21|9|21|9|22|22|10|10|23|23|11|23|12|1|2|2|3|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12|23|22|22|21|21|20|20|19|19|18|18|17|17|16|16|15|15|14|6|18|18|13"},{name:"Two Simple Spans - Thru Truss",text:"47|24|43|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|42.0|4.0|14|15|19|20|12|11|6|13|1|14|14|2|2|15|15|3|3|16|16|4|4|17|17|5|5|18|18|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|11|24|24|12|15|16|20|21|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|10|9|11|10|16|17|21|22|17|18|22|23|23|24"},{name:"Continuous Deck Truss - Warren",text:"47|24|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-8.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|30.0|-4.0|34.0|-4.0|38.0|-4.0|42.0|-4.0|5|18|13|19|14|15|12|11|1|14|14|2|2|15|15|3|3|16|16|4|4|17|17|5|18|6|6|19|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|11|24|24|12|18|13|19|7|15|16|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|10|9|11|10|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24"}],48:[{name:"Continuous Thru Truss",text:"48|24|44|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|42.0|4.0|14|15|19|20|12|11|13|6|1|14|14|2|2|15|15|3|3|16|16|4|4|17|17|5|5|18|18|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|11|24|24|12|15|16|20|21|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|10|9|11|10|16|17|21|22|17|18|22|23|23|24|18|19"},{name:"Two Simple Spans - Thru Truss",text:"48|24|43|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|42.0|4.0|14|15|19|20|12|11|13|6|1|14|14|2|2|15|15|3|3|16|16|4|4|17|17|5|5|18|18|6|6|19|19|7|7|20|20|8|8|21|21|9|9|22|22|10|10|23|23|11|11|24|24|12|15|16|20|21|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|10|9|11|10|16|17|21|22|17|18|22|23|23|24"},{name:"Continuous Deck Truss",text:"48|22|23|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-4.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|40.0|-4.0|1|12|22|14|1|14|14|2|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|13|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|22|11|22|12"}],49:[{name:"Two Simple Spans - Deck Truss",text:"49|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|30.0|-4.0|34.0|-4.0|38.0|-4.0|42.0|-4.0|1|2|23|22|17|16|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|22|11|11|23|23|12|2|3|19|18|20|19|21|20|22|21|14|13|15|14|16|15|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"},{name:"Two Simple Spans - Thru Truss",text:"49|23|42|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|42.0|4.0|13|14|1|2|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|11|22|11|23|23|12|14|15|2|3|15|16|3|4|16|17|4|5|5|6|18|19|6|7|19|20|7|8|20|21|8|9|21|22|9|10|22|23|10|11|11|12"},{name:"Continuous Thru Truss",text:"49|23|43|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|42.0|4.0|13|14|23|12|12|11|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|22|11|11|23|14|15|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|10|9|11|10|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23"}],50:[{name:"Continuous Deck Truss - Strut",text:"50|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-20.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|16.0|-7.5|20.0|-12.0|24.0|-7.5|28.0|-5.5|32.0|-4.0|36.0|-4.0|1|2|1|13|13|2|13|3|13|14|14|3|14|4|4|15|15|5|5|16|16|6|6|17|17|18|18|6|18|7|7|19|19|8|8|20|20|9|9|21|21|10|11|21|21|20|20|19|19|18|17|16|16|15|15|14|17|12|2|3|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11"},{name:"Continuous Deck Truss - Lattice",text:"50|29|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-20.0|4.0|-2.0|8.0|-4.5|12.0|-4.5|16.0|-4.5|20.0|-4.5|24.0|-4.5|28.0|-4.5|32.0|-4.5|12.0|-8.5|16.0|-8.5|20.0|-8.5|24.0|-8.5|28.0|-8.5|16.0|-13.5|20.0|-13.5|24.0|-13.5|36.0|-2.0|2|3|14|15|21|22|26|27|6|17|26|22|4|15|14|3|2|13|7|18|25|19|8|20|20|9|9|10|1|2|1|13|13|14|14|21|21|26|26|12|12|28|28|25|25|20|20|29|29|11|10|29|29|9|19|7|25|18|18|6|6|21|17|22|23|26|23|28|24|17|5|15|4|14|3|13|3|4|15|16|22|23|27|28|17|23|16|5|22|16|15|21|18|24|19|8|4|5|16|17|23|24|23|27|24|28|5|6|17|18|24|25|27|12|6|7|18|19|7|8|19|20|8|9|10|11"}],51:[{name:"Continuous Deck Truss - Strut",text:"51|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-16.0|4.0|-4.0|8.0|-4.0|12.0|-4.5|16.0|-5.5|20.0|-8.0|24.0|-5.5|28.0|-4.5|32.0|-4.0|36.0|-4.0|1|2|11|21|21|10|9|21|21|20|20|9|8|20|20|19|8|19|19|7|7|18|18|6|6|17|6|16|16|5|5|15|15|4|4|14|14|3|3|13|13|2|1|13|13|14|14|15|15|16|16|17|17|18|18|19|2|3|17|12|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11"},{name:"Continuous Deck Truss - Lattice",text:"51|24|49|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-16.0|4.0|-1.5|8.0|-3.0|12.0|-5.5|16.0|-5.5|20.0|-5.5|24.0|-5.5|28.0|-5.5|32.0|-3.0|36.0|-1.5|24.0|-10.0|20.0|-10.0|16.0|-10.0|1|2|19|18|24|23|6|17|12|24|12|22|22|19|19|20|20|21|21|11|21|10|1|13|13|2|13|3|3|14|14|4|4|15|5|16|5|15|16|6|6|18|7|18|7|19|19|8|8|20|20|9|9|21|22|17|17|24|24|15|15|14|14|13|2|3|16|15|17|16|18|17|23|22|17|23|16|24|18|22|3|4|23|12|4|5|5|6|6|7|7|8|8|9|9|10|10|11"},{name:"Continuous Deck Truss - Beam",text:"51|22|41|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-16.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|20.0|-8.0|1|2|13|14|6|17|1|13|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|21|11|22|18|22|16|2|3|14|15|17|22|3|4|15|16|22|12|4|5|16|17|5|6|17|18|6|7|18|19|7|8|19|20|8|9|20|21|9|10|10|11"}],52:[{name:"Continuous Deck Truss - Beam",text:"52|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-12.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|6|17|1|2|21|20|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|21|11|13|1|17|12|2|3|14|13|15|14|16|15|17|16|18|17|19|18|20|19|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11"},{name:"Continuous Deck Truss - Strut",text:"52|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-12.0|20.0|-8.0|16.0|-5.5|12.0|-4.5|8.0|-4.0|4.0|-4.0|24.0|-5.5|28.0|-4.5|32.0|-4.0|36.0|-4.0|1|2|12|13|1|17|17|2|17|3|3|16|16|4|4|15|15|5|5|14|14|6|6|18|18|7|7|19|19|8|20|8|20|9|9|21|21|10|17|16|16|15|15|14|14|13|13|18|18|19|19|20|20|21|21|11|2|3|13|6|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11"},{name:"Continuous Deck Truss - Lattice",text:"52|21|29|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-12.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|16.0|-7.0|20.0|-7.0|24.0|-7.0|28.0|-5.5|32.0|-4.5|36.0|-4.0|1|11|6|12|16|18|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|11|21|21|20|20|19|19|18|18|12|12|16|16|15|15|14|14|13|13|1"}],53:[{name:"Continuous Thru Truss",text:"53|22|40|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|1|2|13|14|12|6|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|20|8|20|9|9|21|21|10|10|22|22|11|2|3|14|15|3|4|15|16|4|5|16|17|5|6|6|7|18|19|7|8|19|20|8|9|20|21|9|10|21|22|10|11|17|18"},{name:"Continuous Deck Truss",text:"53|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-8.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|1|2|13|14|6|17|1|13|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|21|11|2|3|14|15|17|12|3|4|15|16|4|5|16|17|5|6|17|18|6|7|18|19|7|8|19|20|8|9|20|21|9|10|10|11"},{name:"Two Simple Spans - Thru Truss",text:"53|22|39|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|1|2|13|14|12|6|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|20|8|20|9|9|21|21|10|10|22|22|11|2|3|14|15|3|4|15|16|4|5|16|17|5|6|6|7|18|19|7|8|19|20|8|9|20|21|9|10|21|22|10|11"}],54:[{name:"Continuous Thru Truss",text:"54|22|40|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|13|14|1|2|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|22|11|6|12|14|15|2|3|15|16|3|4|16|17|4|5|17|18|5|6|18|19|6|7|19|20|7|8|20|21|8|9|21|22|9|10|10|11"},{name:"Two Simple Spans - Thru Truss",text:"54|22|39|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|13|14|1|2|1|13|13|2|2|14|14|3|3|15|15|4|4|16|16|5|5|17|17|6|6|18|18|7|7|19|19|8|8|20|20|9|9|21|21|10|10|22|22|11|6|12|14|15|2|3|15|16|3|4|16|17|4|5|5|6|18|19|6|7|19|20|7|8|20|21|8|9|21|22|9|10|10|11"},{name:"Continuous Deck Truss",text:"54|20|37|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-4.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|36.0|-4.0|1|2|20|19|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|12|6|17|7|17|7|18|18|8|8|19|19|9|9|20|20|10|20|11|13|1|2|3|12|16|17|12|18|17|19|18|3|4|14|13|15|14|16|15|4|5|5|6|6|7|7|8|8|9|9|10|10|11"}],55:[{name:"Two Simple Spans - Deck Truss",text:"55|21|23|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|30.0|-4.0|34.0|-4.0|38.0|-4.0|1|11|21|17|16|12|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|10|21|21|11"},{name:"Two Simple Spans - Thru Truss",text:"55|21|38|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|12|13|1|2|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|21|10|21|11|13|14|2|3|14|15|3|4|15|16|4|5|5|6|17|18|6|7|18|19|7|8|19|20|8|9|20|21|9|10|10|11"},{name:"Continuous Thru Truss",text:"55|21|39|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|38.0|4.0|12|13|1|2|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|21|10|21|11|13|14|2|3|14|15|3|4|15|16|4|5|16|17|5|6|17|18|6|7|18|19|7|8|19|20|8|9|20|21|9|10|10|11"}],56:[{name:"Continuous Deck Truss - Beam",text:"56|20|37|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-16.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|16.0|-8.0|5|15|1|2|12|13|19|10|19|9|19|8|8|18|18|7|7|17|17|6|6|16|16|5|5|14|14|4|4|13|13|3|3|12|12|2|12|1|14|20|20|16|15|20|2|3|13|14|20|11|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"},{name:"Continuous Deck Truss - Strut",text:"56|19|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-16.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|16.0|-8.0|20.0|-5.5|24.0|-4.5|28.0|-4.0|32.0|-4.0|1|2|5|15|1|12|12|2|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|10|19|19|18|18|17|17|16|16|15|15|14|14|13|13|12|2|3|15|11|3|4|4|5|5|6|6|7|7|8|8|9|9|10"},{name:"Continuous Deck Truss - Lattice",text:"56|22|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-16.0|4.0|-2.0|8.0|-5.5|12.0|-5.5|16.0|-5.5|20.0|-5.5|24.0|-5.5|28.0|-2.5|32.0|-1.0|12.0|-10.0|16.0|-10.0|20.0|-10.0|1|2|17|16|20|21|11|21|22|16|20|14|13|3|17|7|12|2|12|3|13|4|14|5|20|15|16|5|17|6|18|7|19|8|22|15|18|8|10|19|19|18|18|17|17|22|22|11|11|20|20|13|13|12|12|1|2|3|14|13|15|14|16|15|21|22|15|5|21|15|16|6|14|4|3|4|4|5|5|6|6|7|7|8|8|9|9|10|19|9"},{name:"Continuous Deck Truss - Braced Strut",text:"56|20|37|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-16.0|4.0|-4.0|8.0|-4.5|12.0|-6.0|16.0|-6.0|20.0|-6.0|24.0|-4.5|28.0|-4.0|32.0|-4.0|16.0|-12.0|1|2|5|15|14|15|2|12|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|10|19|19|18|18|17|17|16|16|20|20|14|14|13|13|12|12|1|2|3|15|20|15|16|3|4|20|11|4|5|5|6|6|7|7|8|8|9|9|10"}],57:[{name:"Continuous Deck Truss - Lattice",text:"57|19|36|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-5.0|12.0|-7.0|16.0|-7.0|20.0|-7.0|24.0|-5.0|28.0|-4.0|32.0|-4.0|1|2|12|13|5|15|1|12|2|12|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|19|10|2|3|13|14|15|11|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10|14|11|11|16"},{name:"Continuous Deck Truss - Strut",text:"57|19|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|16.0|-8.0|20.0|-5.5|24.0|-4.5|28.0|-4.0|32.0|-4.0|1|2|12|13|5|15|1|12|2|12|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|19|10|2|3|13|14|15|11|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"},{name:"Continuous Deck Truss - Beam",text:"57|19|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|1|2|12|13|5|15|1|12|2|12|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|19|10|2|3|13|14|15|11|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"}],58:[{name:"Continuous Thru Truss",text:"58|20|36|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|12|13|10|9|5|11|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|13|14|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|14|15|15|16|16|17|17|18|18|19|19|20"},{name:"Continuous Deck Truss - Beam",text:"58|19|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-8.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|1|2|12|13|5|15|2|12|12|3|3|13|13|4|4|14|14|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|1|12|10|19|2|3|13|14|15|11|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"},{name:"Two Simple Spans - Thru Truss",text:"58|20|35|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|12|13|10|9|5|11|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|13|14|2|1|3|2|4|3|5|4|6|5|7|6|8|7|9|8|14|15|16|17|17|18|18|19|19|20"},{name:"Continuous Deck Truss - Lattice",text:"58|18|33|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-8.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|20.0|-5.5|24.0|-4.5|28.0|-4.0|32.0|-4.0|1|2|12|13|2|12|12|3|3|13|13|4|4|14|14|5|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|1|12|10|18|2|3|13|14|3|4|4|5|5|6|15|16|6|7|16|17|7|8|17|18|8|9|9|10|5|11|11|15|11|14"}],59:[{name:"Continuous Deck Truss",text:"59|18|33|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-4.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|32.0|-4.0|1|12|12|2|3|12|3|13|13|4|4|14|14|5|5|15|6|15|6|16|16|7|7|17|17|8|8|18|18|9|10|18|12|13|1|2|11|15|13|14|2|3|15|16|14|11|3|4|16|17|4|5|17|18|5|6|6|7|7|8|8|9|9|10|5|11"},{name:"Two Simple Spans - Thru Truss",text:"59|20|35|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|12|13|1|2|11|5|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|13|14|2|3|14|15|3|4|4|5|16|17|5|6|17|18|6|7|18|19|7|8|19|20|8|9|9|10"},{name:"Continuous Thru Truss",text:"59|20|36|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|12|13|1|2|11|5|1|12|12|2|2|13|13|3|3|14|14|4|4|15|15|5|5|16|16|6|6|17|17|7|7|18|18|8|8|19|19|9|9|20|20|10|13|14|2|3|14|15|3|4|15|16|4|5|16|17|5|6|17|18|6|7|18|19|7|8|19|20|8|9|9|10"}],60:[{name:"Two Simple Spans - Deck Truss",text:"60|19|21|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|30.0|-4.0|34.0|-4.0|1|10|10|19|19|15|14|11|11|2|2|12|12|3|3|13|13|4|4|14|14|5|11|1|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|9|19"},{name:"Two Simple Spans - Thru Truss",text:"60|19|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|11|12|1|2|10|19|19|9|9|18|18|8|8|17|17|7|7|16|16|6|6|15|15|5|5|14|14|4|4|13|13|3|3|12|12|2|11|2|11|1|12|13|2|3|13|14|3|4|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"},{name:"Continuous Thru Truss",text:"60|19|35|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|34.0|4.0|11|12|1|2|10|19|19|9|9|18|18|8|8|17|17|7|7|16|16|6|6|15|15|5|5|14|14|4|4|13|13|3|3|12|12|2|11|2|11|1|12|13|2|3|13|14|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|18|19|8|9|9|10"}],61:[{name:"Continuous Deck Truss - Beam",text:"61|17|30|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|1|2|17|16|5|14|2|11|11|3|3|12|12|4|4|13|13|5|5|15|15|6|6|16|16|7|7|17|17|8|17|9|11|1|2|3|12|11|13|12|14|13|15|14|16|15|14|10|3|4|4|5|5|6|6|7|7|8|8|9"},{name:"Continuous Deck Truss - Lattice",text:"61|17|32|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-4.5|12.0|-6.0|16.0|-6.0|20.0|-6.0|24.0|-4.5|28.0|-4.0|1|2|17|16|5|14|2|11|11|3|3|12|12|4|4|13|13|5|5|15|15|6|6|16|16|7|7|17|17|8|17|9|11|1|2|3|12|11|13|12|14|13|15|14|16|15|14|10|3|4|4|5|5|6|6|7|7|8|8|9|13|10|10|15"},{name:"Continuous Deck Truss - Strut",text:"61|17|30|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-12.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|16.0|-8.0|20.0|-5.5|24.0|-4.5|28.0|-4.0|1|2|17|16|5|14|2|11|11|3|3|12|12|4|4|13|13|5|5|15|15|6|6|16|16|7|7|17|17|8|17|9|11|1|2|3|12|11|13|12|14|13|15|14|16|15|14|10|3|4|4|5|5|6|6|7|7|8|8|9"}],62:[{name:"Continuous Thru Truss",text:"62|18|32|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|11|12|1|2|10|5|1|11|11|2|2|12|12|3|3|13|13|4|4|14|14|5|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|12|13|2|3|13|14|3|4|14|15|4|5|15|16|5|6|16|17|6|7|17|18|7|8|8|9"},{name:"Continuous Deck Truss - Lattice",text:"62|16|29|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-8.0|4.0|-4.0|8.0|-4.5|12.0|-5.5|20.0|-5.5|24.0|-4.5|28.0|-4.0|11|12|1|2|9|16|16|8|16|7|7|15|15|6|6|14|14|5|5|13|13|4|4|12|12|3|3|11|11|2|11|1|12|13|2|3|3|4|4|5|14|15|5|6|15|16|6|7|7|8|8|9|5|10|10|13|10|14"},{name:"Continuous Deck Truss - Beam",text:"62|17|30|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-8.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|11|12|5|14|1|2|9|17|17|8|17|7|7|16|16|6|6|15|15|5|5|13|13|4|4|12|12|3|3|11|11|2|11|1|12|13|14|10|2|3|13|14|3|4|14|15|4|5|15|16|5|6|16|17|6|7|7|8|8|9"},{name:"Two Simple Spans - Thru Truss",text:"62|18|31|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|11|12|1|2|10|5|1|11|11|2|2|12|12|3|3|13|13|4|4|14|14|5|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|12|13|2|3|13|14|3|4|4|5|15|16|5|6|16|17|6|7|17|18|7|8|8|9"}],63:[{name:"Continuous Thru Truss",text:"63|18|21|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|11|14|15|18|9|1|1|11|11|2|2|12|12|3|3|13|13|4|4|14|14|5|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|5|10|14|15"},{name:"Two Simple Spans - Thru Truss",text:"63|18|20|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|11|14|15|18|9|1|1|11|11|2|2|12|12|3|3|13|13|4|4|14|14|5|5|15|15|6|6|16|16|7|7|17|17|8|8|18|18|9|5|10"},{name:"Continuous Deck Truss",text:"63|16|18|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-4.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|20.0|-4.0|24.0|-4.0|28.0|-4.0|11|16|9|1|1|11|11|2|3|11|3|12|12|4|4|13|13|5|5|10|5|14|14|6|6|15|7|8|7|16|15|7|8|16|16|9"}],64:[{name:"Continuous Thru Truss",text:"64|17|20|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|10|13|14|17|17|9|9|1|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|6|15|15|7|7|16|16|8|8|17|13|14"},{name:"Two Simple Spans - Thru Truss",text:"64|17|19|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|30.0|4.0|10|13|14|17|17|9|9|1|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|6|15|15|7|7|16|16|8|8|17"},{name:"Two Simple Spans - Deck Truss",text:"64|17|19|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|30.0|-4.0|1|9|17|14|13|10|10|1|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|6|15|15|7|7|16|16|8|8|17|17|9"}],65:[{name:"Two Simple Spans - Thru Truss",text:"65|16|27|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|10|11|13|14|16|8|8|7|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|6|15|15|7|7|16|4|9|11|12|14|15|2|1|3|2|4|3|5|4|6|5|7|6|15|16"},{name:"Continuous Deck Truss - Lattice",text:"65|14|25|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-8.0|4.0|-4.0|8.0|-5.0|16.0|-5.0|20.0|-4.0|24.0|-4.0|1|2|14|13|1|10|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|14|7|14|8|2|3|11|10|13|12|3|4|4|5|5|6|6|7|7|8|4|9|9|11|9|12"},{name:"Continuous Thru Truss",text:"65|16|28|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-8.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|10|11|13|14|16|8|8|7|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|6|15|15|7|7|16|4|9|11|12|14|15|2|1|3|2|4|3|5|4|6|5|7|6|15|16|12|13"},{name:"Continuous Deck Truss - Beam",text:"65|15|26|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-8.0|4.0|-4.0|8.0|-4.0|12.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|1|2|15|14|1|10|2|10|10|3|3|11|11|4|4|12|4|13|13|5|5|14|14|6|6|15|15|7|15|8|2|3|11|10|12|11|13|12|14|13|12|9|3|4|4|5|5|6|6|7|7|8"}],66:[{name:"Two Simple Spans - Thru Truss",text:"66|16|27|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|10|11|13|14|8|7|9|4|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|14|15|6|15|15|7|7|16|16|8|11|12|2|1|3|2|4|3|5|4|6|5|7|6|15|16"},{name:"Continuous Deck Truss",text:"66|14|16|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-4.0|4.0|-4.0|8.0|-4.0|16.0|-4.0|20.0|-4.0|24.0|-4.0|1|8|8|14|14|10|10|1|2|10|10|3|3|11|11|4|4|9|4|12|12|5|5|6|5|13|13|6|6|14|14|7"},{name:"Continuous Thru Truss",text:"66|16|28|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|10|11|13|14|8|7|9|4|1|10|10|2|2|11|11|3|3|12|12|4|4|13|13|5|5|14|14|6|14|15|6|15|15|7|7|16|16|8|11|12|2|1|3|2|4|3|5|4|6|5|7|6|15|16|12|13"}],67:[{name:"Two Simple Spans - Deck Truss",text:"67|15|17|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|26.0|-4.0|1|8|8|15|15|12|11|9|9|1|9|2|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|14|7|7|15"},{name:"Two Simple Spans - Thru Truss",text:"67|15|17|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|9|11|12|15|15|8|8|1|1|9|9|2|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|14|7|7|15"},{name:"Continuous Thru Truss",text:"67|15|18|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|26.0|4.0|9|11|12|15|15|8|8|1|1|9|9|2|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|14|7|7|15|11|12"}],68:[{name:"Continuous Thru Truss",text:"68|14|24|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|12.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|9|10|12|13|14|7|7|6|1|9|9|2|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|8|4|10|11|13|14|2|1|3|2|4|3|5|4|6|5|11|12"},{name:"Continuous Deck Truss",text:"68|12|13|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|12.0|-4.0|4.0|-4.0|8.0|-4.0|16.0|-4.0|20.0|-4.0|1|7|7|12|12|9|9|1|2|9|9|3|3|10|10|4|4|8|4|11|5|12|12|6|5|11"},{name:"Two Simple Spans - Thru Truss",text:"68|14|23|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|12.0|-4.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|9|10|12|13|14|7|7|6|1|9|9|2|2|10|10|3|3|11|11|4|4|12|12|5|5|13|13|6|6|14|8|4|10|11|13|14|2|1|3|2|4|3|5|4|6|5"}],69:[{name:"Continuous Deck Truss",text:"69|13|15|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|2.0|-4.0|6.0|-4.0|10.0|-4.0|14.0|-4.0|18.0|-4.0|22.0|-4.0|1|7|7|13|13|11|10|8|1|8|8|2|2|9|9|3|3|10|10|4|4|11|11|5|5|12|12|6|6|13"},{name:"Two Simple Spans - Thru Truss",text:"69|13|22|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|8|9|11|12|13|7|7|6|1|8|8|2|2|9|9|3|3|10|10|4|4|11|11|5|5|12|12|6|6|13|9|10|12|13|2|1|3|2|4|3|5|4|6|5"},{name:"Continuous Thru Truss",text:"69|13|23|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|22.0|4.0|8|9|11|12|13|7|7|6|1|8|8|2|2|9|9|3|3|10|10|4|4|11|11|5|5|12|12|6|6|13|9|10|12|13|2|1|3|2|4|3|5|4|6|5|10|11"}],70:[{name:"Continuous Thru Truss",text:"70|11|19|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|7|8|9|10|6|5|1|7|7|2|2|8|8|3|3|9|9|4|4|10|10|5|5|11|11|6|10|11|2|1|3|2|4|3|5|4|8|9"},{name:"Two Simple Spans - Thru Truss",text:"70|11|18|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|2.0|4.0|6.0|4.0|10.0|4.0|14.0|4.0|18.0|4.0|7|8|9|10|6|5|1|7|7|2|2|8|8|3|3|9|9|4|4|10|10|5|5|11|11|6|10|11|2|1|3|2|4|3|5|4"}],71:[{name:"Warren Truss - Suspension",text:"71|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-24.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],72:[{name:"Warren Truss - Suspension",text:"72|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-20.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|42.0|-2.0|38.0|-2.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|12|25|25|11|11|26|26|10|10|27|27|9|28|9|28|8|8|29|29|7|7|30|30|6|6|31|31|5|5|32|32|4|4|33|33|3|3|34|34|2|2|35|35|1|1|2|25|26|16|2|3|17|18|4|5|19|20|6|7|21|22|8|9|23|24|10|2|3|26|27|3|4|27|28|4|5|28|29|5|6|29|30|6|7|30|31|7|8|31|32|8|9|32|33|9|10|33|34|10|11|34|35|11|12|6|13"}],73:[{name:"Warren Truss - Suspension",text:"73|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-16.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],74:[{name:"Warren Truss - Suspension",text:"74|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-12.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],75:[{name:"Warren Truss - Suspension",text:"75|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-8.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],76:[{name:"Warren Truss - Suspension",text:"76|35|63|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|-4.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11|11|12"}],77:[{name:"Warren Truss - Suspension",text:"77|35|62|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|44.0|0.0|20.0|0.0|-8.0|0.0|52.0|0.0|4.0|1.5|8.0|2.5|12.0|4.0|16.0|6.0|20.0|8.0|24.0|6.0|28.0|4.0|32.0|2.5|36.0|1.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|42.0|-2.0|1|2|12|35|35|34|1|25|25|2|2|26|26|3|3|27|27|4|4|28|28|5|5|29|29|6|6|30|30|7|7|31|31|8|8|32|32|9|9|33|33|10|10|34|34|11|11|35|14|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|24|24|15|16|2|17|3|18|4|19|5|20|6|21|7|22|8|23|9|24|10|2|3|26|25|27|26|28|27|29|28|30|29|31|30|32|31|33|32|34|33|6|13|3|4|4|5|5|6|6|7|7|8|8|9|9|10|10|11"}],78:[{name:"Warren Truss - Suspension",text:"78|33|58|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-20.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|10|11|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],79:[{name:"Warren Truss - Suspension",text:"79|33|58|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-16.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|10|11|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],80:[{name:"Warren Truss - Suspension",text:"80|33|58|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-12.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|10|11|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],81:[{name:"Warren Truss - Suspension",text:"81|33|58|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-8.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|10|11|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],82:[{name:"Warren Truss - Suspension",text:"82|33|58|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|-4.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|10|11|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],83:[{name:"Warren Truss - Suspension",text:"83|33|57|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|40.0|0.0|20.0|0.0|-8.0|0.0|48.0|0.0|4.0|3.0|8.0|4.5|12.0|6.5|16.0|9.0|20.0|12.0|24.0|9.0|28.0|6.5|32.0|4.5|36.0|3.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|34.0|-2.0|38.0|-2.0|13|15|15|16|16|17|17|18|18|19|19|20|20|21|21|22|22|23|23|14|1|2|19|6|24|25|1|24|24|2|2|25|25|3|3|26|26|4|4|27|27|5|5|28|28|6|6|29|29|7|7|30|30|8|8|31|31|9|9|32|32|10|10|33|33|11|2|3|6|12|25|26|3|4|26|27|4|5|27|28|5|6|6|7|29|30|7|8|30|31|8|9|31|32|9|10|32|33|15|2|16|3|17|4|18|5|20|7|21|8|22|9|23|10"}],84:[{name:"Warren Truss - Suspension",text:"84|30|52|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-16.0|-8.0|0.0|44.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|9.0|24.0|6.5|28.0|4.5|32.0|3.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|1|2|10|22|22|23|27|28|1|30|30|2|2|29|29|3|3|28|28|4|4|27|27|5|5|26|26|6|6|25|25|7|7|24|24|8|8|23|23|9|9|22|12|14|14|2|14|15|15|3|15|16|16|4|16|17|17|5|17|18|18|6|18|19|19|7|19|20|20|8|20|21|21|9|21|13|5|11|2|3|23|24|28|29|3|4|24|25|29|30|4|5|25|26|5|6|6|7|7|8|8|9|9|10"}],85:[{name:"Warren Truss - Suspension",text:"85|30|52|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-12.0|-8.0|0.0|44.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|9.0|24.0|6.5|28.0|4.5|32.0|3.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|1|2|10|22|22|23|27|28|1|30|30|2|2|29|29|3|3|28|28|4|4|27|27|5|5|26|26|6|6|25|25|7|7|24|24|8|8|23|23|9|9|22|12|14|14|2|14|15|15|3|15|16|16|4|16|17|17|5|17|18|18|6|18|19|19|7|19|20|20|8|20|21|21|9|21|13|5|11|2|3|23|24|28|29|3|4|24|25|29|30|4|5|25|26|5|6|6|7|7|8|8|9|9|10"}],86:[{name:"Warren Truss - Suspension",text:"86|30|52|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-8.0|-8.0|0.0|44.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|9.0|24.0|6.5|28.0|4.5|32.0|3.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|1|2|10|22|22|23|27|28|1|30|30|2|2|29|29|3|3|28|28|4|4|27|27|5|5|26|26|6|6|25|25|7|7|24|24|8|8|23|23|9|9|22|12|14|14|2|14|15|15|3|15|16|16|4|16|17|17|5|17|18|18|6|18|19|19|7|19|20|20|8|20|21|21|9|21|13|5|11|2|3|23|24|28|29|3|4|24|25|29|30|4|5|25|26|5|6|6|7|7|8|8|9|9|10"}],87:[{name:"Warren Truss - Suspension",text:"87|30|52|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|-4.0|-8.0|0.0|44.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|9.0|24.0|6.5|28.0|4.5|32.0|3.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|1|2|10|22|22|23|27|28|1|30|30|2|2|29|29|3|3|28|28|4|4|27|27|5|5|26|26|6|6|25|25|7|7|24|24|8|8|23|23|9|9|22|12|14|14|2|14|15|15|3|15|16|16|4|16|17|17|5|17|18|18|6|18|19|19|7|19|20|20|8|20|21|21|9|21|13|5|11|2|3|23|24|28|29|3|4|24|25|29|30|4|5|25|26|5|6|6|7|7|8|8|9|9|10"}],88:[{name:"Warren Truss - Suspension",text:"88|30|51|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|36.0|0.0|16.0|0.0|-8.0|0.0|44.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|9.0|24.0|6.5|28.0|4.5|32.0|3.0|34.0|-2.0|30.0|-2.0|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|1|2|10|22|22|23|27|28|1|30|30|2|2|29|29|3|3|28|28|4|4|27|27|5|5|26|26|6|6|25|25|7|7|24|24|8|8|23|23|9|9|22|12|14|14|2|14|15|15|3|15|16|16|4|16|17|17|5|17|18|18|6|18|19|19|7|19|20|20|8|20|21|21|9|21|13|5|11|2|3|23|24|28|29|3|4|24|25|29|30|4|5|25|26|5|6|6|7|7|8|8|9"}],89:[{name:"Warren Truss - Suspension",text:"89|27|46|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-12.0|-8.0|0.0|40.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|8.5|24.0|5.5|28.0|3.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|11|13|13|14|14|15|15|16|16|17|17|18|18|19|19|12|9|8|1|20|20|21|24|25|9|27|27|8|8|26|26|7|7|25|25|6|6|24|24|5|5|23|23|4|4|22|22|3|3|21|21|2|2|20|2|1|3|2|4|3|5|4|6|5|7|6|8|7|21|22|25|26|22|23|26|27|13|2|14|3|15|4|16|5|17|6|18|7|19|8|5|10"}],90:[{name:"Warren Truss - Suspension",text:"90|27|46|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-8.0|-8.0|0.0|40.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|8.5|24.0|5.5|28.0|3.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|11|13|13|14|14|15|15|16|16|17|17|18|18|19|19|12|9|8|1|20|20|21|24|25|9|27|27|8|8|26|26|7|7|25|25|6|6|24|24|5|5|23|23|4|4|22|22|3|3|21|21|2|2|20|2|1|3|2|4|3|5|4|6|5|7|6|8|7|21|22|25|26|22|23|26|27|13|2|14|3|15|4|16|5|17|6|18|7|19|8|5|10"}],91:[{name:"Warren Truss - Suspension",text:"91|27|46|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|-4.0|-8.0|0.0|40.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|8.5|24.0|5.5|28.0|3.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|11|13|13|14|14|15|15|16|16|17|17|18|18|19|19|12|9|8|1|20|20|21|24|25|9|27|27|8|8|26|26|7|7|25|25|6|6|24|24|5|5|23|23|4|4|22|22|3|3|21|21|2|2|20|2|1|3|2|4|3|5|4|6|5|7|6|8|7|21|22|25|26|22|23|26|27|13|2|14|3|15|4|16|5|17|6|18|7|19|8|5|10"}],92:[{name:"Warren Truss - Suspension",text:"92|27|45|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|32.0|0.0|16.0|0.0|-8.0|0.0|40.0|0.0|4.0|3.5|8.0|5.5|12.0|8.5|16.0|12.0|20.0|8.5|24.0|5.5|28.0|3.5|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|26.0|-2.0|30.0|-2.0|11|13|13|14|14|15|15|16|16|17|17|18|18|19|19|12|9|8|1|20|20|21|24|25|9|27|27|8|8|26|26|7|7|25|25|6|6|24|24|5|5|23|23|4|4|22|22|3|3|21|21|2|2|20|2|1|3|2|4|3|5|4|6|5|7|6|8|7|21|22|25|26|22|23|26|27|13|2|14|3|15|4|16|5|17|6|18|7|19|8"}],93:[{name:"Warren Truss - Suspension",text:"93|24|31|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-8.0|-8.0|0.0|36.0|0.0|4.0|4.0|8.0|6.5|12.0|11.0|16.0|7.0|20.0|4.0|24.0|2.5|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|22|24|24|1|1|8|8|18|18|21|24|2|2|23|23|3|3|22|22|4|4|21|21|5|5|20|20|6|6|19|19|7|7|18|11|17|17|16|16|15|15|14|14|13|13|12|12|10|12|2|13|3|14|4|15|5|16|6|17|7|4|9"}],94:[{name:"Warren Truss - Suspension",text:"94|24|31|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|-4.0|-8.0|0.0|36.0|0.0|4.0|4.0|8.0|6.5|12.0|11.0|16.0|7.0|20.0|4.0|24.0|2.5|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|22|24|24|1|1|8|8|18|18|21|24|2|2|23|23|3|3|22|22|4|4|21|21|5|5|20|20|6|6|19|19|7|7|18|11|17|17|16|16|15|15|14|14|13|13|12|12|10|12|2|13|3|14|4|15|5|16|6|17|7|4|9"}],95:[{name:"Warren Truss - Suspension",text:"95|24|30|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|28.0|0.0|12.0|0.0|-8.0|0.0|36.0|0.0|4.0|4.0|8.0|6.5|12.0|11.0|16.0|7.0|20.0|4.0|24.0|2.5|26.0|-2.0|22.0|-2.0|18.0|-2.0|14.0|-2.0|10.0|-2.0|6.0|-2.0|2.0|-2.0|22|24|24|1|1|8|8|18|18|21|24|2|2|23|23|3|3|22|22|4|4|21|21|5|5|20|20|6|6|19|19|7|7|18|11|17|17|16|16|15|15|14|14|13|13|12|12|10|12|2|13|3|14|4|15|5|16|6|17|7"}],96:[{name:"Warren Truss - Suspension",text:"96|21|34|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|12.0|-4.0|-8.0|0.0|32.0|0.0|4.0|4.0|8.0|7.0|12.0|11.0|16.0|7.0|20.0|4.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|1|16|16|2|2|17|17|3|3|18|18|4|4|19|19|5|5|20|20|6|6|21|21|7|7|6|16|17|19|20|10|15|15|6|15|14|14|5|14|13|13|4|13|12|12|3|12|11|11|2|11|9|2|1|3|2|4|3|5|4|6|5|17|18|20|21|4|8"}],97:[{name:"Warren Truss - Suspension",text:"97|21|33|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|24.0|0.0|12.0|0.0|-8.0|0.0|32.0|0.0|4.0|4.0|8.0|7.0|12.0|11.0|16.0|7.0|20.0|4.0|2.0|-2.0|6.0|-2.0|10.0|-2.0|14.0|-2.0|18.0|-2.0|22.0|-2.0|1|16|16|2|2|17|17|3|3|18|18|4|4|19|19|5|5|20|20|6|6|21|21|7|7|6|16|17|19|20|10|15|15|6|15|14|14|5|14|13|13|4|13|12|12|3|12|11|11|2|11|9|2|1|3|2|4|3|5|4|6|5|17|18|20|21"}],98:[{name:"Warren Truss - Suspension",text:"98|14|23|0.0|0.0|4.0|0.0|8.0|0.0|12.0|0.0|16.0|0.0|20.0|0.0|-8.0|0.0|28.0|0.0|2.0|3.5|5.5|5.5|10.5|6.0|14.5|3.5|18.0|2.0|8.0|8.0|7|9|9|10|10|14|14|11|11|12|12|13|13|8|1|2|6|13|13|5|5|12|12|4|4|11|11|3|3|10|10|2|2|9|9|1|14|3|2|3|3|4|4|5|5|6"}]};var Sr=class u{constructor(e){this.bridgeSketchDataService=e}cache=new Map;getSketchList(e){let r=e.tagGeometryOnly,t=this.cache.get(r);if(t)return t;let o=this.createModelList(e);return this.cache.set(r,o),o}getSketch(e,r){return this.getSketchList(e).find(t=>t.name===r)||ne.ABSENT}createModelList(e){let r=[ne.ABSENT];return e.isArch?e.underClearance<=16&&(r.push(this.populatePrattContinuousArch(new ne("Continuous arch - Pratt",e)),this.populateHoweContinuousArch(new ne("Continuous arch - Howe",e)),this.populateWarrenContinuousArch(new ne("Continuous arch - Warren",e))),e.loadedJointCount%2===1&&r.push(this.populatePratt3HingeArch(new ne("3-hinge arch - Pratt",e)),this.populateHowe3HingeArch(new ne("3-hinge arch - Howe",e)),this.populateWarren3HingeArch(new ne("3-hinge arch - Warren",e)))):e.anchorageCount===0&&!e.isPier?(e.overClearance>=z.PANEL_SIZE_WORLD&&r.push(this.populatePrattThruTruss(new ne("Through truss - Pratt",e)),this.populateHoweThruTruss(new ne("Through truss - Howe",e)),this.populateWarrenThruTruss(new ne("Through truss - Warren",e))),e.underClearance>=z.PANEL_SIZE_WORLD&&r.push(this.populatePrattDeckTruss(new ne("Deck truss - Pratt",e)),this.populateHoweDeckTruss(new ne("Deck truss - Howe",e)),this.populateWarrenDeckTruss(new ne("Deck truss - Warren",e)))):e.anchorageCount>0&&!e.isPier&&e.underClearance>=z.PANEL_SIZE_WORLD/2&&r.push(this.populateCableStayedWarrenTruss(new ne("Cable-stayed Warren truss",e)),this.populateSuspendedWarrenTruss(new ne("Suspended Warren truss",e))),this.bridgeSketchDataService.addSketchesFromDataForConditions(r,e),r}populatePrattThruTruss(e){return this.populatePrattThruTrussGeometry(e,z.PANEL_SIZE_WORLD)}populatePrattDeckTruss(e){return this.populateHoweThruTrussGeometry(e,-z.PANEL_SIZE_WORLD)}populateHoweThruTruss(e){return this.populateHoweThruTrussGeometry(e,z.PANEL_SIZE_WORLD)}populateHoweDeckTruss(e){return this.populatePrattThruTrussGeometry(e,-z.PANEL_SIZE_WORLD)}populateWarrenThruTruss(e){return this.populateWarrenTrussGeometry(e,z.PANEL_SIZE_WORLD)}populateWarrenDeckTruss(e){return this.populateWarrenTrussGeometry(e,-z.PANEL_SIZE_WORLD)}populatePrattContinuousArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],S=t[s+1],y=.5*(m.x+S.x),C=m.x-y,_=m.y,M=p.x-y,P=(p.y-.25*(p.y-m.y)-_)/(M*M-C*C),w=_-P*C*C,H=t.length;for(let F=a+1;F<c;F++){let Y=t[F].x-y,U=P*Y*Y+w;t.push(new Z(t[F].x,u.roundToGridIncrement(U)))}let L=t.length-1;o.push({a:t[a],b:t[s]},{a:t[s],b:t[H]});for(let F=H;F<L;F++)o.push({a:t[F],b:t[F+1]});o.push({a:t[L],b:t[s+1]},{a:t[s+1],b:t[c]});let N=a+1,k=c-1,O=H,B=L;for(;N<k;)o.push({a:t[N],b:t[O]},{a:t[N-1],b:t[O]},{a:t[k],b:t[B]},{a:t[k+1],b:t[B]}),N++,k--,O++,B--;return o.push({a:t[N-1],b:t[O]},{a:t[k+1],b:t[B]}),N===k&&o.push({a:t[N],b:t[O]}),e}populateHoweContinuousArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],S=t[s+1],y=.5*(m.x+S.x),C=m.x-y,_=m.y,M=p.x-y,P=(p.y-.25*(p.y-m.y)-_)/(M*M-C*C),w=_-P*C*C,H=t.length;for(let F=a+1;F<c;F++){let Y=t[F].x-y,U=P*Y*Y+w;t.push(new Z(t[F].x,u.roundToGridIncrement(U)))}let L=t.length-1;o.push({a:t[a],b:t[s]},{a:t[a+1],b:t[s]},{a:t[H],b:t[s]});for(let F=H;F<L;F++)o.push({a:t[F],b:t[F+1]});o.push({a:t[L],b:t[s+1]},{a:t[c-1],b:t[s+1]},{a:t[c],b:t[s+1]});let N=a+1,k=c-1,O=H,B=L;for(;N<k;)o.push({a:t[N],b:t[O]},{a:t[N+1],b:t[O]},{a:t[k-1],b:t[B]},{a:t[k],b:t[B]}),N++,k--,O++,B--;return N===k&&o.push({a:t[N],b:t[O]}),e}populateWarrenContinuousArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],S=t[s+1],y=.5*(m.x+S.x),C=m.x-y,_=m.y,M=p.x-y,P=(p.y-.25*(p.y-m.y)-_)/(M*M-C*C),w=_-P*C*C,H=t.length;for(let O=a;O<c;O++){let B=t[O].x+.5*z.PANEL_SIZE_WORLD,F=B-y,Y=P*F*F+w;t.push(new Z(B,u.roundToGridIncrement(Y)))}let L=t.length-1;o.push({a:t[a],b:t[s]},{a:t[s],b:t[H]});for(let O=H;O<L;O++)o.push({a:t[O],b:t[O+1]});o.push({a:t[L],b:t[s+1]},{a:t[s+1],b:t[c]});let N=a,k=H;for(;N<c;)o.push({a:t[N],b:t[k]},{a:t[N+1],b:t[k]}),N++,k++;return e}populatePratt3HingeArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],S=t[s+1],y=.5*(m.x+S.x),C=m.x-y,_=m.y,M=p.x-y,P=(p.y-.25*(p.y-m.y)-_)/(M*M-C*C),w=_-P*C*C,H=t.length,L=0,N=Math.trunc((a+c)/2);for(let U=a+1;U<c;U++)if(U===N)L=t.length-1;else{let ie=t[U].x-y,q=P*ie*ie+w;t.push(new Z(t[U].x,u.roundToGridIncrement(q)))}let k=t.length-1;o.push({a:t[a],b:t[s]},{a:t[s],b:t[H]});for(let U=H;U<L;U++)o.push({a:t[U],b:t[U+1]});o.push({a:t[L],b:t[N]},{a:t[N],b:t[L+1]});for(let U=L+1;U<k;U++)o.push({a:t[U],b:t[U+1]});o.push({a:t[k],b:t[s+1]},{a:t[s+1],b:t[c]});let O=a+1,B=c-1,F=H,Y=k;for(;O<B;)o.push({a:t[O],b:t[F]},{a:t[O-1],b:t[F]},{a:t[B],b:t[Y]},{a:t[B+1],b:t[Y]}),O++,B--,F++,Y--;return e}populateHowe3HingeArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],S=t[s+1],y=.5*(m.x+S.x),C=m.x-y,_=m.y,M=p.x-y,P=(p.y-.25*(p.y-m.y)-_)/(M*M-C*C),w=_-P*C*C,H=t.length;for(let U=a+1;U<c;U++)if(U!==Math.trunc((a+c)/2)){let ie=t[U].x-y,q=P*ie*ie+w;t.push(new Z(t[U].x,u.roundToGridIncrement(q)))}let L=t.length-1;o.push({a:t[a],b:t[s]},{a:t[a+1],b:t[s]},{a:t[H],b:t[s]});let N=H+1,k=L-1;for(;N<k;)o.push({a:t[N-1],b:t[N]},{a:t[k+1],b:t[k]}),N++,k--;o.push({a:t[L],b:t[s+1]},{a:t[c-1],b:t[s+1]},{a:t[c],b:t[s+1]});let O=a+1,B=c-1,F=H,Y=L;for(;O<B;)o.push({a:t[O],b:t[F]},{a:t[O+1],b:t[F]},{a:t[B-1],b:t[Y]},{a:t[B],b:t[Y]}),O++,B--,F++,Y--;return e}populateWarren3HingeArch(e){this.populateDeck(e);let r=e.designConditions,t=e.joints,o=e.members,s=r.archJointIndex,a=0,c=r.panelCount,m=t[s],p=t[Math.trunc((a+c)/2)],S=t[s+1],y=.5*(m.x+S.x),C=m.x-y,_=m.y,M=p.x-y,P=(p.y-.25*(p.y-m.y)-_)/(M*M-C*C),w=_-P*C*C,H=t.length;for(let O=a;O<c;O++){let B=t[O].x+.5*z.PANEL_SIZE_WORLD,F=B-y,Y=P*F*F+w;t.push(new Z(B,u.roundToGridIncrement(Y)))}let L=t.length-1;o.push({a:t[a],b:t[s]},{a:t[s],b:t[H]});for(let O=H;O<L;O++){let B=Math.trunc((H+L)/2);O!==B&&o.push({a:t[O],b:t[O+1]})}o.push({a:t[L],b:t[s+1]},{a:t[s+1],b:t[c]});let N=a,k=H;for(;N<c;)o.push({a:t[N],b:t[k]},{a:t[N+1],b:t[k]}),N++,k++;return e}populateCableStayedWarrenTruss(e){this.populateDeck(e),this.populateWarrenTrussGeometry(e,-z.PANEL_SIZE_WORLD/2);let r=e.designConditions,t=e.joints,o=e.members;if(r.anchorageCount>0){let s=t[0],a=t[r.panelCount+1],c=new Z(s.x,s.y+2*z.PANEL_SIZE_WORLD);t.push(c),o.push({a:c,b:s},{a:c,b:a});for(let m=1;m<=r.panelCount/2;m++)o.push({a:c,b:t[m]})}if(r.anchorageCount>1){let s=t[r.panelCount],a=t[r.panelCount+2],c=new Z(s.x,s.y+2*z.PANEL_SIZE_WORLD);t.push(c),o.push({a:c,b:s},{a:c,b:a});for(let m=1;m<=r.panelCount/2;m++)o.push({a:c,b:t[r.panelCount-m]})}return e}populateSuspendedWarrenTruss(e){this.populateDeck(e),this.populateWarrenTrussGeometry(e,-z.PANEL_SIZE_WORLD/2);let r=e.designConditions,t=e.joints,o=e.members,s=t[0],a=t[r.panelCount+1],c=new Z(s.x,s.y+2*z.PANEL_SIZE_WORLD);t.push(c),o.push({a:c,b:s},{a:c,b:a});let m=t[r.panelCount];if(r.anchorageCount===2){let p=t[r.loadedJointCount+1],S=new Z(m.x,m.y+2*z.PANEL_SIZE_WORLD);t.push(S),o.push({a:S,b:m},{a:S,b:p});let y=.5*(c.x+S.x),C=S.x-y,_=S.y,M=t[Math.trunc((r.panelCount+1)/2)],R=M.x-y,P=M.y+1,w=(P-_)/(R*R-C*C),H=P-w*R*R,L=C-z.PANEL_SIZE_WORLD,N=S;for(let k=r.panelCount-1;k>0;k--){let O=w*L*L+H,B=new Z(y+L,u.roundToGridIncrement(O));t.push(B),o.push({a:t[k],b:B},{a:N,b:B}),L-=z.PANEL_SIZE_WORLD,N=B}o.push({a:N,b:c})}if(r.anchorageCount===1){let p=m.x,S=c.x,y=c.y/j.sqr(S-p),C=p-z.PANEL_SIZE_WORLD,_=m;for(let M=r.panelCount-1;M>0;M--){let R=u.roundToGridIncrement(y*j.sqr(C-p));if(R===t[M].y)_=t[M];else{let P=new Z(C,R);t.push(P),o.push({a:t[M],b:P},{a:_,b:P}),_=P}C-=z.PANEL_SIZE_WORLD}o.push({a:_,b:c})}return e}populatePrattThruTrussGeometry(e,r){this.populateDeck(e);let t=e.designConditions,o=e.joints,s=e.members,a=0,c=t.panelCount,m=o.length;for(let M=a+1;M<c;M++)e.joints.push(new Z(o[M].x,r));let p=o.length-1;s.push({a:o[a],b:o[m]});for(let M=m;M<p;M++)s.push({a:o[M],b:o[M+1]});s.push({a:o[c],b:o[p]});let S=m,y=p,C=a+1,_=c-1;for(;S<y;)s.push({a:o[S],b:o[C]}),s.push({a:o[S],b:o[C+1]}),s.push({a:o[y],b:o[_]}),s.push({a:o[y],b:o[_-1]}),S++,y--,C++,_--;return S===y&&s.push({a:o[S],b:o[C]}),e}populateHoweThruTrussGeometry(e,r){this.populateDeck(e);let t=e.designConditions,o=e.joints,s=e.members,a=0,c=t.panelCount,m=o.length;for(let M=a+1;M<c;M++)e.joints.push(new Z(o[M].x,r));let p=o.length-1;s.push({a:o[a],b:o[m]});for(let M=m;M<p;M++)s.push({a:o[M],b:o[M+1]});s.push({a:o[c],b:o[p]});let S=m,y=p,C=a+1,_=c-1;for(;S<y;)s.push({a:o[S],b:o[C]},{a:o[S+1],b:o[C]},{a:o[y],b:o[_]},{a:o[y-1],b:o[_]}),S++,y--,C++,_--;return S===y&&s.push({a:o[S],b:o[C]}),e}populateWarrenTrussGeometry(e,r){this.populateDeck(e);let t=e.designConditions,o=e.joints,s=e.members,a=0,c=t.panelCount,m=o.length;for(let C=a;C<c;C++)o.push(new Z(o[C].x+z.PANEL_SIZE_WORLD/2,r));let p=o.length-1;for(let C=m;C<p;C++)s.push({a:o[C],b:o[C+1]});s.push({a:o[a],b:o[m]},{a:o[c],b:o[p]});let S=m,y=a;for(;S<=p;)s.push({a:o[S],b:o[y]},{a:o[S],b:o[y+1]}),S++,y++;return e}static roundToGridIncrement(e){return Math.round(e*4)*.25}populateDeck(e){let r=e.designConditions,t=e.joints,o=e.members;r.prescribedJoints.forEach(s=>t.push(s));for(let s=0;s<r.panelCount;++s)o.push({a:t[s],b:t[s+1]})}static \u0275fac=function(r){return new(r||u)(G(vr))};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};var li=class u{constructor(e){this.instance=e}static \u0275fac=function(r){return new(r||u)(G(ve))};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})},Nn=class u{key="bridge.service";static \u0275fac=function(r){return new(r||u)};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})},ve=class u{constructor(e,r,t,o){this.persistenceService=e;this.bridgeSketchService=t;o.register(r.key,()=>this.dehydrate(),s=>this.rehydrate(s))}_bridge=new jt(we.PLACEHOLDER_CONDITIONS);_sketch=ne.ABSENT;_siteInfo=new B0(this.bridge.designConditions);_draftingPanelState=h0.createNew();get bridge(){return this._bridge}get draftingPanelState(){return this._draftingPanelState}setBridge(e,r){e.designConditions.tagGeometryOnly!==this.designConditions.tagGeometryOnly&&(this._sketch=ne.ABSENT),this._bridge=e,this._draftingPanelState=r}get sketch(){return this._sketch}set sketch(e){(e===ne.ABSENT||e.designConditions.tagGeometryOnly===this.designConditions.tagGeometryOnly)&&(this._sketch=e)}get designConditions(){return this.bridge.designConditions}get siteInfo(){return this._siteInfo.designConditions!==this.designConditions&&(this._siteInfo=new B0(this.bridge.designConditions)),this._siteInfo}findJointAt(e){for(let r of this.bridge.joints)if(r.isAt(e))return r}findMembersWithJoint(e){return this.bridge.members.filter(r=>r.hasJoint(e))}findConnectedJoints(e){return this.findMembersWithJoint(e).map(r=>r.getOtherJoint(e))}hasAnyMembers(e){return this.bridge.members.some(r=>r.hasJoint(e))}getMemberWithJoints(e,r){return this.bridge.members.find(t=>t.hasJoints(e,r))}getWorldExtent(e=vt.createEmpty()){return e.setToExtent(this.bridge.joints)}getMostCommonStockId(){let e=new Map,r=-1,t=Re.USEFUL_STOCK;for(let o of this.bridge.members){let s=o.stockId,a=s.key,c=e.get(a),m;c===void 0?(e.set(a,[s,1]),m=1):m=++c[1],m>r&&(r=m,t=s)}return t}getUsefulStockId(e){let r=this.bridge.members;if(r.length===0)return Re.USEFUL_STOCK;let t=Array.from(e);if(t.length===0)return this.getMostCommonStockId();let o=r[t[0]],s=o.material.index,a=o.shape.section.index,c=o.shape.sizeIndex;for(let m=1;m<t.length;++m){let p=r[t[m]];p.material.index!==s&&(s=-1),p.shape.section.index!==a&&(a=-1),p.shape.sizeIndex!==c&&(c=-1)}return s===void 0?this.getMostCommonStockId():new Jt(s,a,c)}getMemberSizesMmSorted(){return this.bridge.members.map(e=>e.materialSizeMm).sort((e,r)=>e-r)}getAllowedShapeChangeMask(e){let r=0,t=this.bridge.members;for(let o of e)if(r|=Re.getAllowedShapeChangeMask(t[o].shape),r===3)break;return r}getJointsForMembersDeletion(e){let r=this.bridge.members,t=new Set;return e.forEach(o=>{let s=r[o].a;s.isFixed||t.add(s.index);let a=r[o].b;a.isFixed||t.add(a.index)}),this.bridge.members.forEach(o=>{e.has(o.index)||(t.delete(o.a.index),t.delete(o.b.index))}),Array.from(t).sort((o,s)=>o-s).map(o=>this.bridge.joints[o])}canonicalCursorRect=vt.createEmpty();getMembersTouchingRectangle(e){return e.copyTo(this.canonicalCursorRect).makeCanonical(),this.bridge.members.filter(r=>this.canonicalCursorRect.touchesLineSegment(r.a,r.b))}getMembersInsideRectangle(e){return this.bridge.members.filter(r=>e.containsPoint(r.a)&&e.containsPoint(r.b))}partitionMembersByStock(){let e={};for(let t of this.bridge.members){let o=t.stockId.key;e[o]||=[],e[o].push(t)}let r=Object.entries(e);for(let t of r)t[1].sort((o,s)=>o.index-s.index);return r.sort((t,o)=>t[0].localeCompare(o[0],"en-US")).map(t=>t[1])}isMemberIntersectingHighPier(e,r){if(!this.designConditions.isHiPier||e.x===r.x)return!1;let t=this.bridge.joints[this.designConditions.pierJointIndex];if(e.x<t.x&&r.x<t.x||e.x>t.x&&r.x>t.x)return!1;let o=(r.y-e.y)/(r.x-e.x);return e.y+o*(t.x-e.x)<t.y-.01}isMovedJointIntersectingHighPier(e,r){return this.findMembersWithJoint(e).map(t=>t.getOtherJoint(e)).some(t=>this.isMemberIntersectingHighPier(r,t))}isMemberPassingSlendernessCheck(e){return e.slenderness<=this.designConditions.allowableSlenderness}get isPassingSlendernessCheck(){let e=this.designConditions.allowableSlenderness;for(let r of this.bridge.members)if(r.slenderness>e)return!1;return!0}get maxDeckMemberSizeMm(){let e=0;for(let r of this.bridge.members)r.materialSizeMm<=e||r.a.y>0&&r.b.y>0||r.a.y<0&&r.b.y<0||r.a.index===this.designConditions.leftAnchorageJointIndex||r.b.index===this.designConditions.leftAnchorageJointIndex||r.a.index===this.designConditions.rightAnchorageJointIndex||r.b.index===this.designConditions.rightAnchorageJointIndex||(e=r.materialSizeMm);return e}get bridgeHalfWidth(){return $.DECK_HALF_WIDTH+this.maxDeckMemberSizeMm*.001+2*$.GUSSET_THICKNESS}get trussCenterlineOffset(){return $.DECK_HALF_WIDTH+this.maxDeckMemberSizeMm*5e-4+$.GUSSET_THICKNESS}static isJointClearOfRoadway(e){return e.y<=0||e.y>=$.MIN_ROADWAY_CLEARANCE}get membersNotTransectingRoadwayClearance(){let e=new zn(this.bridge.members.length),r=$.MIN_ROADWAY_CLEARANCE;for(let t of this.bridge.members)(t.a.y>=r&&t.b.y>=r||t.a.y<=0&&t.b.y<=0)&&e.setBit(t.index);return e}get saveSet(){return xt.create(this.bridge,this.draftingPanelState)}get saveSetText(){return this.persistenceService.getSaveSetAsText(this.saveSet)}dehydrate(){return{saveSetText:this.saveSetText,sketchName:this.sketch.name}}rehydrate(e){let r=xt.createNew();this.persistenceService.parseSaveSetText(e.saveSetText,r),this.setBridge(r.bridge,r.draftingPanelState),this.sketch=this.bridgeSketchService.getSketch(this.designConditions,e.sketchName)}static \u0275fac=function(r){return new(r||u)(G($t),G(Nn),G(Sr),G(gt))};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};var Tr=class u{selectedElements={selectedJoints:new Set,selectedMembers:new Set};getSelectedJoint(e){if(this.selectedElements.selectedJoints.size!==0)for(let r of this.selectedElements.selectedJoints)return e.joints[r]}get isSelectionEmpty(){return this.selectedElements.selectedJoints.size===0&&this.selectedElements.selectedMembers.size===0}isJointSelected(e){return this.selectedElements.selectedJoints.has(e.index)}isMemberSelected(e){return this.selectedElements.selectedMembers.has(e.index)}selectJoint(e,r=!1){(!r||!this.selectedElements.selectedJoints.delete(e))&&this.selectedElements.selectedJoints.add(e)}selectMember(e,r=!1){(!r||!this.selectedElements.selectedMembers.delete(e))&&this.selectedElements.selectedMembers.add(e)}static \u0275fac=function(r){return new(r||u)};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};var xr=class u{constructor(e,r,t,o,s){this.bridgeService=e;this.inventoryService=r;this.selectedElementsService=t;this.undoManagerService=s;o.register("undoManager.service",()=>this.dehydrate(),a=>this.rehydrate(a))}rehydrateEditCommand(e,r){switch(r.tag){case"add-joint":return cr.rehydrate(e,r,this.bridgeService.bridge,this.selectedElementsService.selectedElements);case"add-member":return ur.rehydrate(e,r,this.bridgeService.bridge,this.selectedElementsService.selectedElements);case"change-members":return lr.rehydrate(e,r,this.bridgeService.bridge);case"delete-joint":return dr.rehydrate(e,r,this.bridgeService.bridge,this.selectedElementsService.selectedElements);case"delete-members":return pr.rehydrate(e,r,this.bridgeService.bridge,this.selectedElementsService.selectedElements);case"move-joint":return mr.rehydrate(e,r,this.bridgeService.bridge,this.selectedElementsService.selectedElements);case"move-labels":return hr.rehydrate(r,this.bridgeService.draftingPanelState);case"placeholder":return new d0("Cancel");default:return j.assertNever(r.tag)}}dehydrate(){let e=br.forBridge(this.bridgeService.bridge),r=this.undoManagerService.done.map(s=>s.dehydrate(e)),t=this.undoManagerService.undone.map(s=>s.dehydrate(e));return{context:e.dehydrate(),done:r,undone:t}}rehydrate(e){let r=fr.create(e.context,this.bridgeService.bridge,this.inventoryService),t=this.undoManagerService;e.done.forEach(o=>t.done.pushRight(this.rehydrateEditCommand(r,o))),e.undone.forEach(o=>t.undone.pushRight(this.rehydrateEditCommand(r,o)))}static \u0275fac=function(r){return new(r||u)(G(ve),G(Re),G(Tr),G(gt),G(yt))};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};var L0=class u{savedMark=yt.NO_EDIT_COMMAND;_fileName;undoManagerService;constructor(e,r,t){this.undoManagerService=t.undoManagerService,e.loadBridgeCompletion.subscribe(()=>{this.savedMark=yt.NO_EDIT_COMMAND,this._fileName=void 0}),r.register("savemark.service",()=>this.dehydrate(),o=>this.rehydrate(o))}get isDesignUnsaved(){return this.undoManagerService.stateToken!==this.savedMark}get savedFileName(){return this._fileName}markDesignSaved(e){this.savedMark=this.undoManagerService.stateToken,this._fileName=e,this.setDocumentTitle(e)}setDocumentTitle(e){document.title=e.replace(/\.bdc$/,"")}dehydrate(){return{stateTokenIndex:this.undoManagerService.findStateTokenIndex(this.savedMark),fileName:this._fileName}}rehydrate(e){if(e.stateTokenIndex!==void 0){let r=this.undoManagerService.getStateToken(e.stateTokenIndex);this.savedMark=r??yt.NO_EDIT_COMMAND}this._fileName=e.fileName,e.fileName!==void 0&&this.setDocumentTitle(e.fileName)}static \u0275fac=function(r){return new(r||u)(G(it),G(gt),G(xr))};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};var pi="MyBridge.bdc",di="bridge-design",mi="documents",hi=[{description:"Bridge design",accept:{"text/plain":[".bdc"]}}],On=class u{constructor(e,r,t,o){this.bridgeService=e;this.eventBrokerService=r;this.persistenceService=t;this.saveMarkService=o}saveBridgeFile(e,r){return Ce(this,null,function*(){let t=this.saveMarkService.savedFileName??pi;if(e||this.saveMarkService.savedFileName===void 0)try{t=yield r(t)}catch{throw new Ne("noError")}let o=this.bridgeService.saveSetText,s=new Blob([o],{type:"text/plain"}),a=window.document.createElement("a"),c=window.URL.createObjectURL(s);a.href=c,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(a.href),this.saveMarkService.markDesignSaved(t),this.eventBrokerService.toastRequest.next({origin:16,data:"fileSaveSuccess"})})}loadBridgeFile(){return Ce(this,null,function*(){let e=window.document.createElement("input");e.type="file",e.accept=".bdc",document.body.appendChild(e),e.addEventListener("change",r=>{let t=r.target.files?.item(0);if(!t)return;let o=new FileReader;o.onerror=()=>{throw new Ne("fileReadError")},o.onload=()=>{let s=o.result,a=xt.createNew();this.persistenceService.parseSaveSetText(s,a),this.eventBrokerService.loadBridgeRequest.next({origin:16,data:a}),this.saveMarkService.markDesignSaved(t.name)},o.readAsText(t)}),e.click(),document.body.removeChild(e)})}static \u0275fac=function(r){return new(r||u)(G(ve),G(it),G($t),G(L0))};static \u0275prov=V({token:u,factory:u.\u0275fac})},kn=class u{constructor(e,r,t,o){this.bridgeService=e;this.eventBrokerService=r;this.persistenceService=t;this.saveMarkService=o}currentFileHandle;saveBridgeFile(e=!1){return Ce(this,null,function*(){try{(e||!this.currentFileHandle||this.saveMarkService.savedFileName===void 0)&&(this.currentFileHandle=yield this.getSaveFile(this.saveMarkService.savedFileName??pi));let r=yield this.currentFileHandle.createWritable(),t=this.bridgeService.saveSetText;yield r.write(t),yield r.close(),this.saveMarkService.markDesignSaved(this.currentFileHandle.name),this.eventBrokerService.toastRequest.next({origin:16,data:"fileSaveSuccess"})}catch(r){throw new Ne(this.isUserCancel(r)?"noError":"fileWriteError")}})}loadBridgeFile(){return Ce(this,null,function*(){let e=yield this.doLoad(),r=xt.createNew();this.persistenceService.parseSaveSetText(e,r),this.eventBrokerService.loadBridgeRequest.next({origin:16,data:r})})}doLoad(){return Ce(this,null,function*(){let e={id:di,startIn:mi,types:hi};try{let[r]=yield window.showOpenFilePicker(e),t=yield r.getFile();return this.saveMarkService.markDesignSaved(t.name),t.text()}catch(r){throw new Ne(this.isUserCancel(r)?"noError":"fileReadError")}})}isUserCancel(e){return e instanceof DOMException&&e.name==="AbortError"}getSaveFile(e){return Ce(this,null,function*(){let r={id:di,startIn:mi,suggestedName:e,types:hi};return yield window.showSaveFilePicker(r)})}static \u0275fac=function(r){return new(r||u)(G(ve),G(it),G($t),G(L0))};static \u0275prov=V({token:u,factory:u.\u0275fac})};function no(){return["showSaveFilePicker","showOpenFilePicker"].every(u=>u in window)}var W1={provide:"SaveLoadService",useClass:no()?kn:On};var Bn=Array(),io=["cube","cylinder","sphere","tetrahedron","extrude","revolve","compose","union","difference","intersection","levelSet","smooth","ofMesh","hull"],oo=["add","subtract","intersect","decompose","warp","transform","translate","rotate","scale","mirror","calculateCurvature","calculateNormals","smoothByNormals","smoothOut","refine","refineToLength","refineToTolerance","setProperties","setTolerance","simplify","asOriginal","trimByPlane","split","splitByPlane","slice","project","hull"],so=["square","circle","union","difference","intersection","compose","ofPolygons","hull"],ao=["add","subtract","intersect","rectClip","decompose","transform","translate","rotate","scale","mirror","simplify","offset","hull"],Hn=()=>{for(let u of Bn)if(u instanceof Array)for(let e of u)e.delete();else u.delete();Bn.length=0},co=u=>(...e)=>{let r=u(...e);return Bn.push(r),r},Er=(u,e)=>{for(let r of e){let t=u[r];u[r]=co(t)}},bi=u=>(Er(u.Manifold,io),Er(u.Manifold.prototype,oo),Er(u.CrossSection,so),Er(u.CrossSection.prototype,ao),u);var uo=(()=>{var u=import.meta.url;return function(){return Ce(this,arguments,function*(e={}){var r,t=e,o,s,a=new Promise((n,i)=>{o=n,s=i}),c=typeof window=="object",m=typeof importScripts=="function",p=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(p){let{createRequire:n}=yield import("module");var S=n(import.meta.url)}var y=!1;t.setup=function(){if(y)return;y=!0,t.initTBB();function n(h,f,T=A=>A){if(f)for(let A of f)h.push_back(T(A));return h}function i(h,f=T=>T){let T=[],A=h.size();for(let W=0;W<A;W++)T.push(f(h.get(W)));return T}function l(h,f=T=>T){let T=[],A=h.size();for(let W=0;W<A;W++){let Q=h.get(W),se=Q.size(),De=[];for(let me=0;me<se;me++)De.push(f(Q.get(me)));T.push(De)}return T}function d(h){return h[0].length<3&&(h=[h]),n(new t.Vector2_vec2,h,f=>n(new t.Vector_vec2,f,T=>T instanceof Array?{x:T[0],y:T[1]}:T))}function b(h){for(let f=0;f<h.size();f++)h.get(f).delete();h.delete()}function g(h){return h[0]instanceof Array?{x:h[0][0],y:h[0][1]}:typeof h[0]=="number"?{x:h[0]||0,y:h[1]||0}:h[0]}function x(h){return h[0]instanceof Array?{x:h[0][0],y:h[0][1],z:h[0][2]}:typeof h[0]=="number"?{x:h[0]||0,y:h[1]||0,z:h[2]||0}:h[0]}function v(h){return h=="EvenOdd"?0:h=="NonZero"?1:h=="Negative"?3:2}function E(h){return h=="Round"?1:h=="Miter"?2:0}let D=t.CrossSection;function I(h,f="Positive"){if(h instanceof D)return h;{let T=d(h),A=new D(T,v(f));return b(T),A}}t.CrossSection.prototype.translate=function(...h){return this._Translate(g(h))},t.CrossSection.prototype.scale=function(h){return typeof h=="number"?this._Scale({x:h,y:h}):this._Scale(g([h]))},t.CrossSection.prototype.mirror=function(h){return this._Mirror(g([h]))},t.CrossSection.prototype.warp=function(h){let f=w0(function(A){let W=xe(A,"double"),Q=xe(A+8,"double"),se=[W,Q];h(se),ct(A,se[0],"double"),ct(A+8,se[1],"double")},"vi"),T=this._Warp(f);return N0(f),T},t.CrossSection.prototype.decompose=function(){let h=this._Decompose(),f=i(h);return h.delete(),f},t.CrossSection.prototype.bounds=function(){let h=this._Bounds();return{min:["x","y"].map(f=>h.min[f]),max:["x","y"].map(f=>h.max[f])}},t.CrossSection.prototype.offset=function(h,f="Round",T=2,A=0){return this._Offset(h,E(f),T,A)},t.CrossSection.prototype.simplify=function(h=1e-6){return this._Simplify(h)},t.CrossSection.prototype.extrude=function(h,f=0,T=0,A=[1,1],W=!1){A=g([A]);let Q=t._Extrude(this._ToPolygons(),h,f,T,A);return W?Q.translate([0,0,-h/2]):Q},t.CrossSection.prototype.revolve=function(h=0,f=360){return t._Revolve(this._ToPolygons(),h,f)},t.CrossSection.prototype.add=function(h){return this._add(I(h))},t.CrossSection.prototype.subtract=function(h){return this._subtract(I(h))},t.CrossSection.prototype.intersect=function(h){return this._intersect(I(h))},t.CrossSection.prototype.toPolygons=function(){let h=this._ToPolygons(),f=l(h,T=>[T.x,T.y]);return h.delete(),f},t.Manifold.prototype.smoothOut=function(h=60,f=0){return this._SmoothOut(h,f)},t.Manifold.prototype.warp=function(h){let f=w0(function(W){let Q=xe(W,"double"),se=xe(W+8,"double"),De=xe(W+16,"double"),me=[Q,se,De];h(me),ct(W,me[0],"double"),ct(W+8,me[1],"double"),ct(W+16,me[2],"double")},"vi"),T=this._Warp(f);N0(f);let A=T.status();if(A!=="NoError")throw new t.ManifoldError(A);return T},t.Manifold.prototype.calculateNormals=function(h,f=60){return this._CalculateNormals(h,f)},t.Manifold.prototype.setProperties=function(h,f){let T=this.numProp(),A=w0(function(Q,se,De){let me=[];for(let ae=0;ae<h;++ae)me[ae]=xe(Q+8*ae,"double");let u0=[];for(let ae=0;ae<3;++ae)u0[ae]=xe(se+8*ae,"double");let l0=[];for(let ae=0;ae<T;++ae)l0[ae]=xe(De+8*ae,"double");f(me,u0,l0);for(let ae=0;ae<h;++ae)ct(Q+8*ae,me[ae],"double")},"viii"),W=this._SetProperties(h,A);return N0(A),W},t.Manifold.prototype.translate=function(...h){return this._Translate(x(h))},t.Manifold.prototype.rotate=function(h,f,T){return Array.isArray(h)?this._Rotate(...h):this._Rotate(h,f||0,T||0)},t.Manifold.prototype.scale=function(h){return typeof h=="number"?this._Scale({x:h,y:h,z:h}):this._Scale(x([h]))},t.Manifold.prototype.mirror=function(h){return this._Mirror(x([h]))},t.Manifold.prototype.trimByPlane=function(h,f=0){return this._TrimByPlane(x([h]),f)},t.Manifold.prototype.slice=function(h=0){let f=this._Slice(h),T=new D(f,v("Positive"));return b(f),T},t.Manifold.prototype.project=function(){let h=this._Project(),f=new D(h,v("Positive"));return b(h),f},t.Manifold.prototype.split=function(h){let f=this._Split(h),T=i(f);return f.delete(),T},t.Manifold.prototype.splitByPlane=function(h,f=0){let T=this._SplitByPlane(x([h]),f),A=i(T);return T.delete(),A},t.Manifold.prototype.decompose=function(){let h=this._Decompose(),f=i(h);return h.delete(),f},t.Manifold.prototype.boundingBox=function(){let h=this._boundingBox();return{min:["x","y","z"].map(f=>h.min[f]),max:["x","y","z"].map(f=>h.max[f])}};class J{constructor({numProp:f=3,triVerts:T=new Uint32Array,vertProperties:A=new Float32Array,mergeFromVert:W,mergeToVert:Q,runIndex:se,runOriginalID:De,faceID:me,halfedgeTangent:u0,runTransform:l0}={}){this.numProp=f,this.triVerts=T,this.vertProperties=A,this.mergeFromVert=W,this.mergeToVert=Q,this.runIndex=se,this.runOriginalID=De,this.faceID=me,this.halfedgeTangent=u0,this.runTransform=l0}get numTri(){return this.triVerts.length/3}get numVert(){return this.vertProperties.length/this.numProp}get numRun(){return this.runOriginalID.length}merge(){let{changed:f,mesh:T}=t._Merge(this);return Object.assign(this,Un({},T)),f}verts(f){return this.triVerts.subarray(3*f,3*(f+1))}position(f){return this.vertProperties.subarray(this.numProp*f,this.numProp*f+3)}extras(f){return this.vertProperties.subarray(this.numProp*f+3,this.numProp*(f+1))}tangent(f){return this.halfedgeTangent.subarray(4*f,4*(f+1))}transform(f){let T=new Array(16);for(let A of[0,1,2,3])for(let W of[0,1,2])T[4*A+W]=this.runTransform[12*f+3*A+W];return T[15]=1,T}}t.Mesh=J,t.Manifold.prototype.getMesh=function(h=-1){return new J(this._GetMeshJS(h))},t.ManifoldError=function(f,...T){let A="Unknown error";switch(f){case"NonFiniteVertex":A="Non-finite vertex";break;case"NotManifold":A="Not manifold";break;case"VertexOutOfBounds":A="Vertex index out of bounds";break;case"PropertiesWrongLength":A="Properties have wrong length";break;case"MissingPositionProperties":A="Less than three properties";break;case"MergeVectorsDifferentLengths":A="Merge vectors have different lengths";break;case"MergeIndexOutOfBounds":A="Merge index out of bounds";break;case"TransformWrongLength":A="Transform vector has wrong length";break;case"RunIndexWrongLength":A="Run index vector has wrong length";break;case"FaceIDWrongLength":A="Face ID vector has wrong length";case"InvalidConstruction":A="Manifold constructed with invalid parameters"}let W=Error.apply(this,[A,...T]);W.name=this.name="ManifoldError",this.message=W.message,this.stack=W.stack,this.code=f},t.ManifoldError.prototype=Object.create(Error.prototype,{constructor:{value:t.ManifoldError,writable:!0,configurable:!0}}),t.CrossSection=function(h,f="Positive"){let T=d(h),A=new D(T,v(f));return b(T),A},t.CrossSection.ofPolygons=function(h,f="Positive"){return new t.CrossSection(h,f)},t.CrossSection.square=function(...h){let f;h.length==0?f={x:1,y:1}:typeof h[0]=="number"?f={x:h[0],y:h[0]}:f=g(h);let T=h[1]||!1;return t._Square(f,T)},t.CrossSection.circle=function(h,f=0){return t._Circle(h,f)};function X(h){return function(...f){f.length==1&&(f=f[0]);let T=new t.Vector_crossSection;for(let W of f)T.push_back(I(W));let A=t["_crossSection"+h](T);return T.delete(),A}}t.CrossSection.compose=X("Compose"),t.CrossSection.union=X("UnionN"),t.CrossSection.difference=X("DifferenceN"),t.CrossSection.intersection=X("IntersectionN");function ue(h,f){n(h,f,T=>T instanceof Array?{x:T[0],y:T[1]}:T)}t.CrossSection.hull=function(...h){h.length==1&&(h=h[0]);let f=new t.Vector_vec2;for(let A of h)if(A instanceof D)t._crossSectionCollectVertices(f,A);else if(A instanceof Array&&A.length==2&&typeof A[0]=="number")f.push_back({x:A[0],y:A[1]});else if(A.x)f.push_back(A);else{let Q=A[0].length==2&&typeof A[0][0]=="number"||A[0].x?[A]:A;for(let se of Q)ue(f,se)}let T=t._crossSectionHullPoints(f);return f.delete(),T},t.CrossSection.prototype=Object.create(D.prototype),Object.defineProperty(t.CrossSection,Symbol.hasInstance,{get:()=>h=>h instanceof D});let oe=t.Manifold;t.Manifold=function(h){let f=new oe(h),T=f.status();if(T!=="NoError")throw new t.ManifoldError(T);return f},t.Manifold.ofMesh=function(h){return new t.Manifold(h)},t.Manifold.tetrahedron=function(){return t._Tetrahedron()},t.Manifold.cube=function(...h){let f;h.length==0?f={x:1,y:1,z:1}:typeof h[0]=="number"?f={x:h[0],y:h[0],z:h[0]}:f=x(h);let T=h[1]||!1;return t._Cube(f,T)},t.Manifold.cylinder=function(h,f,T=-1,A=0,W=!1){return t._Cylinder(h,f,T,A,W)},t.Manifold.sphere=function(h,f=0){return t._Sphere(h,f)},t.Manifold.smooth=function(h,f=[]){let T=new t.Vector_smoothness;n(T,f);let A=t._Smooth(h,T);return T.delete(),A},t.Manifold.extrude=function(h,f,T=0,A=0,W=[1,1],Q=!1){return(h instanceof D?h:t.CrossSection(h,"Positive")).extrude(f,T,A,W,Q)},t.Manifold.revolve=function(h,f=0,T=360){return(h instanceof D?h:t.CrossSection(h,"Positive")).revolve(f,T)},t.Manifold.reserveIDs=function(h){return t._ReserveIDs(h)},t.Manifold.compose=function(h){let f=new t.Vector_manifold;n(f,h);let T=t._manifoldCompose(f);return f.delete(),T};function Je(h){return function(...f){f.length==1&&(f=f[0]);let T=new t.Vector_manifold;for(let W of f)T.push_back(W);let A=t["_manifold"+h+"N"](T);return T.delete(),A}}t.Manifold.union=Je("Union"),t.Manifold.difference=Je("Difference"),t.Manifold.intersection=Je("Intersection"),t.Manifold.levelSet=function(h,f,T,A=0,W=-1){let Q={min:{x:f.min[0],y:f.min[1],z:f.min[2]},max:{x:f.max[0],y:f.max[1],z:f.max[2]}},se=w0(function(me){let u0=xe(me,"double"),l0=xe(me+8,"double"),ae=xe(me+16,"double");return h([u0,l0,ae])},"di"),De=t._LevelSet(se,Q,T,A,W);return N0(se),De};function We(h,f){n(h,f,T=>T instanceof Array?{x:T[0],y:T[1],z:T[2]}:T)}t.Manifold.hull=function(...h){h.length==1&&(h=h[0]);let f=new t.Vector_vec3;for(let A of h)A instanceof oe?t._manifoldCollectVertices(f,A):A instanceof Array&&A.length==3&&typeof A[0]=="number"?f.push_back({x:A[0],y:A[1],z:A[2]}):A.x?f.push_back(A):We(f,A);let T=t._manifoldHullPoints(f);return f.delete(),T},t.Manifold.prototype=Object.create(oe.prototype),Object.defineProperty(t.Manifold,Symbol.hasInstance,{get:()=>h=>h instanceof oe}),t.triangulate=function(h,f=-1,T=!0){let A=d(h),W=i(t._Triangulate(A,f,T),Q=>[Q[0],Q[1],Q[2]]);return b(A),W}};var C=Object.assign({},t),_=[],M="./this.program",R=(n,i)=>{throw i},P="";function w(n){return t.locateFile?t.locateFile(n,P):P+n}var H,L;if(p){var N=S("fs"),k=S("path");P=S("url").fileURLToPath(new URL("./",import.meta.url)),L=n=>{n=Te(n)?new URL(n):k.normalize(n);var i=N.readFileSync(n);return i},H=(n,i=!0)=>(n=Te(n)?new URL(n):k.normalize(n),new Promise((l,d)=>{N.readFile(n,i?void 0:"utf8",(b,g)=>{b?d(b):l(i?g.buffer:g)})})),!t.thisProgram&&process.argv.length>1&&(M=process.argv[1].replace(/\\/g,"/")),_=process.argv.slice(2),R=(n,i)=>{throw process.exitCode=n,i}}else(c||m)&&(m?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),u&&(P=u),P.startsWith("blob:")?P="":P=P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1),m&&(L=n=>{var i=new XMLHttpRequest;return i.open("GET",n,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),H=n=>Te(n)?new Promise((i,l)=>{var d=new XMLHttpRequest;d.open("GET",n,!0),d.responseType="arraybuffer",d.onload=()=>{(d.status==200||d.status==0&&d.response)&&l(d.response),i(d.status)},d.onerror=i,d.send(null)}):fetch(n,{credentials:"same-origin"}).then(i=>i.ok?i.arrayBuffer():Promise.reject(new Error(i.status+" : "+i.url))));var O=t.print||console.log.bind(console),B=t.printErr||console.error.bind(console);Object.assign(t,C),C=null,t.arguments&&(_=t.arguments),t.thisProgram&&(M=t.thisProgram),t.quit&&(R=t.quit);var F;t.wasmBinary&&(F=t.wasmBinary);var Y,U=!1,ie,q,ee,ye,ke,Me,te,Xe,Vt;function J0(){var n=Y.buffer;t.HEAP8=q=new Int8Array(n),t.HEAP16=ye=new Int16Array(n),t.HEAPU8=ee=new Uint8Array(n),t.HEAPU16=ke=new Uint16Array(n),t.HEAP32=Me=new Int32Array(n),t.HEAPU32=te=new Uint32Array(n),t.HEAPF32=Xe=new Float32Array(n),t.HEAPF64=Vt=new Float64Array(n)}var Ge=[],$e=[],Ut=[],b0=!1;function W0(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)f0(t.preRun.shift());Be(Ge)}function j0(){b0=!0,Be($e)}function G0(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)zt(t.postRun.shift());Be(Ut)}function f0(n){Ge.unshift(n)}function g0(n){$e.unshift(n)}function zt(n){Ut.unshift(n)}var Ve=0,Dt=null,Ze=null;function Pr(n){Ve++,t.monitorRunDependencies?.(Ve)}function Rr(n){if(Ve--,t.monitorRunDependencies?.(Ve),Ve==0&&(Dt!==null&&(clearInterval(Dt),Dt=null),Ze)){var i=Ze;Ze=null,i()}}function st(n){t.onAbort?.(n),n="Aborted("+n+")",B(n),U=!0,ie=1,n+=". Build with -sASSERTIONS for more info.";var i=new WebAssembly.RuntimeError(n);throw s(i),i}var Kt="data:application/octet-stream;base64,",At=n=>n.startsWith(Kt),Te=n=>n.startsWith("file://");function at(){if(t.locateFile){var n="manifold.wasm";return At(n)?n:w(n)}return new URL("manifold.wasm",import.meta.url).href}var pe;function Mt(n){if(n==pe&&F)return new Uint8Array(F);if(L)return L(n);throw"both async and sync fetching of the wasm failed"}function Xt(n){return F?Promise.resolve().then(()=>Mt(n)):H(n).then(i=>new Uint8Array(i),()=>Mt(n))}function qe(n,i,l){return Xt(n).then(d=>WebAssembly.instantiate(d,i)).then(l,d=>{B(`failed to asynchronously prepare wasm: ${d}`),st(d)})}function Zt(n,i,l,d){return!n&&typeof WebAssembly.instantiateStreaming=="function"&&!At(i)&&!Te(i)&&!p&&typeof fetch=="function"?fetch(i,{credentials:"same-origin"}).then(b=>{var g=WebAssembly.instantiateStreaming(b,l);return g.then(d,function(x){return B(`wasm streaming compile failed: ${x}`),B("falling back to ArrayBuffer instantiation"),qe(i,l,d)})}):qe(i,l,d)}function wr(){return{a:$i}}function Nr(){var n=wr();function i(d,b){return Pe=d.exports,Pe=Ui(Pe),Y=Pe.J,J0(),Ke=Pe.M,g0(Pe.K),Rr("wasm-instantiate"),Pe}Pr("wasm-instantiate");function l(d){i(d.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(n,i)}catch(d){B(`Module.instantiateWasm callback failed with error: ${d}`),s(d)}return pe||(pe=at()),Zt(F,pe,n,l).catch(s),{}}var Be=n=>{for(;n.length>0;)n.shift()(t)};function xe(n,i="i8"){switch(i.endsWith("*")&&(i="*"),i){case"i1":return q[n>>>0];case"i8":return q[n>>>0];case"i16":return ye[n>>>1>>>0];case"i32":return Me[n>>>2>>>0];case"i64":st("to do getValue(i64) use WASM_BIGINT");case"float":return Xe[n>>>2>>>0];case"double":return Vt[n>>>3>>>0];case"*":return te[n>>>2>>>0];default:st(`invalid type for getValue: ${i}`)}}var Fn=t.noExitRuntime||!0;function ct(n,i,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":q[n>>>0]=i;break;case"i8":q[n>>>0]=i;break;case"i16":ye[n>>>1>>>0]=i;break;case"i32":Me[n>>>2>>>0]=i;break;case"i64":st("to do setValue(i64) use WASM_BIGINT");case"float":Xe[n>>>2>>>0]=i;break;case"double":Vt[n>>>3>>>0]=i;break;case"*":te[n>>>2>>>0]=i;break;default:st(`invalid type for setValue: ${l}`)}}class Or{constructor(i){this.excPtr=i,this.ptr=i-24}set_type(i){te[this.ptr+4>>>2>>>0]=i}get_type(){return te[this.ptr+4>>>2>>>0]}set_destructor(i){te[this.ptr+8>>>2>>>0]=i}get_destructor(){return te[this.ptr+8>>>2>>>0]}set_caught(i){i=i?1:0,q[this.ptr+12>>>0]=i}get_caught(){return q[this.ptr+12>>>0]!=0}set_rethrown(i){i=i?1:0,q[this.ptr+13>>>0]=i}get_rethrown(){return q[this.ptr+13>>>0]!=0}init(i,l){this.set_adjusted_ptr(0),this.set_type(i),this.set_destructor(l)}set_adjusted_ptr(i){te[this.ptr+16>>>2>>>0]=i}get_adjusted_ptr(){return te[this.ptr+16>>>2>>>0]}get_exception_ptr(){var i=$n(this.get_type());if(i)return te[this.excPtr>>>2>>>0];var l=this.get_adjusted_ptr();return l!==0?l:this.excPtr}}var $0=0,y0=0;function v0(n,i,l){n>>>=0,i>>>=0,l>>>=0;var d=new Or(n);throw d.init(i,l),$0=n,y0++,$0}var qt=()=>{st("")},Ye={},_t=n=>{for(;n.length;){var i=n.pop(),l=n.pop();l(i)}};function Qe(n){return this.fromWireType(te[n>>>2>>>0])}var et={},Ue={},It={},S0,Pt=n=>{throw new S0(n)},ze=(n,i,l)=>{n.forEach(function(v){It[v]=i});function d(v){var E=l(v);E.length!==n.length&&Pt("Mismatched type converter count");for(var D=0;D<n.length;++D)_e(n[D],E[D])}var b=new Array(i.length),g=[],x=0;i.forEach((v,E)=>{Ue.hasOwnProperty(v)?b[E]=Ue[v]:(g.push(v),et.hasOwnProperty(v)||(et[v]=[]),et[v].push(()=>{b[E]=Ue[v],++x,x===g.length&&d(b)}))}),g.length===0&&d(b)},Yt=function(n){n>>>=0;var i=Ye[n];delete Ye[n];var l=i.rawConstructor,d=i.rawDestructor,b=i.fields,g=b.map(x=>x.getterReturnType).concat(b.map(x=>x.setterArgumentType));ze([n],g,x=>{var v={};return b.forEach((E,D)=>{var I=E.fieldName,J=x[D],X=E.getter,ue=E.getterContext,oe=x[D+b.length],Je=E.setter,We=E.setterContext;v[I]={read:h=>J.fromWireType(X(ue,h)),write:(h,f)=>{var T=[];Je(We,h,oe.toWireType(T,f)),_t(T)}}}),[{name:i.name,fromWireType:E=>{var D={};for(var I in v)D[I]=v[I].read(E);return d(E),D},toWireType:(E,D)=>{for(var I in v)if(!(I in D))throw new TypeError(`Missing field: "${I}"`);var J=l();for(I in v)v[I].write(J,D[I]);return E!==null&&E.push(d,J),J},argPackAdvance:Ie,readValueFromPointer:Qe,destructorFunction:d}]})};function kr(n,i,l,d,b){n>>>=0,i>>>=0,l>>>=0}var Br=()=>{for(var n=new Array(256),i=0;i<256;++i)n[i]=String.fromCharCode(i);He=n},He,le=n=>{for(var i="",l=n;ee[l>>>0];)i+=He[ee[l++>>>0]];return i},ut,K=n=>{throw new ut(n)};function Hr(n,i,l={}){var d=i.name;if(n||K(`type "${d}" must have a positive integer typeid pointer`),Ue.hasOwnProperty(n)){if(l.ignoreDuplicateRegistrations)return;K(`Cannot register type '${d}' twice`)}if(Ue[n]=i,delete It[n],et.hasOwnProperty(n)){var b=et[n];delete et[n],b.forEach(g=>g())}}function _e(n,i,l={}){if(!("argPackAdvance"in i))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Hr(n,i,l)}var Ie=8;function Lr(n,i,l,d){n>>>=0,i>>>=0,i=le(i),_e(n,{name:i,fromWireType:function(b){return!!b},toWireType:function(b,g){return g?l:d},argPackAdvance:Ie,readValueFromPointer:function(b){return this.fromWireType(ee[b>>>0])},destructorFunction:null})}var Fr=n=>({count:n.count,deleteScheduled:n.deleteScheduled,preservePointerOnDelete:n.preservePointerOnDelete,ptr:n.ptr,ptrType:n.ptrType,smartPtr:n.smartPtr,smartPtrType:n.smartPtrType}),C0=n=>{function i(l){return l.$$.ptrType.registeredClass.name}K(i(n)+" instance already deleted")},T0=!1,V0=n=>{},Jr=n=>{n.smartPtr?n.smartPtrType.rawDestructor(n.smartPtr):n.ptrType.registeredClass.rawDestructor(n.ptr)},U0=n=>{n.count.value-=1;var i=n.count.value===0;i&&Jr(n)},z0=(n,i,l)=>{if(i===l)return n;if(l.baseClass===void 0)return null;var d=z0(n,i,l.baseClass);return d===null?null:l.downcast(d)},K0={},Wr=()=>Object.keys(lt).length,jr=()=>{var n=[];for(var i in lt)lt.hasOwnProperty(i)&&n.push(lt[i]);return n},Rt=[],Qt=()=>{for(;Rt.length;){var n=Rt.pop();n.$$.deleteScheduled=!1,n.delete()}},wt,X0=n=>{wt=n,Rt.length&&wt&&wt(Qt)},Z0=()=>{t.getInheritedInstanceCount=Wr,t.getLiveInheritedInstances=jr,t.flushPendingDeletes=Qt,t.setDelayFunction=X0},lt={},q0=(n,i)=>{for(i===void 0&&K("ptr should not be undefined");n.baseClass;)i=n.upcast(i),n=n.baseClass;return i},Gr=(n,i)=>(i=q0(n,i),lt[i]),e0=(n,i)=>{(!i.ptrType||!i.ptr)&&Pt("makeClassHandle requires ptr and ptrType");var l=!!i.smartPtrType,d=!!i.smartPtr;return l!==d&&Pt("Both smartPtrType and smartPtr must be specified"),i.count={value:1},Nt(Object.create(n,{$$:{value:i,writable:!0}}))};function $r(n){var i=this.getPointee(n);if(!i)return this.destructor(n),null;var l=Gr(this.registeredClass,i);if(l!==void 0){if(l.$$.count.value===0)return l.$$.ptr=i,l.$$.smartPtr=n,l.clone();var d=l.clone();return this.destructor(n),d}function b(){return this.isSmartPointer?e0(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:i,smartPtrType:this,smartPtr:n}):e0(this.registeredClass.instancePrototype,{ptrType:this,ptr:n})}var g=this.registeredClass.getActualType(i),x=K0[g];if(!x)return b.call(this);var v;this.isConst?v=x.constPointerType:v=x.pointerType;var E=z0(i,this.registeredClass,v.registeredClass);return E===null?b.call(this):this.isSmartPointer?e0(v.registeredClass.instancePrototype,{ptrType:v,ptr:E,smartPtrType:this,smartPtr:n}):e0(v.registeredClass.instancePrototype,{ptrType:v,ptr:E})}var Nt=n=>typeof FinalizationRegistry>"u"?(Nt=i=>i,n):(T0=new FinalizationRegistry(i=>{U0(i.$$)}),Nt=i=>{var l=i.$$,d=!!l.smartPtr;if(d){var b={$$:l};T0.register(i,b,i)}return i},V0=i=>T0.unregister(i),Nt(n)),Vr=()=>{Object.assign(t0.prototype,{isAliasOf(n){if(!(this instanceof t0)||!(n instanceof t0))return!1;var i=this.$$.ptrType.registeredClass,l=this.$$.ptr;n.$$=n.$$;for(var d=n.$$.ptrType.registeredClass,b=n.$$.ptr;i.baseClass;)l=i.upcast(l),i=i.baseClass;for(;d.baseClass;)b=d.upcast(b),d=d.baseClass;return i===d&&l===b},clone(){if(this.$$.ptr||C0(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var n=Nt(Object.create(Object.getPrototypeOf(this),{$$:{value:Fr(this.$$)}}));return n.$$.count.value+=1,n.$$.deleteScheduled=!1,n},delete(){this.$$.ptr||C0(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&K("Object already scheduled for deletion"),V0(this),U0(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||C0(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&K("Object already scheduled for deletion"),Rt.push(this),Rt.length===1&&wt&&wt(Qt),this.$$.deleteScheduled=!0,this}})};function t0(){}var dt=(n,i)=>Object.defineProperty(i,"name",{value:n}),Y0=(n,i,l)=>{if(n[i].overloadTable===void 0){var d=n[i];n[i]=function(...b){return n[i].overloadTable.hasOwnProperty(b.length)||K(`Function '${l}' called with an invalid number of arguments (${b.length}) - expects one of (${n[i].overloadTable})!`),n[i].overloadTable[b.length].apply(this,b)},n[i].overloadTable=[],n[i].overloadTable[d.argCount]=d}},x0=(n,i,l)=>{t.hasOwnProperty(n)?((l===void 0||t[n].overloadTable!==void 0&&t[n].overloadTable[l]!==void 0)&&K(`Cannot register public name '${n}' twice`),Y0(t,n,n),t.hasOwnProperty(l)&&K(`Cannot register multiple overloads of a function with the same number of arguments (${l})!`),t[n].overloadTable[l]=i):(t[n]=i,l!==void 0&&(t[n].numArguments=l))},Ur=48,E0=57,r0=n=>{if(n===void 0)return"_unknown";n=n.replace(/[^a-zA-Z0-9_]/g,"$");var i=n.charCodeAt(0);return i>=Ur&&i<=E0?`_${n}`:n};function Q0(n,i,l,d,b,g,x,v){this.name=n,this.constructor=i,this.instancePrototype=l,this.rawDestructor=d,this.baseClass=b,this.getActualType=g,this.upcast=x,this.downcast=v,this.pureVirtualFunctions=[]}var mt=(n,i,l)=>{for(;i!==l;)i.upcast||K(`Expected null or instance of ${l.name}, got an instance of ${i.name}`),n=i.upcast(n),i=i.baseClass;return n};function D0(n,i){if(i===null)return this.isReference&&K(`null is not a valid ${this.name}`),0;i.$$||K(`Cannot pass "${I0(i)}" as a ${this.name}`),i.$$.ptr||K(`Cannot pass deleted object as a pointer of type ${this.name}`);var l=i.$$.ptrType.registeredClass,d=mt(i.$$.ptr,l,this.registeredClass);return d}function zr(n,i){var l;if(i===null)return this.isReference&&K(`null is not a valid ${this.name}`),this.isSmartPointer?(l=this.rawConstructor(),n!==null&&n.push(this.rawDestructor,l),l):0;(!i||!i.$$)&&K(`Cannot pass "${I0(i)}" as a ${this.name}`),i.$$.ptr||K(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&i.$$.ptrType.isConst&&K(`Cannot convert argument of type ${i.$$.smartPtrType?i.$$.smartPtrType.name:i.$$.ptrType.name} to parameter type ${this.name}`);var d=i.$$.ptrType.registeredClass;if(l=mt(i.$$.ptr,d,this.registeredClass),this.isSmartPointer)switch(i.$$.smartPtr===void 0&&K("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:i.$$.smartPtrType===this?l=i.$$.smartPtr:K(`Cannot convert argument of type ${i.$$.smartPtrType?i.$$.smartPtrType.name:i.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:l=i.$$.smartPtr;break;case 2:if(i.$$.smartPtrType===this)l=i.$$.smartPtr;else{var b=i.clone();l=this.rawShare(l,ce.toHandle(()=>b.delete())),n!==null&&n.push(this.rawDestructor,l)}break;default:K("Unsupporting sharing policy")}return l}function Kr(n,i){if(i===null)return this.isReference&&K(`null is not a valid ${this.name}`),0;i.$$||K(`Cannot pass "${I0(i)}" as a ${this.name}`),i.$$.ptr||K(`Cannot pass deleted object as a pointer of type ${this.name}`),i.$$.ptrType.isConst&&K(`Cannot convert argument of type ${i.$$.ptrType.name} to parameter type ${this.name}`);var l=i.$$.ptrType.registeredClass,d=mt(i.$$.ptr,l,this.registeredClass);return d}var Xr=()=>{Object.assign(ht.prototype,{getPointee(n){return this.rawGetPointee&&(n=this.rawGetPointee(n)),n},destructor(n){this.rawDestructor?.(n)},argPackAdvance:Ie,readValueFromPointer:Qe,fromWireType:$r})};function ht(n,i,l,d,b,g,x,v,E,D,I){this.name=n,this.registeredClass=i,this.isReference=l,this.isConst=d,this.isSmartPointer=b,this.pointeeType=g,this.sharingPolicy=x,this.rawGetPointee=v,this.rawConstructor=E,this.rawShare=D,this.rawDestructor=I,!b&&i.baseClass===void 0?d?(this.toWireType=D0,this.destructorFunction=null):(this.toWireType=Kr,this.destructorFunction=null):this.toWireType=zr}var Ot=(n,i,l)=>{t.hasOwnProperty(n)||Pt("Replacing nonexistent public symbol"),t[n].overloadTable!==void 0&&l!==void 0?t[n].overloadTable[l]=i:(t[n]=i,t[n].argCount=l)},er=(n,i,l)=>{n=n.replace(/p/g,"i");var d=t["dynCall_"+n];return d(i,...l)},Ke,tt=n=>Ke.get(n),Zr=(n,i,l=[])=>{if(n.includes("j"))return er(n,i,l);var d=tt(i)(...l);return n[0]=="p"?d>>>0:d},tr=(n,i)=>(...l)=>Zr(n,i,l),Ee=(n,i)=>{n=le(n);function l(){return n.includes("j")||n.includes("p")?tr(n,i):tt(i)}var d=l();return typeof d!="function"&&K(`unknown function pointer with signature ${n}: ${i}`),d},pt=(n,i)=>{var l=dt(i,function(d){this.name=i,this.message=d;var b=new Error(d).stack;b!==void 0&&(this.stack=this.toString()+`
`+b.replace(/^Error(:[^\n]*)?\n/,""))});return l.prototype=Object.create(n.prototype),l.prototype.constructor=l,l.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},l},A0,kt=n=>{var i=Gn(n),l=le(i);return nt(i),l},rt=(n,i)=>{var l=[],d={};function b(g){if(!d[g]&&!Ue[g]){if(It[g]){It[g].forEach(b);return}l.push(g),d[g]=!0}}throw i.forEach(b),new A0(`${n}: `+l.map(kt).join([", "]))};function n0(n,i,l,d,b,g,x,v,E,D,I,J,X){n>>>=0,i>>>=0,l>>>=0,d>>>=0,b>>>=0,g>>>=0,x>>>=0,v>>>=0,E>>>=0,D>>>=0,I>>>=0,J>>>=0,X>>>=0,I=le(I),g=Ee(b,g),v&&=Ee(x,v),D&&=Ee(E,D),X=Ee(J,X);var ue=r0(I);x0(ue,function(){rt(`Cannot construct ${I} due to unbound types`,[d])}),ze([n,i,l],d?[d]:[],oe=>{oe=oe[0];var Je,We;d?(Je=oe.registeredClass,We=Je.instancePrototype):We=t0.prototype;var h=dt(I,function(...se){if(Object.getPrototypeOf(this)!==f)throw new ut("Use 'new' to construct "+I);if(T.constructor_body===void 0)throw new ut(I+" has no accessible constructor");var De=T.constructor_body[se.length];if(De===void 0)throw new ut(`Tried to invoke ctor of ${I} with invalid number of parameters (${se.length}) - expected (${Object.keys(T.constructor_body).toString()}) parameters instead!`);return De.apply(this,se)}),f=Object.create(We,{constructor:{value:h}});h.prototype=f;var T=new Q0(I,h,f,X,Je,g,v,D);T.baseClass&&(T.baseClass.__derivedClasses??=[],T.baseClass.__derivedClasses.push(T));var A=new ht(I,T,!0,!1,!1),W=new ht(I+"*",T,!1,!1,!1),Q=new ht(I+" const*",T,!1,!0,!1);return K0[n]={pointerType:W,constPointerType:Q},Ot(ue,h),[A,W,Q]})}var bt=(n,i)=>{for(var l=[],d=0;d<n;d++)l.push(te[i+d*4>>>2>>>0]);return l};function Bt(n){for(var i=1;i<n.length;++i)if(n[i]!==null&&n[i].destructorFunction===void 0)return!0;return!1}function Ht(n,i){if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var l=dt(n.name||"unknownFunctionName",function(){});l.prototype=n.prototype;var d=new l,b=n.apply(d,i);return b instanceof Object?b:d}function i0(n,i,l,d){for(var b=Bt(n),g=n.length,x="",v="",E=0;E<g-2;++E)x+=(E!==0?", ":"")+"arg"+E,v+=(E!==0?", ":"")+"arg"+E+"Wired";var D=`
        return function (${x}) {
        if (arguments.length !== ${g-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${g-2}');
        }`;b&&(D+=`var destructors = [];
`);var I=b?"destructors":"null",J=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];i&&(D+="var thisWired = classParam['toWireType']("+I+`, this);
`);for(var E=0;E<g-2;++E)D+="var arg"+E+"Wired = argType"+E+"['toWireType']("+I+", arg"+E+`);
`,J.push("argType"+E);if(i&&(v="thisWired"+(v.length>0?", ":"")+v),D+=(l||d?"var rv = ":"")+"invoker(fn"+(v.length>0?", ":"")+v+`);
`,b)D+=`runDestructors(destructors);
`;else for(var E=i?1:2;E<n.length;++E){var X=E===1?"thisWired":"arg"+(E-2)+"Wired";n[E].destructorFunction!==null&&(D+=`${X}_dtor(${X});
`,J.push(`${X}_dtor`))}return l&&(D+=`var ret = retType['fromWireType'](rv);
return ret;
`),D+=`}
`,[J,D]}function ft(n,i,l,d,b,g){var x=i.length;x<2&&K("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var v=i[1]!==null&&l!==null,E=Bt(i),D=i[0].name!=="void",I=[n,K,d,b,_t,i[0],i[1]],J=0;J<x-2;++J)I.push(i[J+2]);if(!E)for(var J=v?1:2;J<i.length;++J)i[J].destructorFunction!==null&&I.push(i[J].destructorFunction);let[X,ue]=i0(i,v,D,g);X.push(ue);var oe=Ht(Function,X)(...I);return dt(n,oe)}var Se=function(n,i,l,d,b,g){n>>>=0,l>>>=0,d>>>=0,b>>>=0,g>>>=0;var x=bt(i,l);b=Ee(d,b),ze([],[n],v=>{v=v[0];var E=`constructor ${v.name}`;if(v.registeredClass.constructor_body===void 0&&(v.registeredClass.constructor_body=[]),v.registeredClass.constructor_body[i-1]!==void 0)throw new ut(`Cannot register multiple constructors with identical number of parameters (${i-1}) for class '${v.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return v.registeredClass.constructor_body[i-1]=()=>{rt(`Cannot construct ${v.name} due to unbound types`,x)},ze([],x,D=>(D.splice(1,0,null),v.registeredClass.constructor_body[i-1]=ft(E,D,null,b,g),[])),[]})},rr=n=>{n=n.trim();let i=n.indexOf("(");return i!==-1?n.substr(0,i):n},qr=function(n,i,l,d,b,g,x,v,E){n>>>=0,i>>>=0,d>>>=0,b>>>=0,g>>>=0,x>>>=0;var D=bt(l,d);i=le(i),i=rr(i),g=Ee(b,g),ze([],[n],I=>{I=I[0];var J=`${I.name}.${i}`;i.startsWith("@@")&&(i=Symbol[i.substring(2)]),v&&I.registeredClass.pureVirtualFunctions.push(i);function X(){rt(`Cannot call ${J} due to unbound types`,D)}var ue=I.registeredClass.instancePrototype,oe=ue[i];return oe===void 0||oe.overloadTable===void 0&&oe.className!==I.name&&oe.argCount===l-2?(X.argCount=l-2,X.className=I.name,ue[i]=X):(Y0(ue,i,J),ue[i].overloadTable[l-2]=X),ze([],D,Je=>{var We=ft(J,Je,I,g,x,E);return ue[i].overloadTable===void 0?(We.argCount=l-2,ue[i]=We):ue[i].overloadTable[l-2]=We,[]}),[]})},M0=[],Le=[];function _0(n){n>>>=0,n>9&&--Le[n+1]===0&&(Le[n]=void 0,M0.push(n))}var Yr=()=>Le.length/2-5-M0.length,Qr=()=>{Le.push(0,1,void 0,1,null,1,!0,1,!1,1),t.count_emval_handles=Yr},ce={toValue:n=>(n||K("Cannot use deleted val. handle = "+n),Le[n]),toHandle:n=>{switch(n){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let i=M0.pop()||Le.length;return Le[i]=n,Le[i+1]=1,i}}}},en={name:"emscripten::val",fromWireType:n=>{var i=ce.toValue(n);return _0(n),i},toWireType:(n,i)=>ce.toHandle(i),argPackAdvance:Ie,readValueFromPointer:Qe,destructorFunction:null};function nr(n){return n>>>=0,_e(n,en)}var tn=(n,i,l)=>{switch(i){case 1:return l?function(d){return this.fromWireType(q[d>>>0])}:function(d){return this.fromWireType(ee[d>>>0])};case 2:return l?function(d){return this.fromWireType(ye[d>>>1>>>0])}:function(d){return this.fromWireType(ke[d>>>1>>>0])};case 4:return l?function(d){return this.fromWireType(Me[d>>>2>>>0])}:function(d){return this.fromWireType(te[d>>>2>>>0])};default:throw new TypeError(`invalid integer width (${i}): ${n}`)}};function rn(n,i,l,d){n>>>=0,i>>>=0,l>>>=0,i=le(i);function b(){}b.values={},_e(n,{name:i,constructor:b,fromWireType:function(g){return this.constructor.values[g]},toWireType:(g,x)=>x.value,argPackAdvance:Ie,readValueFromPointer:tn(i,l,d),destructorFunction:null}),x0(i,b)}var o0=(n,i)=>{var l=Ue[n];return l===void 0&&K(`${i} has unknown type ${kt(n)}`),l};function nn(n,i,l){n>>>=0,i>>>=0;var d=o0(n,"enum");i=le(i);var b=d.constructor,g=Object.create(d.constructor.prototype,{value:{value:l},constructor:{value:dt(`${d.name}_${i}`,function(){})}});b.values[l]=g,b[i]=g}var I0=n=>{if(n===null)return"null";var i=typeof n;return i==="object"||i==="array"||i==="function"?n.toString():""+n},on=(n,i)=>{switch(i){case 4:return function(l){return this.fromWireType(Xe[l>>>2>>>0])};case 8:return function(l){return this.fromWireType(Vt[l>>>3>>>0])};default:throw new TypeError(`invalid float width (${i}): ${n}`)}},sn=function(n,i,l){n>>>=0,i>>>=0,l>>>=0,i=le(i),_e(n,{name:i,fromWireType:d=>d,toWireType:(d,b)=>b,argPackAdvance:Ie,readValueFromPointer:on(i,l),destructorFunction:null})};function an(n,i,l,d,b,g,x){n>>>=0,l>>>=0,d>>>=0,b>>>=0,g>>>=0;var v=bt(i,l);n=le(n),n=rr(n),b=Ee(d,b),x0(n,function(){rt(`Cannot call ${n} due to unbound types`,v)},i-1),ze([],v,E=>{var D=[E[0],null].concat(E.slice(1));return Ot(n,ft(n,D,null,b,g,x),i-1),[]})}var cn=(n,i,l)=>{switch(i){case 1:return l?d=>q[d>>>0]:d=>ee[d>>>0];case 2:return l?d=>ye[d>>>1>>>0]:d=>ke[d>>>1>>>0];case 4:return l?d=>Me[d>>>2>>>0]:d=>te[d>>>2>>>0];default:throw new TypeError(`invalid integer width (${i}): ${n}`)}};function un(n,i,l,d,b){n>>>=0,i>>>=0,l>>>=0,i=le(i),b===-1&&(b=4294967295);var g=I=>I;if(d===0){var x=32-8*l;g=I=>I<<x>>>x}var v=i.includes("unsigned"),E=(I,J)=>{},D;v?D=function(I,J){return E(J,this.name),J>>>0}:D=function(I,J){return E(J,this.name),J},_e(n,{name:i,fromWireType:g,toWireType:D,argPackAdvance:Ie,readValueFromPointer:cn(i,l,d!==0),destructorFunction:null})}function ln(n,i,l){n>>>=0,l>>>=0;var d=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],b=d[i];function g(x){var v=te[x>>>2>>>0],E=te[x+4>>>2>>>0];return new b(q.buffer,E,v)}l=le(l),_e(n,{name:l,fromWireType:g,argPackAdvance:Ie,readValueFromPointer:g},{ignoreDuplicateRegistrations:!0})}function dn(n,i){n>>>=0,i>>>=0,nr(n)}var mn=(n,i,l,d)=>{if(l>>>=0,!(d>0))return 0;for(var b=l,g=l+d-1,x=0;x<n.length;++x){var v=n.charCodeAt(x);if(v>=55296&&v<=57343){var E=n.charCodeAt(++x);v=65536+((v&1023)<<10)|E&1023}if(v<=127){if(l>=g)break;i[l++>>>0]=v}else if(v<=2047){if(l+1>=g)break;i[l++>>>0]=192|v>>6,i[l++>>>0]=128|v&63}else if(v<=65535){if(l+2>=g)break;i[l++>>>0]=224|v>>12,i[l++>>>0]=128|v>>6&63,i[l++>>>0]=128|v&63}else{if(l+3>=g)break;i[l++>>>0]=240|v>>18,i[l++>>>0]=128|v>>12&63,i[l++>>>0]=128|v>>6&63,i[l++>>>0]=128|v&63}}return i[l>>>0]=0,l-b},hn=(n,i,l)=>mn(n,ee,i,l),P0=n=>{for(var i=0,l=0;l<n.length;++l){var d=n.charCodeAt(l);d<=127?i++:d<=2047?i+=2:d>=55296&&d<=57343?(i+=4,++l):i+=3}return i},R0=typeof TextDecoder<"u"?new TextDecoder:void 0,s0=(n,i,l)=>{i>>>=0;for(var d=i+l,b=i;n[b]&&!(b>=d);)++b;if(b-i>16&&n.buffer&&R0)return R0.decode(n.subarray(i,b));for(var g="";i<b;){var x=n[i++];if(!(x&128)){g+=String.fromCharCode(x);continue}var v=n[i++]&63;if((x&224)==192){g+=String.fromCharCode((x&31)<<6|v);continue}var E=n[i++]&63;if((x&240)==224?x=(x&15)<<12|v<<6|E:x=(x&7)<<18|v<<12|E<<6|n[i++]&63,x<65536)g+=String.fromCharCode(x);else{var D=x-65536;g+=String.fromCharCode(55296|D>>10,56320|D&1023)}}return g},a0=(n,i)=>(n>>>=0,n?s0(ee,n,i):"");function c0(n,i){n>>>=0,i>>>=0,i=le(i);var l=i==="std::string";_e(n,{name:i,fromWireType(d){var b=te[d>>>2>>>0],g=d+4,x;if(l)for(var v=g,E=0;E<=b;++E){var D=g+E;if(E==b||ee[D>>>0]==0){var I=D-v,J=a0(v,I);x===void 0?x=J:(x+="\0",x+=J),v=D+1}}else{for(var X=new Array(b),E=0;E<b;++E)X[E]=String.fromCharCode(ee[g+E>>>0]);x=X.join("")}return nt(d),x},toWireType(d,b){b instanceof ArrayBuffer&&(b=new Uint8Array(b));var g,x=typeof b=="string";x||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int8Array||K("Cannot pass non-string to std::string"),l&&x?g=P0(b):g=b.length;var v=Dn(4+g+1),E=v+4;if(te[v>>>2>>>0]=g,l&&x)hn(b,E,g+1);else if(x)for(var D=0;D<g;++D){var I=b.charCodeAt(D);I>255&&(nt(E),K("String has UTF-16 code units that do not fit in 8 bits")),ee[E+D>>>0]=I}else for(var D=0;D<g;++D)ee[E+D>>>0]=b[D];return d!==null&&d.push(nt,v),v},argPackAdvance:Ie,readValueFromPointer:Qe,destructorFunction(d){nt(d)}})}var Lt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,pn=(n,i)=>{for(var l=n,d=l>>1,b=d+i/2;!(d>=b)&&ke[d>>>0];)++d;if(l=d<<1,l-n>32&&Lt)return Lt.decode(ee.subarray(n>>>0,l>>>0));for(var g="",x=0;!(x>=i/2);++x){var v=ye[n+x*2>>>1>>>0];if(v==0)break;g+=String.fromCharCode(v)}return g},bn=(n,i,l)=>{if(l??=2147483647,l<2)return 0;l-=2;for(var d=i,b=l<n.length*2?l/2:n.length,g=0;g<b;++g){var x=n.charCodeAt(g);ye[i>>>1>>>0]=x,i+=2}return ye[i>>>1>>>0]=0,i-d},fn=n=>n.length*2,gn=(n,i)=>{for(var l=0,d="";!(l>=i/4);){var b=Me[n+l*4>>>2>>>0];if(b==0)break;if(++l,b>=65536){var g=b-65536;d+=String.fromCharCode(55296|g>>10,56320|g&1023)}else d+=String.fromCharCode(b)}return d},yn=(n,i,l)=>{if(i>>>=0,l??=2147483647,l<4)return 0;for(var d=i,b=d+l-4,g=0;g<n.length;++g){var x=n.charCodeAt(g);if(x>=55296&&x<=57343){var v=n.charCodeAt(++g);x=65536+((x&1023)<<10)|v&1023}if(Me[i>>>2>>>0]=x,i+=4,i+4>b)break}return Me[i>>>2>>>0]=0,i-d},vn=n=>{for(var i=0,l=0;l<n.length;++l){var d=n.charCodeAt(l);d>=55296&&d<=57343&&++l,i+=4}return i},Sn=function(n,i,l){n>>>=0,i>>>=0,l>>>=0,l=le(l);var d,b,g,x;i===2?(d=pn,b=bn,x=fn,g=v=>ke[v>>>1>>>0]):i===4&&(d=gn,b=yn,x=vn,g=v=>te[v>>>2>>>0]),_e(n,{name:l,fromWireType:v=>{for(var E=te[v>>>2>>>0],D,I=v+4,J=0;J<=E;++J){var X=v+4+J*i;if(J==E||g(X)==0){var ue=X-I,oe=d(I,ue);D===void 0?D=oe:(D+="\0",D+=oe),I=X+i}}return nt(v),D},toWireType:(v,E)=>{typeof E!="string"&&K(`Cannot pass non-string to C++ string type ${l}`);var D=x(E),I=Dn(4+D+i);return te[I>>>2>>>0]=D/i,b(E,I+4,D+i),v!==null&&v.push(nt,I),I},argPackAdvance:Ie,readValueFromPointer:Qe,destructorFunction(v){nt(v)}})};function Cn(n,i,l,d,b,g){n>>>=0,i>>>=0,l>>>=0,d>>>=0,b>>>=0,g>>>=0,Ye[n]={name:le(i),rawConstructor:Ee(l,d),rawDestructor:Ee(b,g),fields:[]}}function Fe(n,i,l,d,b,g,x,v,E,D){n>>>=0,i>>>=0,l>>>=0,d>>>=0,b>>>=0,g>>>=0,x>>>=0,v>>>=0,E>>>=0,D>>>=0,Ye[n].fields.push({fieldName:le(i),getterReturnType:l,getter:Ee(d,b),getterContext:g,setterArgumentType:x,setter:Ee(v,E),setterContext:D})}var vi=function(n,i){n>>>=0,i>>>=0,i=le(i),_e(n,{isVoid:!0,name:i,argPackAdvance:0,fromWireType:()=>{},toWireType:(l,d)=>{}})};function Si(n,i,l){return n>>>=0,i>>>=0,l>>>=0,ee.copyWithin(n>>>0,i>>>0,i+l>>>0)}var Jn=(n,i,l)=>{var d=[],b=n.toWireType(d,l);return d.length&&(te[i>>>2>>>0]=ce.toHandle(d)),b};function Ci(n,i,l){return n>>>=0,i>>>=0,l>>>=0,n=ce.toValue(n),i=o0(i,"emval::as"),Jn(i,l,n)}var Ti={},Wn=n=>{var i=Ti[n];return i===void 0?le(n):i},Tn=[];function xi(n,i,l,d,b){return n>>>=0,i>>>=0,l>>>=0,d>>>=0,b>>>=0,n=Tn[n],i=ce.toValue(i),l=Wn(l),n(i,i[l],d,b)}function Ei(n,i){return n>>>=0,i>>>=0,n=ce.toValue(n),i=ce.toValue(i),n==i}var Di=n=>{var i=Tn.length;return Tn.push(n),i},Ai=(n,i)=>{for(var l=new Array(n),d=0;d<n;++d)l[d]=o0(te[i+d*4>>>2>>>0],"parameter "+d);return l},go=Reflect.construct;function Mi(n,i,l){i>>>=0;var d=Ai(n,i),b=d.shift();n--;var g=`return function (obj, func, destructorsRef, args) {
`,x=0,v=[];l===0&&v.push("obj");for(var E=["retType"],D=[b],I=0;I<n;++I)v.push("arg"+I),E.push("argType"+I),D.push(d[I]),g+=`  var arg${I} = argType${I}.readValueFromPointer(args${x?"+"+x:""});
`,x+=d[I].argPackAdvance;var J=l===1?"new func":"func.call";g+=`  var rv = ${J}(${v.join(", ")});
`,b.isVoid||(E.push("emval_returnValue"),D.push(Jn),g+=`  return emval_returnValue(retType, destructorsRef, rv);
`),g+=`};
`,E.push(g);var X=Ht(Function,E)(...D),ue=`methodCaller<(${d.map(oe=>oe.name).join(", ")}) => ${b.name}>`;return Di(dt(ue,X))}function _i(n,i){return n>>>=0,i>>>=0,n=ce.toValue(n),i=ce.toValue(i),ce.toHandle(n[i])}function Ii(n){n>>>=0,n>9&&(Le[n+1]+=1)}function Pi(n){return n>>>=0,ce.toHandle(Wn(n))}function Ri(){return ce.toHandle({})}function wi(n){n>>>=0;var i=ce.toValue(n);_t(i),_0(n)}function Ni(n,i,l){n>>>=0,i>>>=0,l>>>=0,n=ce.toValue(n),i=ce.toValue(i),l=ce.toValue(l),n[i]=l}function Oi(n,i){n>>>=0,i>>>=0,n=o0(n,"_emval_take_value");var l=n.readValueFromPointer(i);return ce.toHandle(l)}var ki=()=>4294901760,Bi=n=>{var i=Y.buffer,l=(n-i.byteLength+65535)/65536;try{return Y.grow(l),J0(),1}catch{}};function Hi(n){n>>>=0;var i=ee.length,l=ki();if(n>l)return!1;for(var d=(E,D)=>E+(D-E%D)%D,b=1;b<=4;b*=2){var g=i*(1+.2/b);g=Math.min(g,n+100663296);var x=Math.min(l,d(Math.max(n,g),65536)),v=Bi(x);if(v)return!0}return!1}var jn=(n,i)=>{n<128?i.push(n):i.push(n%128|128,n>>7)},Li=n=>{for(var i={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},l={parameters:[],results:n[0]=="v"?[]:[i[n[0]]]},d=1;d<n.length;++d)l.parameters.push(i[n[d]]);return l},Fi=(n,i)=>{var l=n.slice(0,1),d=n.slice(1),b={i:127,p:127,j:126,f:125,d:124,e:111};i.push(96),jn(d.length,i);for(var g=0;g<d.length;++g)i.push(b[d[g]]);l=="v"?i.push(0):i.push(1,b[l])},Ji=(n,i)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(Li(i),n);var l=[1];Fi(i,l);var d=[0,97,115,109,1,0,0,0,1];jn(l.length,d),d.push(...l),d.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var b=new WebAssembly.Module(new Uint8Array(d)),g=new WebAssembly.Instance(b,{e:{f:n}}),x=g.exports.f;return x},Wi=(n,i)=>{if(Ft)for(var l=n;l<n+i;l++){var d=tt(l);d&&Ft.set(d,l)}},Ft,ji=n=>(Ft||(Ft=new WeakMap,Wi(0,Ke.length)),Ft.get(n)||0),xn=[],Gi=()=>{if(xn.length)return xn.pop();try{Ke.grow(1)}catch(n){throw n instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":n}return Ke.length-1},En=(n,i)=>Ke.set(n,i),w0=(n,i)=>{var l=ji(n);if(l)return l;var d=Gi();try{En(d,n)}catch(g){if(!(g instanceof TypeError))throw g;var b=Ji(n,i);En(d,b)}return Ft.set(n,d),d},N0=n=>{Ft.delete(tt(n)),En(n,null),xn.push(n)};S0=t.InternalError=class extends Error{constructor(i){super(i),this.name="InternalError"}},Br(),ut=t.BindingError=class extends Error{constructor(i){super(i),this.name="BindingError"}},Vr(),Z0(),Xr(),A0=t.UnboundTypeError=pt(Error,"UnboundTypeError"),Qr();var $i={i:v0,D:qt,n:Yt,C:kr,H:Lr,h:n0,g:Se,a:qr,G:nr,t:rn,e:nn,x:sn,c:an,j:un,f:ln,k:dn,w:c0,s:Sn,o:Cn,l:Fe,I:vi,F:Si,v:Ci,z:xi,b:_0,m:Ei,y:Mi,B:_i,u:Ii,q:Pi,A:Ri,p:wi,r:Ni,d:Oi,E:Hi},Pe=Nr(),Vi=()=>(Vi=Pe.K)(),Gn=n=>(Gn=Pe.L)(n),Dn=n=>(Dn=Pe.N)(n),nt=n=>(nt=Pe.O)(n),$n=n=>($n=Pe.P)(n);function Ui(n){n=Object.assign({},n);var i=d=>b=>d(b)>>>0,l=d=>()=>d()>>>0;return n.L=i(n.L),n.N=i(n.N),n._emscripten_stack_alloc=i(n._emscripten_stack_alloc),n.emscripten_stack_get_current=l(n.emscripten_stack_get_current),n}t.addFunction=w0,t.removeFunction=N0;var ir;Ze=function n(){ir||Vn(),ir||(Ze=n)};function Vn(){if(Ve>0||(W0(),Ve>0))return;function n(){ir||(ir=!0,t.calledRun=!0,!U&&(j0(),o(t),t.onRuntimeInitialized?.(),G0()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),n()},1)):n()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Vn(),r=a,r})}})(),fi=uo;var Dr=class{constructor(e,r,t,o,s){this.modelMmPerWorldM=t;this.minFeatureSize=o;this.wiggle=s;let a=o/t,c=s/t;this.gussets=e.createGussets(a*1e3),this.bridgeWidth=2*r.bridgeHalfWidth,this.roadwayWidth=2*$.DECK_HALF_WIDTH;let m=.75*a,p=m+a,S=r.designConditions.deckThickness,y=a,C=.6,_=.5,M=z.PANEL_SIZE_WORLD,R=z.PANEL_SIZE_WORLD,P=.3,w=.05,H=4,L=.5,N=1.1,k=.2/t,O=Math.sqrt(3)*C,B=Math.max(C,p+y),F=Math.max(C,_),Y=2/t,U=r.designConditions,ie=U.isArch?U.underClearance:0,q=-(O+ie),ee=q-H;if(U.isPier){let Fe=U.prescribedJoints[U.pierJointIndex].y;ee=Math.min(ee,Fe-H),this.pierTopZ=Fe-O,this.pierHeight=Fe-O-ee}else this.pierTopZ=this.pierHeight=0;this.abutmentShelfZ=q;let ye=-M-B,ke=B,Me=-F,te=F,Xe=-B,Vt=-C,J0=C,Ge=-m,$e=m,Ut=-p,b0=p,W0=-p-y,j0=p+y,G0=R-p-y-c,f0=R-p-c,g0=-$.ANCHOR_OFFSET,zt=g0-B,Ve=Math.max(g0+B,ye),Dt=-r.bridgeHalfWidth,Ze=r.bridgeHalfWidth,Pr=Dt-P,Rr=Ze+P,st=1.5*a,Kt=a,At=ee,Te=L+m-Kt+S,at=q,pe=-m,Mt=m-Kt,Xt=m,qe=L+m-Kt-st,Zt=L+m-Kt,wr=at-B,Nr=[0,0],Be=[Ut,Te],xe=[Xe,Te],Fn=[Xe,Zt],ct=[W0,Zt],Or=[W0,qe],$0=[Ut,qe],y0=[Ut,Mt],v0=[Ge,Mt],qt=[Ge,Xt],Ye=[$e,Xt],_t=[$e,Mt],Qe=[b0,Mt],et=[b0,qe],Ue=[j0,qe],It=[j0,Zt],S0=[G0,Zt],Pt=[G0,qe],ze=[f0,qe],Yt=[f0,Te],kr=[Ge,pe],Br=[$e,pe],He=[b0,Te],le=[0,Xt],ut=[Ge,0],K=[0,pe],Hr=[$e,0],_e=[0,Xt+c],Ie=[Ge-c,0],Lr=[0,pe-c],Fr=[$e+c,0],C0=[-C,pe],T0=[C,pe],V0=[-C,pe+k],Jr=[Ge-k,pe+k],U0=[$e+k,pe+k],z0=[C,pe+k],K0=[Ge+k,pe],Wr=[$e-k,pe],jr=[Vt,-O],Rt=[J0,-O],Qt=[Xe,Te],wt=[ye,Te],X0=[ye,At],Z0=[ke,At],lt=[ke,at],q0=[Xe,at],Gr=[Ve,at],e0=[zt,at],$r=[zt,wr],Nt=[Ve,Te],Vr=[0,Pr],t0=[te,Dt],dt=[te,Ze],Y0=[0,Rr],x0=[Me,Ze],Ur=[Me,Dt];this.abutment=[lt,q0,Qt,wt,X0,Z0],this.abutmentWithAnchorage=[lt,q0,Qt,Nt,Gr,e0,$r,X0,Z0],this.abutmentXOffset=-ye,this.abutmentWithAnchorageXOffset=-zt,this.anchorageX=g0;let E0=-r.bridgeHalfWidth+N,r0=0,Q0=r.bridgeHalfWidth-N,mt=At+Y,D0=at-N;if(D0-mt<r0-E0){let Fe=Math.max(0,D0-mt);E0=r0-Fe,Q0=r0+Fe}let zr=[E0,mt],Kr=[Q0,mt],Xr=[r0,D0];this.abutmentCutout=[zr,Kr,Xr],this.abutmentWidth=ke-ye,this.abutmentWithAnchorageWidth=ke-zt,this.deckBeamHalfWidth=p,this.deckPanelYOffset=.5*this.roadwayWidth,this.deckPanelZOffset=Te,this.deckPanelZipperX=f0,this.endDeckPanel=[Et(Be,-w),je(Be,w),xe,Fn,ct,Or,$0,y0,v0,qt,Ye,_t,Qe,et,Ue,It,S0,Pt,ze,Et(Yt,-w),je(Yt,-w),je(He,w),Et(He,-w),je(He,-w),je(Be,w)],this.endDeckPanelXOffset=B,this.pier=[Vr,t0,dt,Y0,x0,Ur],this.pierTaperX=2,this.pierXOffset=-this.pierTaperX*Me;let ht=-r.bridgeHalfWidth+N,Ot=0,er=r.bridgeHalfWidth-N,Ke=this.pierTopZ-N,tt=At+Y;if(Ke-tt<Ot-ht){let Fe=Math.max(0,Ke-tt);ht=Ot-Fe,er=Ot+Fe}let Zr=[ht,tt],tr=[er,tt],Ee=[Ot,Ke];this.pierCutout=[Zr,tr,Ee],this.pierWidth=ke-ye,this.pillow=[jr,Rt,Nr],this.pillowHeight=O,this.pillowXOffset=C,this.pin=[le,ut,K,Hr],this.pinHole=[Fr,Lr,Ie,_e],this.pinHoleSize=2*(m+c),this.pinMember=[kr,Br,Ye,qt],this.pinMemberXOffset=m,this.pinMemberYOffset=.5*this.bridgeWidth,this.pinMemberFoot=[[C0,K0,Jr,V0],[Wr,T0,z0,U0]],this.standardDeckPanel=[Et(Be,-w),y0,v0,qt,Ye,_t,Qe,et,Ue,It,S0,Pt,ze,Et(Yt,-w),je(Yt,-w),je(He,w),Et(He,-w),je(He,-w),je(Be,w)],this.standardDeckPanelXOffset=p,this.centerDeckBeam=[je(Be,w),Et(Be,-w),y0,v0,qt,Ye,_t,Qe,Et(He,-w),je(He,-w)],this.centerDeckBeamXOffset=p;let pt=4*a,A0=a,kt=a,rt=-1.5*pt-kt,n0=-.5*pt-kt,bt=-.5*pt,Bt=.5*pt,Ht=.5*pt+kt,i0=1.5*pt+kt,ft=-2*A0,Se=-A0,rr=[rt,Se],qr=[n0,Se],M0=[bt,Se],Le=[Bt,Se],_0=[Ht,Se],Yr=[i0,Se],Qr=[rt,0],ce=[bt,0],en=[Bt,0],nr=[i0,0],tn=[n0,ft],rn=[Ht,ft];this.zipper=[qr,tn,rn,_0,Yr,nr,en,Le,M0,ce,Qr,rr];let o0=[rt-c,Se-c],nn=[n0-c,Se-c],I0=[bt+c,Se+c],on=[Bt-c,Se+c],sn=[Ht+c,Se-c],an=[i0+c,Se-c],cn=[rt-c,1],un=[bt+c,1],ln=[Bt-c,1],dn=[i0+c,1],mn=[n0-c,ft-2*c],hn=[Ht+c,ft-2*c];this.zipperHole=[nn,mn,hn,sn,an,dn,ln,on,I0,un,cn,o0],this.zipperThickness=a;let P0=.5*a,R0=8*a,s0=-P0,a0=P0,c0=-R0,Lt=R0,pn=[s0,c0],bn=[a0,c0],fn=[a0,Lt],gn=[s0,Lt];this.tab=[pn,bn,fn,gn];let yn=[s0-c,c0-c],vn=[a0+c,c0-c],Sn=[a0+c,Lt+c],Cn=[s0-c,Lt+c];this.tabHole=[yn,vn,Sn,Cn],this.tabThickness=2*P0}bridgeWidth;roadwayWidth;abutment;abutmentCutout;abutmentShelfZ;abutmentWidth;abutmentWithAnchorage;abutmentWithAnchorageWidth;abutmentWithAnchorageXOffset;abutmentXOffset;anchorageX;centerDeckBeam;centerDeckBeamXOffset;deckBeamHalfWidth;deckPanelYOffset;deckPanelZipperX;deckPanelZOffset;endDeckPanel;endDeckPanelXOffset;gussets;pier;pierCutout;pierHeight;pierTaperX;pierTopZ;pierWidth;pierXOffset;pillow;pillowHeight;pillowXOffset;pin;pinHole;pinHoleSize;pinMember;pinMemberFoot;pinMemberXOffset;pinMemberYOffset;standardDeckPanel;standardDeckPanelXOffset;tab;tabHole;tabThickness;zipper;zipperHole;zipperThickness};function je(u,e){return[e+u[0],u[1]]}function Et(u,e){return[u[0],e+u[1]]}var Ar=class u{pts=[];orderedPts=new ot;add(e,r){this.addPoint(new Z(e,r))}addPoint(e){this.pts.push(e)}clear(){this.pts.length=0,this.orderedPts.clear()}createHull(e=[]){if(this.orderedPts.clear(),e.length=0,this.pts.length<=2)return e.push(...this.pts),e;this.pts.sort((c,m)=>c.x-m.x||c.y-m.y);let r=this.pts[0],t=this.pts[this.pts.length-1],o=t.x-r.x,s=t.y-r.y;for(let c of this.pts){if(c===t){this.orderedPts.pushLeft(c);continue}let m=c.x-r.x,p=c.y-r.y;o*p-s*m>0?this.orderedPts.pushLeft(c):this.orderedPts.pushRight(c)}for(let c of this.orderedPts)a(c),e.push(c);return a(this.orderedPts.peekLeft()),e;function a(c){for(;e.length>=2;){let m=e[e.length-1],p=e[e.length-2];if((m.x-p.x)*(c.y-m.y)-(m.y-p.y)*(c.x-m.x)>0)break;e.pop()}}}static \u0275fac=function(r){return new(r||u)};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};function gi(u,e,r){let t=e.getOtherJoint(u),o=t.x-u.x,s=t.y-u.y,a=5e-4*Math.max(r,e.materialSizeMm)+$.GUSSET_THICKNESS,c=a/Math.hypot(o,s),m=o*c,p=s*c,S=-p,y=m,C=-m,_=-p,M=m,R=p,P=o-m,w=s-p;return{x0:C,y0:_,x1:M,y1:R,x2:P,y2:w,ux:m,uy:p,upx:S,upy:y,halfSizeM:a}}var Mr=class u{constructor(e,r){this.bridgeService=e;this.convexHullService=r}createGussets(e=0){let r=this.bridgeService.bridge.joints.map(t=>({joint:t,memberGeometries:[],hull:[],halfDepthM:0}));for(let t of this.bridgeService.bridge.members)r[t.a.index].memberGeometries.push(gi(t.a,t,e)),r[t.b.index].memberGeometries.push(gi(t.b,t,e));for(let t of r){this.convexHullService.clear();for(let o of t.memberGeometries){o.halfSizeM>t.halfDepthM&&(t.halfDepthM=o.halfSizeM),this.convexHullService.add(o.x0+o.upx,o.y0+o.upy),this.convexHullService.add(o.x0-o.upx,o.y0-o.upy),this.convexHullService.add(o.x1+o.upx,o.y1+o.upy),this.convexHullService.add(o.x1-o.upx,o.y1-o.upy);for(let s of t.memberGeometries){if(o===s)continue;let a=he.getSegmentsIntersection(o.x0+o.upx,o.y0+o.upy,o.x2+o.upx,o.y2+o.upy,s.x0-s.upx,s.y0-s.upy,s.x2-s.upx,s.y2-s.upy);a&&(this.convexHullService.addPoint(a),this.convexHullService.add(a.x-o.upx*2,a.y-o.upy*2),this.convexHullService.add(a.x+s.upx*2,a.y+s.upy*2))}}this.convexHullService.createHull(t.hull),delete t.memberGeometries}return this.convexHullService.clear(),r}static \u0275fac=function(r){return new(r||u)(G(ve),G(Ar))};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};var Oe=.001,Ir=class u{constructor(e,r){this.bridgeService=e;this.gussetsService=r}_manifoldClass;initialize(){return Ce(this,null,function*(){if(this._manifoldClass)return;let e=yield fi({locateFile:()=>"wasm/manifold.wasm"});e.setup(),bi(e),this._manifoldClass=e.Manifold})}getGeometry(e,r,t){return new Dr(this.gussetsService,this.bridgeService,e,r,t)}get isPier(){return this.bridgeService.designConditions.isPier}get isLeftAnchorage(){return this.bridgeService.designConditions.isLeftAnchorage}get isRightAnchorage(){return this.bridgeService.designConditions.isRightAnchorage}get deckPanelCount(){return this.bridgeService.designConditions.panelCount}*crossMemberJointsIterator(){for(let e of this.bridgeService.bridge.joints)ve.isJointClearOfRoadway(e)&&(yield e)}*deckPanelJointsIterator(){let e=this.bridgeService.designConditions.loadedJointCount,r=this.bridgeService.bridge.joints;for(let t=0;t<e;++t)yield r[t]}buildTruss(e,r){let t,o=p=>{t=t?t.add(p):p},s=e.modelMmPerWorldM,a=e.pinHoleSize*s,c=.5*a;for(let p of this.bridgeService.bridge.members){let S=Math.max(s*p.materialSizeMm*.001,e.minFeatureSize+2*e.wiggle),y=S*.5,[C,_]=_r(r,p.a.x,p.a.y),[M,R]=_r(r,p.b.x,p.b.y),P=M-C,w=R-_,H=Math.hypot(P,w);P/=H,w/=H;let L=C+c*P+y*w,N=_+c*w-y*P,k=[P,w,0,0,-w,P,0,0,0,0,1,0,L,N,0,1];o(this.manifoldClass.cube([H-a,S,S]).transform(k))}let m=e.pinHole.map(p=>[s*p[0],s*p[1]]);for(let p of this.gussetsService.createGussets(e.pinHoleSize*1100)){let S=p.hull.map(M=>_r(r,M.x,M.y,0));ho(r)&&S.reverse();let[y,C]=_r(r,p.joint.x,p.joint.y),_=ve.isJointClearOfRoadway(p.joint)?[S,m]:[S];o(this.manifoldClass.extrude(_,s*p.halfDepthM*2).translate(y,C,0))}return t}buildAbutment(e,r){let o=this.extrudeCentered(e.tab,2*e.tabThickness).translate(e.abutmentXOffset,0,e.abutmentShelfZ),s=this.manifoldClass.extrude(e.abutmentCutout,e.abutmentWidth+2*Oe).rotate(90,0,90).translate(-Oe,0,0),a=e.bridgeWidth;return this.extrudeCentered(e.abutment,a).translate(e.abutmentXOffset,0,0).rotate(90,0,0).subtract(s).add(o).scale(e.modelMmPerWorldM).translate(r,0,0)}buildAbutmentWithAnchorage(e,r){let t=this.extrudeCentered(e.tab,2*e.tabThickness),o=t.translate(e.abutmentWithAnchorageXOffset,0,e.abutmentShelfZ),s=t.translate(e.anchorageX+e.abutmentWithAnchorageXOffset,0,e.abutmentShelfZ),a=this.manifoldClass.extrude(e.abutmentCutout,e.abutmentWithAnchorageWidth+2*Oe).rotate(90,0,90).translate(-Oe,0,0),c=e.bridgeWidth;return this.extrudeCentered(e.abutmentWithAnchorage,c).translate(e.abutmentWithAnchorageXOffset,0,0).rotate(90,0,0).subtract(a).add(o).add(s).scale(e.modelMmPerWorldM).translate(r,0,0)}buildPier(e,r){let t=this.extrudeCentered(e.tab,2*e.tabThickness).translate(e.pierXOffset,0,e.pierTopZ),o=this.manifoldClass.extrude(e.pierCutout,e.pierWidth+2*Oe).rotate(90,0,90).translate(-Oe,0,0);return this.manifoldClass.extrude(e.pier,e.pierHeight,void 0,void 0,[e.pierTaperX,1.2]).rotate(180,0,0).translate(e.pierXOffset,0,e.pierTopZ).subtract(o).add(t).scale(e.modelMmPerWorldM).translate(r,0,0)}buildCrossMember(e,r,t,o){return this.isPillowJoint(r)?this.buildPinMember(e,!0).add(this.buildPillow(e)).translate(e.pillowXOffset,e.pinMemberYOffset,e.pinMemberXOffset).scale(e.modelMmPerWorldM).translate(t,o,0):this.buildPinMember(e).translate(e.pinMemberXOffset,e.pinMemberYOffset,e.pinMemberXOffset).scale(e.modelMmPerWorldM).translate(t,o,0)}buildDeckPanel(e,r,t,o){let s=r.index,a=this.bridgeService.designConditions.panelCount;return(s===0||s===a?this.buildEndPanel(e):s===a>>>1?this.buildCenterBeam(e):this.buildStandardPanel(e)).scale(e.modelMmPerWorldM).translate(t,o,0)}buildStandardPanel(e){let r=this.manifoldClass.extrude(e.zipper,e.zipperThickness).rotate(0,90,0),t=this.manifoldClass.extrude(e.zipperHole,e.zipperThickness).rotate(0,90,0),o=e.deckPanelZOffset-Oe;return this.extrudeCentered(e.standardDeckPanel,e.roadwayWidth).add(r.translate(e.deckPanelZipperX,o,0)).subtract(t.translate(-e.deckBeamHalfWidth-Oe,o)).rotate(-90,0,0).translate(e.standardDeckPanelXOffset,e.deckPanelYOffset,e.deckPanelZOffset)}buildCenterBeam(e){let r=this.manifoldClass.extrude(e.zipperHole,e.zipperThickness).rotate(0,90,0),t=e.deckPanelZOffset+Oe;return this.extrudeCentered(e.centerDeckBeam,e.roadwayWidth).subtract(r.translate(-e.deckBeamHalfWidth-Oe,t)).subtract(r.translate(e.deckBeamHalfWidth-e.zipperThickness+Oe,t)).rotate(-90,0,0).translate(e.centerDeckBeamXOffset,e.deckPanelYOffset,e.deckPanelZOffset)}buildEndPanel(e){let r=this.manifoldClass.extrude(e.zipper,e.zipperThickness).rotate(0,90,0),t=e.deckPanelZOffset+Oe;return this.extrudeCentered(e.endDeckPanel,e.roadwayWidth).add(r.translate(e.deckPanelZipperX,t,0)).rotate(-90,0,0).translate(e.endDeckPanelXOffset,e.deckPanelYOffset,e.deckPanelZOffset)}buildPinMember(e,r){let t=this.extrudeCentered(e.pin,e.bridgeWidth),o=this.extrudeCentered(e.pinMember,e.roadwayWidth);return r&&(o=o.add(this.extrudeCentered(e.pinMemberFoot,e.roadwayWidth))),o.add(t).rotate(90,0,0)}buildPillow(e){let r=this.extrudeCentered(e.pillow,e.roadwayWidth),t=this.extrudeCentered(e.tabHole,2*e.tabThickness).rotate(-90,0,0).translate(0,-e.pillowHeight,0);return r.subtract(t).rotate(-90,0,0)}isPillowJoint(e){let r=this.bridgeService.designConditions;return r.abutmentJointIndices.findIndex(t=>e.index===t)>=0||e.index===r.leftAnchorageJointIndex||e.index===r.rightAnchorageJointIndex}extrudeCentered(e,r){return this.manifoldClass.extrude(e,r,void 0,void 0,void 0,!0)}get manifoldClass(){return j.assertNotUndefined(this._manifoldClass)}static \u0275fac=function(r){return new(r||u)(G(ve),G(Mr))};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};function ho(u){return u[0]*u[3]<u[1]*u[2]}function _r(u,e,r,t=1){return[u[0]*e+u[2]*r+u[4]*t,u[1]*e+u[3]*r+u[5]*t]}var Ln=class u{constructor(e=0,r="<none>",t=0,o="<none>",s=0,a="<none>"){this.printWidth=e;this.maxWidthPart=r;this.printDepth=t;this.maxDepthPart=o;this.printHeight=s;this.maxHeightPart=a}mergeManifold(e,r){let t=e.boundingBox();this.mergeWidth(t.max[0]-t.min[0],r),this.mergeDepth(t.max[1]-t.min[1],r),this.mergeHeight(t.max[2]-t.min[2],r)}applyScale(e){return new u(this.printWidth*e,this.maxWidthPart,this.printDepth*e,this.maxDepthPart,this.printHeight*e,this.maxHeightPart)}mergeWidth(e,r){e>this.printWidth&&(this.printWidth=e,this.maxWidthPart=r)}mergeDepth(e,r){e>this.printDepth&&(this.printDepth=e,this.maxDepthPart=r)}mergeHeight(e,r){e>this.printHeight&&(this.printHeight=e,this.maxHeightPart=r)}},F0=class{normalIndices={};baseVertexIndex=0;nextNormalIndex=0},yi=class u{constructor(e){this.print3dModelService=e}getUnscaledModelInfo(){return Ce(this,null,function*(){yield this.print3dModelService.initialize();let e=1,r=this.print3dModelService.getGeometry(1,1,0),t=this.print3dModelService.buildTruss(r,[e,0,0,e,0,0]),o=new Ln;o.mergeManifold(t,"truss");let s=this.print3dModelService.buildAbutment(r,0);if(o.mergeManifold(s,"abutment"),this.print3dModelService.isPier){let a=this.print3dModelService.buildPier(r,0);o.mergeManifold(a,"pier")}return Hn(),Promise.resolve(o)})}emit3dPrint(e,r,t,o){return Ce(this,null,function*(){yield this.print3dModelService.initialize();let s=this.print3dModelService.getGeometry(e,r,t),a=[],c=new F0,m=this.print3dModelService.buildTruss(s,[e,0,0,e,0,0]);this.saveMeshAndFree(m,"FrontTruss",a,c);let p=m.boundingBox(),S=p.max[0]-p.min[0],y=p.max[1]-p.min[1],C=S>y?[e,0,0,-e,0,2*p.min[1]-r]:[e,0,0,-e,S+r,p.min[1]],_=this.print3dModelService.buildTruss(s,C);this.saveMeshAndFree(_,"RearTruss",a,c),this.downloadObjFileText(a,o,"trusses");let M=.5,R=0,P=ie=>{let q=ie.boundingBox();return R+=q.max[0]-q.min[0]+M},w=[],H=new F0,L=this.print3dModelService.isLeftAnchorage?this.print3dModelService.buildAbutmentWithAnchorage(s,R):this.print3dModelService.buildAbutment(s,R);P(L),this.saveMeshAndFree(L,"LeftAbutment",w,H);let N=this.print3dModelService.isRightAnchorage?this.print3dModelService.buildAbutmentWithAnchorage(s,R):this.print3dModelService.buildAbutment(s,R);if(P(N),this.saveMeshAndFree(N,"RightAbutment",w,H),this.print3dModelService.isPier){let ie=this.print3dModelService.buildPier(s,R);P(ie),this.saveMeshAndFree(ie,"Pier",w,H)}this.downloadObjFileText(w,o,"abutments");let k=[],O=new F0;R=0;let B=0,F=this.print3dModelService.crossMemberJointsIterator();for(let ie=F.next();!ie.done;ie=F.next()){let q=ie.value,ee=this.print3dModelService.buildCrossMember(s,ie.value,R,B);P(ee),this.saveMeshAndFree(ee,`CrossMember_${q.number}`,k,O)}R=0,B+=s.modelMmPerWorldM*s.bridgeWidth+M;let Y=this.print3dModelService.deckPanelJointsIterator(),U=this.print3dModelService.deckPanelCount>>>1;for(let ie=Y.next();!ie.done;ie=Y.next()){let q=ie.value,ee=this.print3dModelService.buildDeckPanel(s,q,R,B);q.index===U?(R=0,B+=s.modelMmPerWorldM*s.roadwayWidth+M):P(ee),this.saveMeshAndFree(ee,`DeckPanel_${q.number}`,k,O)}this.downloadObjFileText(k,o,"cross-members")})}get abutmentsFileContents(){let e=["abutments"];switch(this.print3dModelService.isPier&&e.push("pier"),+this.print3dModelService.isLeftAnchorage+ +this.print3dModelService.isRightAnchorage){case 0:break;case 1:e.push("anchorage");break;case 2:e.push("anchorages");break}return e.join(", ")}get crossMembersFileContents(){return"cross-members, deck panels"}get trussesFileContents(){return"trusses"}saveMeshAndFree(e,r,t,o){t.push(...this.getObjText(o,r,e.getMesh())),Hn()}getObjText(e,r,t){let o=t.vertProperties,s=[`o ${r}
`];for(let c=0;c<o.length;c+=3)s.push(`v ${p0(o[c])} ${p0(o[c+1])} ${p0(o[c+2])}
`);let a=t.triVerts;for(let c=0;c<a.length;c+=3){let m=a[c],p=a[c+1],S=a[c+2],y=fo(o,m,p,S),C=bo(y),_=e.normalIndices[C];_===void 0&&(s.push(`vn ${C}
`),e.normalIndices[C]=_=e.nextNormalIndex++);let M=1+_,R=1+e.baseVertexIndex;s.push(`f ${R+m}//${M} ${R+p}//${M} ${R+S}//${M}
`)}return e.baseVertexIndex+=o.length/3,s}downloadObjFileText(e,r,t){let o=new Blob(e,{type:"model/obj"}),s=window.document.createElement("a"),a=window.URL.createObjectURL(o);s.href=a,r.length>0&&t.length>0&&(r+="-"),r+=t,r+=".obj",s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(s.href)}static \u0275fac=function(r){return new(r||u)(G(Ir))};static \u0275prov=V({token:u,factory:u.\u0275fac,providedIn:"root"})};function bo(u){return`${p0(u[0])} ${p0(u[1])} ${p0(u[2])}`}function p0(u){return u.toPrecision(6).replace(/\.0*$|(\.\d*[1-9])0*$/,"$1")}function fo(u,e,r,t){let o=u.slice(e*3),s=u.slice(r*3),a=u.slice(t*3),c=0,m=0,p=0;c+=(o[1]-s[1])*(o[2]+s[2]),m+=(o[2]-s[2])*(o[0]+s[0]),p+=(o[0]-s[0])*(o[1]+s[1]),c+=(s[1]-a[1])*(s[2]+a[2]),m+=(s[2]-a[2])*(s[0]+a[0]),p+=(s[0]-a[0])*(s[1]+a[1]),c+=(a[1]-o[1])*(a[2]+o[2]),m+=(a[2]-o[2])*(a[0]+o[0]),p+=(a[0]-o[0])*(a[1]+o[1]);let S=Math.hypot(c,m,p);return[c/S,m/S,p/S]}export{Ne as a,Yn as b,Z as c,Qn as d,vt as e,he as f,ei as g,de as h,$ as i,z as j,we as k,Jt as l,Re as m,fe as n,jt as o,ne as p,Tt as q,Gt as r,$t as s,xt as t,h0 as u,Sr as v,Xn as w,gt as x,li as y,Nn as z,ve as A,Tr as B,d0 as C,yt as D,cr as E,ur as F,lr as G,dr as H,mr as I,hr as J,pr as K,L0 as L,pi as M,W1 as N,Ar as O,Mr as P,Ln as Q,yi as R};
